!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){n(6),n(5),e.exports=n(2)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handler=r.handler.bind(r),r}return r(t,e),i(t,[{key:"handler",value:function(e){e.preventDefault(),this.props.refreshEv&&this.props.refreshEv()}},{key:"render",value:function(){return React.createElement("a",{id:"refreshBtn",className:"refresh-btn",onClick:this.handler},React.createElement("i",{className:"glyphicon glyphicon-refresh"}),"刷新")}}]),t}(React.Component);t.default=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(3),i=a(r);ReactDOM.render(React.createElement(i.default,null),document.getElementById("main-holder"))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(4),s=a(c),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={res:null},n}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this,t=H.server;localStorage.navigate?this.setState({res:JSON.parse(localStorage.navigate)}):t.user_navigate({},function(t){0==t.code?(e.setState({res:t.data}),localStorage.navigate=JSON.stringify(t.data)):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",{className:"section-top-navbar navbar navbar-default"},React.createElement("a",{className:"toggle-left-sidebar",href:"#"},React.createElement("img",{src:"/images/logo.png",alt:"logo"})),React.createElement("div",{className:"navbar-header",style:{width:"auto"}},React.createElement("a",{className:"nav-brand"},"找冻品网OA系统—权限设置"))),React.createElement("div",{className:"container-fluid"},React.createElement(s.default,null)))}}]),t}(React.Component);t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:[],oneNav:[],twoNav:[],infoPanel:{infoPanelIsShow:!1,infoPanelTitle:"",status:1},infoItem:{parent_id:1,privilege_name:"",privilege_tag:"",navigate_rank:0,route:"",remark:""}},n.getDataList=n.getDataList.bind(n),n.createDom=n.createDom.bind(n),n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.getDataList()}},{key:"getDataList",value:function(){var e=this;H.server.privilege_list({},function(t){if(0==t.code){var n=t.data.navigates,a=[],r=[],i=Object.keys(n[1])[0],o=!0,l=!1,c=void 0;try{for(var s,u=Object.keys(n[1])[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var d=s.value;a.push(n[1][d])}}catch(e){l=!0,c=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw c}}if(n[2][i]){var m=!0,f=!1,p=void 0;try{for(var h,v=Object.keys(n[2][i])[Symbol.iterator]();!(m=(h=v.next()).done);m=!0){var g=h.value;r.push(n[2][i][g])}}catch(e){f=!0,p=e}finally{try{!m&&v.return&&v.return()}finally{if(f)throw p}}}e.setState({data:t.data,oneNav:a,twoNav:r})}else 10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"hideInfoPanel",value:function(){this.setState({infoPanel:{infoPanelIsShow:!1,infoPanelTitle:"",status:1}})}},{key:"createDom",value:function(){var e=this.state.data.navigates,t=this.state.data.execute_privilege,n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[1][Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value,s=c.id;if(n.push(React.createElement("tr",{key:"hr_"+s,className:"hr-tr"},React.createElement("td",{colSpan:"4"}))),n.push(React.createElement("tr",{key:s,className:"one"},React.createElement("td",null,c.id),React.createElement("td",null,c.name),React.createElement("td",null,c.privilege_tag),React.createElement("td",null,React.createElement("a",{onClick:this.modifyPrivilege.bind(this,c.id)},"修改")))),e[2]&&e[2][s]){var u=!0,d=!1,m=void 0;try{for(var f,p=e[2][s][Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value,v=h.id;if(n.push(React.createElement("tr",{key:s+"_"+v,className:"two"},React.createElement("td",null,h.id),React.createElement("td",null,h.name),React.createElement("td",null,h.privilege_tag),React.createElement("td",null,React.createElement("a",{onClick:this.modifyPrivilege.bind(this,h.id)},"修改")))),""!=t&&t[s]&&t[s][v]){var g=!0,y=!1,b=void 0;try{for(var _,E=t[s][v][Symbol.iterator]();!(g=(_=E.next()).done);g=!0){var R=_.value,k=R.id;n.push(React.createElement("tr",{key:s+"_"+v+"_"+k},React.createElement("td",null,R.id),React.createElement("td",null,R.name),React.createElement("td",null,R.privilege_tag),React.createElement("td",null,React.createElement("a",{onClick:this.modifyPrivilege.bind(this,R.id)},"修改"))))}}catch(e){y=!0,b=e}finally{try{!g&&E.return&&E.return()}finally{if(y)throw b}}}}}catch(e){d=!0,m=e}finally{try{!u&&p.return&&p.return()}finally{if(d)throw m}}}}}catch(e){r=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw i}}return n}},{key:"addPrivilege",value:function(){this.setState({infoPanel:{infoPanelIsShow:!0,infoPanelTitle:"添加权限",status:1}})}},{key:"addOnePrivilege",value:function(){var e={parent_id:0,privilege_name:$("#one_username").val(),privilege_tag:$("#one_tag").val(),navigate_rank:1,route:$("#one_route").val(),remark:$("#one_remark").val()};H.server.privilege_add(e,function(e){0==e.code?($("#one_username").val(""),$("#one_tag").val(""),$("#one_route").val(""),$("#one_remark").val(""),H.Modal(e.message)):10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"addTwoPrivilege",value:function(){var e={parent_id:$("#two_parent").val(),privilege_name:$("#two_username").val(),privilege_tag:$("#two_tag").val(),navigate_rank:2,route:$("#two_route").val(),remark:$("#two_remark").val()};H.server.privilege_add(e,function(e){0==e.code?($("#two_username").val(""),$("#two_tag").val(""),$("#two_route").val(""),$("#two_remark").val(""),H.Modal(e.message)):10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"addRankPrivilege",value:function(){var e={parent_id:$("#rank_tow_parent").val(),privilege_name:$("#rank_username").val(),privilege_tag:$("#rank_tag").val(),navigate_rank:0,route:$("#rank_route").val(),remark:$("#rank_remark").val()};H.server.privilege_add(e,function(e){0==e.code?($("#rank_username").val(""),$("#rank_tag").val(""),$("#rank_route").val(""),$("#rank_remark").val(""),H.Modal(e.message)):10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"modifyPrivilege",value:function(e){var t=this;H.server.privilege_info({id:e},function(n){if(0==n.code){var a=n.data;a.id=e,t.setState({infoItem:a,infoPanel:{infoPanelIsShow:!0,infoPanelTitle:"修改权限",status:2}})}else 10106==n.code?H.overdue():H.Modal(n.message)})}},{key:"oneSelChange",value:function(e){var t=e.target.value,n=this.state.data.navigates,a=[],r=!0,i=!1,o=void 0;try{for(var l,c=Object.keys(n[2][t])[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var s=l.value;a.push(n[2][t][s])}}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}this.setState({twoNav:a})}},{key:"privilegeNameChange",value:function(e){var t=this.state.infoItem;t.privilege_name=e.target.value,this.setState({infoItem:t})}},{key:"urlChange",value:function(e){var t=this.state.infoItem;t.url=e.target.value,this.setState({infoItem:t})}},{key:"modifyPrivilegeCommit",value:function(){var e={id:this.state.infoItem.id,privilege_name:this.state.infoItem.privilege_name,route:this.state.infoItem.url,remark:$("#modify_remark").val()};H.server.privilege_update(e,function(e){0==e.code?H.Modal(e.message):10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"privilegeStatusUpdate",value:function(e){var t=this,n={id:this.state.infoItem.id,status:e};H.server.privilege_status_update(n,function(n){if(0==n.code){var a=t.state.infoItem;a.status=e,t.setState({infoItem:a}),H.Modal(n.message)}else 10106==n.code?H.overdue():H.Modal(n.message)})}},{key:"render",value:function(){var e="",t=1==this.state.infoPanel.status?"550px":"400px";return 1==this.state.infoPanel.status?e=React.createElement("div",{className:"info-main-w",style:{height:"490px"}},React.createElement("div",{className:"infoPanel-form privilege-infoPanel"},React.createElement("div",{className:"item"},React.createElement("label",null),"添加一级菜单"),React.createElement("div",{className:"item"},React.createElement("label",null,"名称："),React.createElement("input",{id:"one_username",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"代号："),React.createElement("input",{id:"one_tag",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"路由："),React.createElement("input",{id:"one_route",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"备注："),React.createElement("textarea",{id:"one_remark"})),React.createElement("div",{className:"item"},React.createElement("label",null),React.createElement("input",{type:"button",value:"保存",onClick:this.addOnePrivilege.bind(this)}))),React.createElement("div",{className:"infoPanel-form privilege-infoPanel"},React.createElement("div",{className:"item"},React.createElement("label",null),"添加二级菜单"),React.createElement("div",{className:"item"},React.createElement("label",null,"一级菜单："),React.createElement("select",{id:"two_parent",className:"form-control"},this.state.oneNav.map(function(e,t){return React.createElement("option",{value:e.id,key:t},e.name)}))),React.createElement("div",{className:"item"},React.createElement("label",null,"名称："),React.createElement("input",{id:"two_username",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"代号："),React.createElement("input",{id:"two_tag",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"路由："),React.createElement("input",{id:"two_route",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"备注："),React.createElement("textarea",{id:"two_remark"})),React.createElement("div",{className:"item"},React.createElement("label",null),React.createElement("input",{type:"button",value:"保存",onClick:this.addTwoPrivilege.bind(this)}))),React.createElement("div",{className:"infoPanel-form privilege-infoPanel"},React.createElement("div",{className:"item"},React.createElement("label",null),"添加功能"),React.createElement("div",{className:"item"},React.createElement("label",null,"一级菜单："),React.createElement("select",{id:"rank_one_parent",className:"form-control",onChange:this.oneSelChange.bind(this)},this.state.oneNav.map(function(e,t){return React.createElement("option",{value:e.id,key:t},e.name)}))),React.createElement("div",{className:"item"},React.createElement("label",null,"二级菜单："),React.createElement("select",{id:"rank_tow_parent",className:"form-control"},this.state.twoNav.map(function(e,t){return React.createElement("option",{value:e.id,key:t},e.name)}))),React.createElement("div",{className:"item"},React.createElement("label",null,"名称："),React.createElement("input",{id:"rank_username",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"代号："),React.createElement("input",{id:"rank_tag",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"路由："),React.createElement("input",{id:"rank_route",type:"text"})),React.createElement("div",{className:"item"},React.createElement("label",null,"备注："),React.createElement("textarea",{id:"rank_remark"})),React.createElement("div",{className:"item"},React.createElement("label",null),React.createElement("input",{type:"button",value:"保存",onClick:this.addRankPrivilege.bind(this)})))):2==this.state.infoPanel.status&&(e=React.createElement("div",{className:"info-main-w"},React.createElement("div",{className:"infoPanel-form"},React.createElement("div",{className:"item"},React.createElement("label",null,"名称："),React.createElement("input",{type:"text",value:this.state.infoItem.privilege_name,onChange:this.privilegeNameChange.bind(this)})),React.createElement("div",{className:"item"},React.createElement("label",null,"代号："),React.createElement("input",{type:"text",value:this.state.infoItem.privilege_tag,disabled:!0})),React.createElement("div",{className:"item"},React.createElement("label",null,"路由："),React.createElement("input",{type:"text",value:this.state.infoItem.url,onChange:this.urlChange.bind(this)})),React.createElement("div",{className:"item"},React.createElement("label",null,"备注："),React.createElement("textarea",{id:"modify_remark",defaultValue:this.state.infoItem.remark})),React.createElement("div",{className:"item"},React.createElement("label",null),React.createElement("input",{type:"button",value:"保存",onClick:this.modifyPrivilegeCommit.bind(this)}),1==this.state.infoItem.status?React.createElement("button",{style:{padding:"6px 12px",backgroundColor:"red",marginLeft:"10px",border:"none"},onClick:this.privilegeStatusUpdate.bind(this,2)},"停用"):React.createElement("button",{style:{padding:"6px 12px",backgroundColor:"#38b7f6",marginLeft:"10px",border:"none"},onClick:this.privilegeStatusUpdate.bind(this,1)},"启用"))))),React.createElement("div",{className:"section-warp"},React.createElement("div",{className:"section-filter"},React.createElement(s.default,{refreshEv:this.getDataList}),React.createElement("form",{className:"form-inline"},React.createElement("div",{className:"filter-row"},React.createElement("btn",{className:"btn btn-lg",onClick:this.addPrivilege.bind(this)},"添加")))),React.createElement("div",{className:"section-table privilege-table"},React.createElement("table",{className:"table table-bordered table-hover table-responsive"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"ID"),React.createElement("th",null,"名称"),React.createElement("th",null,"代号"),React.createElement("th",null,"操作"))),React.createElement("tbody",null,0==this.state.data.length?"":this.createDom()))),React.createElement("div",{className:"section-tr-info",style:{height:this.state.infoPanel.infoPanelIsShow?t:""}},React.createElement("i",{className:"info-close-btn",title:"点击隐藏弹出层",onClick:this.hideInfoPanel.bind(this)},"close"),React.createElement("div",{className:"info-w"},React.createElement("h3",{className:"info-title"},this.state.infoPanel.infoPanelTitle),e)))}}]),t}(React.Component);t.default=u},function(e,t){"use strict";!function(){var e=H.namespace("server"),t="",n=function(e,n,a,r,i){"function"==typeof r||(r=function(){});var o=i?{"Cache-Control":"no-cache",Accept:"application/json","Content-Type":i}:{"Cache-Control":"no-cache",Accept:"application/json"},l=$.ajax({url:n+"?r="+Math.random(),data:a,type:e,dataType:"json",async:!0,cache:!1,headers:o,timeout:3e5,success:function(e,t,n){r.call(this,e,t,n)},error:function(e,n,a){if(401==e.status)location.href=t;else{if(!a)return!1;var i={101:"网络不稳定或不畅通，请检查网络设置",403:"服务器禁止此操作！",500:"服务器遭遇异常阻止了当前请求的执行<br/><br/><br/>"},o=null;switch(n){case"timeout":o="网络连接超时，请检查网络是否畅通！";break;case"error":if(i[e.status]){var l=null;try{l=jQuery.parseJSON(e.responseText)}catch(e){}o=l&&l.message?l.message:i[e.status]}else o="服务器响应异常<br/><br/>"+(0==e.status?"":e.status)+"&nbsp;"+a;break;case"abort":o=null;break;case"parsererror":o="数据解析错误！";break;default:o="出现错误:"+n+"！"}null==a.code||null==a.message||i[a.code]||(o+="</br>[code:"+a.code+"][message:"+a.message+"]"+(null==a.stack?"":a.stack)),null==o&&(o=""),r.call(this,{code:e.status,message:o},n,e,a)}}});return l};e.login=function(e,a){return n("post",t+"/user/login",e,a)},e.logout=function(e,a){return n("post",t+"/user/logout",e,a)},e.user_navigate=function(e,a){return n("get",t+"/user/navigate",e,a)},e.user_info=function(e,a){return n("get",t+"/user/info",e,a)},e.user_list=function(e,a){return n("get",t+"/user/list",e,a)},e.user_info_update=function(e,a){return n("post",t+"/user/info/update",e,a)},e.user_add=function(e,a){return n("post",t+"/user/add",e,a)},e.user_status_update=function(e,a){return n("post",t+"/user/status/update",e,a)},e.user_privilege=function(e,a){return n("get",t+"/user/privilege",e,a)},e.user_privilege_update=function(e,a){return n("post",t+"/user/privilege/update",e,a)},e.department_list=function(e,a){return n("get",t+"/department/list",e,a)},e.department_add=function(e,a){return n("post",t+"/department/add",e,a)},e.department_info_update=function(e,a){return n("post",t+"/department/info/update",e,a)},e.department_status_update=function(e,a){return n("post",t+"/department/status/update",e,a)},e.shop_type_list=function(e,a){return n("get",t+"/shop/type/list",e,a)},e.other_area_list=function(e,a){return n("get",t+"/other/area/list",e,a)},e.other_customArea_list=function(e,a){return n("get",t+"/other/custom-area/list",e,a)},e.privilege_list=function(e,a){return n("get",t+"/privilege/list",e,a)},e.privilege_add=function(e,a){return n("post",t+"/privilege/add",e,a)},e.privilege_update=function(e,a){return n("post",t+"/privilege/update",e,a)},e.privilege_info=function(e,a){return n("get",t+"/privilege/info",e,a)},e.privilege_status_update=function(e,a){return n("post",t+"/privilege/status/update",e,a)},e.version_log_add=function(e,a){return n("post",t+"/permissions/version/log/add",e,a)},e.version_log_list=function(e,a){return n("get",t+"/permissions/version/log/list",e,a)},e.version_log_update=function(e,a){return n("post",t+"/permissions/version/log/update",e,a)}}()},function(e,t,n){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,a){"object"===t(e)&&"object"===t(e.exports)?e.exports=n.document?a(n,!0):function(e){if(!e.document)throw new Error("I required a window with a document");return a(e)}:a(n)}("undefined"!=typeof window?window:void 0,function(e,n){Function.prototype.method=function(e,t){return this.prototype[e]=t,this},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,a;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+"is not a function");for(arguments.length>1&&(n=t),a=0;a<i;){var o;a in r&&(o=r[a],e.call(n,o,a,r)),a++}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var a={},r={},i=r.toString,o=/\S+/g,l=/[\t\r\n\f]/g,c={eachVarType:function(e){var t="Boolean Number String Function Array Date RegExp Object Error".split(" ");return t.forEach(function(t){e["[object "+t+"]"]=t.toLowerCase()}),e},type:function(e){return null==e?e+"":"object"===("undefined"==typeof e?"undefined":t(e))||"function"==typeof e?r[i.call(e)]||"object":"undefined"==typeof e?"undefined":t(e)}};c.eachVarType(r),a.isFunction=function(e){return"function"===c.type(e)},a.isArray=function(e){return"array"===c.type(e)},a.isString=function(e){return"string"===c.type(e)},a.getId=function(e){return document.getElementById(e)},a.getClass=function(e){return document.getElementsByClassName(e)},a.namespace=function(e){function t(e){var t=e.split("."),n=a;for(var r in t)n[t[r]]||(n[t[r]]={}),n=n[t[r]];return n}if(a.isString(e))return t(e);if(a.isFunction(e)){var n=e.call(this);if(a.isString(n))return t(n);throw"必须返回一个有效的字符串。"}throw"not strings in "},a.addClass=function(e,t){var n,r,i,c,s,u,d=0,m=e.length||1;a.isFunction(t)&&(t=t.call(this,e.className));var f="string"==typeof t&&t;if(f)for(n=(t||"").match(o)||[];d<m;d++)if(r=e[d]||e,i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(l," "):" ")){for(s=0;c=n[s++];)i.indexOf(" "+c+" ")<0&&(i+=c+" ");u=i.trim(),r.className!==u&&(r.className=u)}return this},a.removeClass=function(e,t){var n,r,i,c,s,u,d=0,m=e.length||1;a.isFunction(t)&&(t=t.call(this,e.className));var f="undefined"==typeof t||"string"==typeof t&&t;if(f)for(n=(t||"").match(o)||[];d<m;d++)if(r=e[d]||e,i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(l," "):"")){for(s=0;c=n[s++];)for(;i.indexOf(" "+c+" ")>=0;)i=i.replace(" "+c+" "," ");u=t?i.trim():"",r.className!==u&&(r.className=u)}return this},a.Modal=function(){var e=null,t=function(e){this.settings={},this.init(e)};return t.method("init",function(t){if(!e){e=this;var n={width:"350",height:"600",title:"提示",titlePostion:"center",content:"",autoClose:!0,closeBtn:!1,closeCallback:null,cancel:!1,cancelCallback:null,cancelText:"关闭",ok:!0,okText:"确定",okCallback:null,maskClose:!1,init:null};a.isString(t)&&(t={content:t}),this.settings=$.extend(!0,n,t||{}),this.render(this.settings)}}),t.method("render",function(e){var t=this,n=null;this.createDom(e),n=$(".modal-body"),n.on("click",".modal-close",function(n){e.closeCallback&&e.closeCallback(t.destroy,$("#modal-content")),t.destroy()}),n.on("click",".modal-ok",function(n){e.okCallback&&e.okCallback(t.destroy,$("#modal-content"),{hideOkBtn:t.hideOkBtn,showCancelBtn:t.showCancelBtn.bind(t)}),t.settings.autoClose&&t.destroy()}),n.on("click",".modal-cancel",function(n){e.cancelCallback&&e.cancelCallback(t.destroy,$("#modal-content")),t.settings.autoClose&&t.destroy()}),$("body").on("click","#modal-mask",function(){if(e.maskClose){if(!t.settings.autoClose)return;t.destroy()}})}),t.method("createDom",function(e){var t='<div class="modal-mask" id="modal-mask" style="position: fixed;width: 100%;height: 100%;top: 0; left: 0;z-index: 1000;background: rgba(0,0,0,0.4);"></div>',n='<div id="modal-body" class="modal-body" style="position: fixed;padding-bottom: 20px;width: '+e.width+"px;max-height: "+e.height+'px;top: 50%;left: 50%;-webkit-transform: translate(-50%,-50%);-moz-transform: translate(-50%,-50%);-ms-transform: translate(-50%,-50%);-o-transform: translate(-50%,-50%);transform: translate(-50%,-50%);overflow: hidden;background: #fff;z-index: 1001;"><h4 class="modal-title" style="position: relative;margin: 0;padding-left: 20px;border-top: 4px solid #38b7f6;line-height: 42px;font-size: 14px;border-bottom: 1px solid #d0d0d0;">'+e.title+'<i id="modal-close" class="modal-close" style="display: '+(e.closeBtn?"inline-block":"none")+';position: absolute;top: 3px;right: 3px;width: 20px;height: 20px;line-height: 16px;text-align: center;border-radius: 50%;font-style: normal;cursor: pointer">x</i></h4><div class="modal-content" id="modal-content" style="width: 96%;padding: 20px;color: #666;overflow: auto;word-break: break-all;">'+e.content+'</div><div class="modal-btn-group" style="text-align: center; padding: 0;"><button id="modal-ok" class="modal-ok btn btn-warning" style="display: '+(e.ok?"inline-block":"none")+';width: 106px;height: 32px;border: 1px solid #38b7f6;margin: 0 5px; margin: 0 20px; font-size: 14px; color:#fff;background-color: #38b7f6;">'+e.okText+'</button><button id="modal-cancel" class="modal-cancel btn btn-warning" style="display: '+(e.cancel?"inline-block":"none")+'; width: 106px;height: 32px;border: 1px solid #38b7f6; margin: 0 5px; margin: 0 20px; font-size: 14px; color: #38b7f6;background-color: #fff;">'+e.cancelText+"</button></div></div>";$("body").append(t).append(n),e.init&&e.init()}),t.method("destroy",function(){$(".modal-body, .modal-close, .modal-ok, .modal-cancel").off(),$(".modal-mask").remove(),$(".modal-body").remove(),e=null}),t.method("hideOkBtn",function(){$(".modal-ok").hide()}),t.method("showCancelBtn",function(){this.settings.autoClose=!0,$(".modal-cancel").show()}),function(e){if(!e)throw"error: 没有传参数。";return new t(e)}}(),a.isPhone=function(e){var t=/^1[0-9]{10}$/;return t.test(e)},a.isEmail=function(e){var t=/^[^\[\]\(\)\\<>:;,@.]+[^\[\]\(\)\\<>:;,@]*@[a-z0-9A-Z]+(([.]?[a-z0-9A-Z]+)*[-]*)*[.]([a-z0-9A-Z]+[-]*)+$/g;return t.test(e)},a.isFloat=function(e){var t=/^((0|[1-9][0-9]*)(\.[0-9]{0,2})?)$/;return t.test(e)},a.isNumber=function(e,t){var n=0==t?/^(0|[1-9][0-9]*)$/:/^([1-9][0-9]*)$/;return n.test(e)},a.priceSwitch=function(e){var t=e||0==e?e/100:0;return t},a.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},a.Date=function(){var e=new Date;return{getFullYear:function(){return e.getFullYear()},getMonth:function(){var t=e.getMonth()+1;return t<10&&(t="0"+t),t},getCodeMonth:function(){return e.getMonth()+1},getDate:function(){var t=e.getDate();return t<10&&(t="0"+t),t},getCodeDate:function(){return e.getDate()}}}(),a.GetDateStr=function(e){var t=new Date;t.setDate(t.getDate()+e);var n=t.getFullYear(),a=t.getMonth()+1,r=t.getDate();a<10&&(a="0"+a),r<10&&(r="0"+r);var i={time1:n+"-"+a+"-"+r,time2:a+"月"+r+"日",time3:t.getTime()};return i},a.getSouroundDate=function(e){var t=a.Date.getCodeDate(),n=a.Date.getCodeMonth(),r=a.Date.getFullYear(),i=a.Date.getMonth(),o=Number(t)-Math.min(e,14);if(o>=10){if(0===n)return r+"-01-01";if(2===n)return r%4==0&&r%100!=0||r%400==0?o>=30&&(n+=1,o="01"):o>=29&&(n+=1,o="01"),r+"-0"+n+"-"+o;if(n%2===1&&n<8)return o>=32&&(n+=1,o="01"),r+"-0"+n+"-"+o;if(n%2===1&&n>8){if(o>=31&&(n+=1,o="01"),9===n)return r+"-0"+n+"-"+o;if(11===n)return r+"-"+n+"-"+o}else{if(n%2===0&&n<8)return o>=31&&(n+=1,o="01"),r+"-0"+n+"-"+o;if(n%2===0&&n>=8)return o>=32&&(n+=1,n>=13&&(n="01",r+=1),o="01"),8===n?r+"-0"+n+"-"+o:r+"-"+n+"-"+o}}else{if(o<10&&o>0)return r+"-"+i+"-0"+o;if(o<=0){if(n-=1,o=Math.abs(o),n=0)return r+"-01-01";if(n=2)return o=29-o,r+"-0"+n+"-"+o;if(n%2===1&&n<8)return console.log(o),o=31-o,r+"-0"+n+"-"+o;if(n%2===1&&n>8)return o=30-o,9===n?r+"-0"+n+"-"+o:r+"-"+n+"-"+o;if(n%2===0&&n<8)return o=30-o,r+"-0"+n+"-"+o;if(n%2===0&&n>=8)return o=31-o,8===n?r+"-0"+n+"-"+o:r+"-"+n+"-"+o}}},a.getLadingCode=function(e,t,n){var a=[];n||(n="");for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)r==t[i]&&a.push(e[r]<10?"0"+e[r]:e[r]);return a.join(n)},a.objKeySort=function(e){for(var t=Object.keys(e).sort(function(e,t){return t-e}),n={},a=0;a<t.length;a++)n[t[a]]=e[t[a]];return n},a.overdue=function(){this.Modal({content:"登录已过期，请重新登录",okCallback:function(){e.location.href="/"}})},a.Calendar={_today:new Date,_date:(new Date).getDate(),_day:(new Date).getDay(),_month:(new Date).getMonth()+1,_year:(new Date).getFullYear(),setDate:function(){this._date=new Date(this._today).getDate()},setDay:function(){this._day=new Date(this._today).getDay()},setMonth:function(){this._month=new Date(this._today).getMonth()+1},setYear:function(){this._year=new Date(this._today).getFullYear()},init:function(e){this._today=new Date(e),this.setDate(),this.setDay(),this.setMonth(),this.setYear()},isLeap:function(){var e=this._year;return e%4==0&&e%100>0||e%400==0&&e%3200>0},getLen:function(){return 2==this._month?this.isLeap()?29:28:this._month<8?this._month%2>0?31:30:this._month%2>0?30:31},getCalendar:function(e){for(var t=this.getLen(),n=new Date(this._year,this._month-1,1),a=n.getDay(),r=new Array,i=0,o="",l=0;l<6;l++){r[l]=new Array;for(var c=0;c<7;c++)i++,i-a>0&&i-a<=t?r[l][c]=i-a:r[l][c]=""}o+='<table class="sign_tab" border="0px" cellpadding="0px" cellspacing="0px">',o+="<thread><tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr></thread>",o+="<tbody>";for(var s=0;s<6;s++)if(5!=s||""!=r[s][0]){o+="<tr>";for(var u=0;u<r[s].length;u++)if(this.contains(e,r[s][u]))o+='<td class="red_tbg" data-num="'+r[s][u]+'">'+r[s][u]+'<span class="tbg_num"></span></td>';else{if(r[s][u]==this._date){o+='<td class="cur_day">'+r[s][u]+"</td>";continue}if(""==r[s][u]){o+='<td class="over">'+r[s][u]+"</td>";continue}o+="<td>"+r[s][u]+"</td>"}o+="</tr>"}return o+="</tbody>",o+="</table>"},nextMonth:function(){return 12==this._month&&(this._year++,this._month=0),this._month++,{year:this._year,month:this._month<10?"0"+this._month:this._month}},nextYear:function(){this._year++},previousMonth:function(){return 1==this._month&&(this._year--,this._month=13),this._month--,{year:this._year,month:this._month<10?"0"+this._month:this._month}},previousYear:function(){this._year--},contains:function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1}},a.getUrlParam=function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=e.location.search.substr(1).match(n);return null!=a?unescape(a[2]):null},a.cookie=function(){function e(e,t,n){var a=new Date;a.setTime(a.getTime()+60*n*60*1e3),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()}function t(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}return{setCookie:e,getCookie:t}}(),a.cdn="http://img.idongpin.com/",e.H=a})}).call(t,n(7)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);