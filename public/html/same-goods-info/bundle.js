!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="/",t(0)}([function(e,t,a){a(10),a(9),e.exports=a(4)},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),i(t,[{key:"changeHandler",value:function(e){this.props.changeHandler&&this.props.changeHandler(this.props.param.identify,e)}},{key:"render",value:function(){var e=this.props.param;return React.createElement("div",{className:"form-control input-unit"},React.createElement("input",{type:e.type?e.type:"text",placeholder:e.placeholder,style:e.style?e.style:{width:"100px"},value:e.value?e.value:"",onChange:this.changeHandler.bind(this)}),React.createElement("span",{className:"unit-item",style:e.textStyle},e.text))}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),i(t,[{key:"radioChange",value:function(e){if(this.props.changeHandler){var t=this.props.changeHandler.bind(this);t(this.props.identify,e)}}},{key:"render",value:function(){var e=this,t=this.props.param;return React.createElement("div",{className:"form-group"},t.map(function(t,a){var n=!1,r=e.props.defaultVal;return 1==e.props.defaultVal||"true"==e.props.defaultVal?r=1:0!=e.props.defaultVal&&"false"!=e.props.defaultVal||(r=0),t.id==r&&(n=!0),React.createElement("label",{key:e.props.name+"_"+e.props.index+"_"+a,className:"radio-inline"},React.createElement("input",{type:"radio",checked:!!n,disabled:!!e.props.disabled,name:e.props.name,defaultValue:t.id,onChange:e.radioChange.bind(e)}),t.name)}))}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={menu:null},r}return r(t,e),i(t,[{key:"componentWillMount",value:function(){if(this.props.menu){var e=[],t=this.props.menu.navigates[1];for(var a in t)e.push(t[a]);this.setState({menu:e})}}},{key:"componentWillReceiveProps",value:function(e){if(e.menu){var t=[],a=e.menu.navigates[1];for(var n in a)t.push(a[n]);this.setState({menu:t})}}},{key:"render",value:function(){return React.createElement("div",{className:"section-top-navbar navbar navbar-default"},React.createElement("a",{className:"toggle-left-sidebar",href:"#"},React.createElement("img",{src:"/images/logo.png",alt:"logo"})),React.createElement("div",{className:"navbar-header",style:{width:"auto",lineHeight:"auto"}},React.createElement("a",{className:"nav-brand"},"找冻品网OA系统—商品详情")))}}]),t}(React.Component);t.default=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=a(5),i=n(r);ReactDOM.render(React.createElement(i.default,null),document.getElementById("main-holder"))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(3),l=n(c),u=a(7),d=n(u),p=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={res:null},a}return o(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this,t=H.server;t.user_navigate({},function(t){0==t.code?e.setState({res:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"render",value:function(){return React.createElement("div",null,React.createElement(l.default,{menu:this.state.res}),React.createElement(d.default,null))}}]),t}(React.Component);t.default=p},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={typeArr:null},r.createSelect=r.createSelect.bind(r),r.changeClassAll=r.changeClassAll.bind(r),r.createArr=r.createArr.bind(r),r}return r(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this;this.props.typeId&&1!=this.props.typeId?this.createArr():this.props._dataArr?this.setState({typeArr:this.props._dataArr},function(){e.props.showAll&&e.changeClassAll()}):this.props.showAll&&this.changeClassAll()}},{key:"componentWillReceiveProps",value:function(e){e._dataArr&&this.setState({typeArr:this.props._dataArr})}},{key:"changeClass",value:function(e,t){var a=this.state.typeArr||[],n=this.props.data;if(t.target.value&&0!=t.target.value){a[e]=t.target.value;for(var r=0;r<=e;r++){if(n=n[a[r]],!(Object.keys(n).length>2)){var i=[];for(var o in a){if(!(o<=e))break;i.push(a[o])}a=i;break}if(r==a.length-1&&0!=a[a.length-1]){a.push(0);break}}}else{var s=[];for(var c in a)if(c<e)s.push(a[c]);else{if(c!=e)break;s.push(0)}a=s}this.setState({typeArr:a});var l=this.props.typeId;l=a.length>1&&0==a[a.length-1]?a[a.length-2]:a[a.length-1],this.props.setTypeId(l)}},{key:"changeClassAll",value:function(e,t){var a=this.state.typeArr||[],n=this.props.data,r=[];if(e){a[e]=t.target.value;for(var o=0;o<=e;o++)n=n[a[o]],r.push(a[o])}for(var s in n){if("object"==i(n[s])){n=n[s],r.push(s);for(var c in n){if("object"==i(n[c])){n=n[c],r.push(c);for(var l in n){if("object"==i(n[l])){n=n[l],r.push(l);for(var u in n){if("object"==i(n[u])){n=n[u],r.push(u);for(var d in n){if("object"==i(n[d])){n=n[d],r.push(d);for(var p in n){"object"==i(n[p])&&(n=n[p],r.push(p));break}}break}}break}}break}}break}}break}a=r,this.setState({typeArr:a}),this.props.setTypeId(a[a.length-1])}},{key:"createArr",value:function(){var e=this.props.data,t=this.props.typeId;for(var a in e){var n=e[a];for(var r in n)if("object"===i(n[r])){var o=n[r];for(var s in o)if("object"===i(o[s])){var c=o[s];for(var l in c)if("object"===i(c[l])){var u=c[l];for(var d in u)if("object"===i(u[d])){var p=u[d];for(var m in p)if("object"===i(p[m])){var f=[a,r,s,l,d,m];if(p[m].type_id==t)return void this.setState({typeArr:f})}var g=[a,r,s,l,d];if(u[d].type_id==t)return void this.setState({typeArr:g})}var h=[a,r,s,l];if(c[l].type_id==t)return void this.setState({typeArr:h})}var _=[a,r,s];if(o[s].type_id==t)return void this.setState({typeArr:_})}var v=[a,r];if(n[r].type_id==t)return void this.setState({typeArr:v})}var y=[a];if(e[a].type_id==t)return void this.setState({typeArr:y})}}},{key:"createSelect",value:function(){var e=this.props.data,t=this.state.typeArr||[0],a=[];if(!e)return a;var n=e;for(var r in t){var o=[];for(var s in n)"object"===i(n[s])&&o.push(React.createElement("option",{key:n[s].type_id+"_"+r,value:n[s].type_id},n[s].type_name));n[t[r]]&&(n=n[t[r]]),a.push(React.createElement("div",{className:"form-group",key:t[r]},this.props.showAll?React.createElement("select",{value:0==t[r]?0:t[r],className:"form-control",onChange:this.changeClassAll.bind(this,r),disabled:!!this.props.disabled},o):React.createElement("select",{value:0==t[r]?0:t[r],className:"form-control",onChange:this.changeClass.bind(this,r),disabled:!!this.props.disabled},React.createElement("option",{value:"0"},"选择..."),o)))}return a}},{key:"render",value:function(){return React.createElement("div",{className:"form-group select-goods-type"},this.createSelect())}}]),t}(React.Component);t.default=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),l=n(c),u=a(6),d=n(u),p=a(2),m=n(p),f=a(8),g=n(f),h=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:{basic_infos:{goods_id:H.getUrlParam("goodsId")||0,goods_name:"",goods_type_id:11,brand_id:0,origin:"",halal:0,smuggle_id:1,goods_title:"",describe:""},basic_attributes:{goods_price:0,goods_unit_id:1,price_adjust_frequency:1,rough_weight:"",net_weight:"",meat_weight:"",inventory:99999,minimum_order_quantity:1,specs:{constraint_id:3,must:!0,name:"规格",values:[{value:"",unit:""}]},types:{constraint_id:2,must:!0,name:"型号",values:[{value:"",unit:""}]}},special_attributes:[],pictures:[],inspection_reports:[],price_rules:[]},basicAttrData:null,specialData:[],goodsClassData:null,activitiesType:[],goodsUnits:[],goodsSmuggles:[],goodsBrands:null,searchBrand:[],EditImage:"",brand_name:"",editor:null,strArr:[],priceRules:[],sameParam:{},sameData:[],areaId:H.getUrlParam("areaId")||0,goodsId:H.getUrlParam("goodsId")||0},a.setTypeId=a.setTypeId.bind(a),a.getAttr=a.getAttr.bind(a),a.createFormatType=a.createFormatType.bind(a),a.inputChange=a.inputChange.bind(a),a.setNewImgUrl=a.setNewImgUrl.bind(a),a.hideEditImage=a.hideEditImage.bind(a),a}return o(t,e),s(t,[{key:"componentWillMount",value:function(){this.getInitData()}},{key:"componentDidMount",value:function(){document.addEventListener("click",function(e){"input"!=e.target.dataset.choose&&"brand"!=e.target.dataset.choose&&$(".search-select").hide()})}},{key:"getAttr",value:function(){function e(){if(n.state.basicAttrData&&n.state.specialData.length>0){var e=Object.assign({},n.state.oldData),t=n.state.data,a=n.state.specialData,r=[],i=[];e.basic_attributes.specs.constraint_id!=n.state.basicAttrData.spec_constraint.attribute_id?(n.state.specsAttrString=e.basic_attributes.specs.attr_values,t.basic_attributes.specs=n.createGoodsInfoKey(n.state.basicAttrData.spec_constraint,"规格")):e.basic_attributes.specs.format_type_id!=n.state.basicAttrData.spec_constraint.format_type_id?(n.state.specsAttrString=e.basic_attributes.specs.attr_values,t.basic_attributes.specs=n.createGoodsInfoKey(n.state.basicAttrData.spec_constraint,"规格")):t.basic_attributes.specs={constraint_id:e.basic_attributes.specs.constraint_id,must:e.basic_attributes.specs.must,name:e.basic_attributes.specs.name,values:e.basic_attributes.specs.values},e.basic_attributes.types.constraint_id!=n.state.basicAttrData.type_constraint.attribute_id?(n.state.typesAttrString=e.basic_attributes.specs.attr_values,t.basic_attributes.types=n.createGoodsInfoKey(n.state.basicAttrData.type_constraint,"型号")):e.basic_attributes.types.format_type_id!=n.state.basicAttrData.type_constraint.format_type_id&&(n.state.typesAttrString=e.basic_attributes.types.attr_values,t.basic_attributes.types=n.createGoodsInfoKey(n.state.basicAttrData.type_constraint,"型号"));var o=Object.assign({},e.special_attributes),s=[];for(var c in o)s.push(o[c]);o=s;for(var l=0;l<a.length;l++)for(var u=0;u<o.length;u++)if(a[l].attribute_id==o[u].constraint_id){if(a[l].format_type_id==o[u].format_type_id){r[l]={constraint_id:o[u].constraint_id,must:a[l].must,name:a[l].attribute_name,values:o[u].values},o.splice(u,1);break}r[l]=n.createGoodsInfoKey(a[l])}else r[l]=n.createGoodsInfoKey(a[l]);for(var d=0;d<o.length;d++)i.push(o[d].attr_values);t.special_attributes=r,n.state.strArr=i,n.setState({data:t})}}var t=this,a={type_id:this.state.data.basic_infos.goods_type_id},n=this;n.state.specialData=[],H.server.goods_type_basicAttr_get(a,function(a){0==a.code?(a.data.spec_constraint.attribute_id?a.data.type_constraint.attribute_id||H.Modal({title:"警告",content:"该分类下还没有设置型号约束，您暂时不能在这个分类下添加商品"}):H.Modal({title:"警告",content:"该分类下还没有设置规格约束，您暂时不能在这个分类下添加商品"}),t.state.basicAttrData=a.data,e()):10106==a.code?H.overdue():H.Modal(a.message)}),H.server.goods_type_specialAttr_list(a,function(a){0==a.code?(t.state.specialData=a.data.attributes,e()):10106==a.code?H.overdue():H.Modal(a.message)})}},{key:"createGoodsInfoKey",value:function(e,t){var a=!1;a=!!t||e.must;var n={constraint_id:e.attribute_id,must:a,name:t?t:e.attribute_name,values:[]},r=[];switch(e.format_type_id){case 1:r=[{value:"",unit:""}];break;case 2:r=[{value:"",unit:""}];break;case 3:for(var i=e.format_values,o=0;o<i;o++)r.push({value:"",unit:i[o].unit});break;case 4:r=[{value:"",unit:e.format_values[0].unit},{value:"",unit:e.format_values[1].unit}];break;case 5:r=[{value:"",unit:e.format_values[0].unit},{value:"",unit:e.format_values[1].unit}]}return n.values=r,n}},{key:"setTypeId",value:function(e){var t=this,a=this.state.data,n=this.state.sameParam;a.basic_infos.goods_type_id=e,a.special_attributes=[],a.basic_attributes.specs.values=[],a.basic_attributes.types.values=[],n.type_id=e,this.setState({data:a,sameData:[]},function(){t.getAttr()})}},{key:"createFormatType",value:function(e,t,a,n){var r=[],i=null;switch(e.must&&(i=React.createElement("div",{className:"ft mandatory"},"*")),e.format_type_id){case 1:var o="",s=[];t&&t.values[0]&&(o=t.values[0].value),e.format_values[0].unit&&s.push(React.createElement("span",{key:n+""+(new Date).getTime(),className:"unit-item"},e.format_values[0].unit)),r.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title"},a),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("div",{className:"form-control input-unit"},React.createElement("input",{type:"text",value:o}),s)),i));break;case 2:r.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title",style:{marginTop:"0px"}},a,React.createElement("span",{style:{color:"#38b7f6",display:"inherit"}},"(单选)")),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("div",{className:"form-group input-inline btn-group-rule"},e.format_values.map(function(e,a){var n=!1;return t&&t.values[0]&&t.values[0].value==e.value&&(n=!0),React.createElement("btn",{key:a+""+(new Date).getTime(),className:n?"btn active":"btn"},e.value)}))),i));break;case 3:r.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title",style:{marginTop:"0px"}},a,React.createElement("span",{style:{color:"#38b7f6",display:"inherit"}},"(多选)")),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("div",{className:"form-group input-inline btn-group-rule"},e.format_values.map(function(e,a){var n=e,r=!1;if(n.index=a,t)for(var i=0;i<t.values.length;i++)if(t.values[i]&&t.values[i].value==e.value){r=!0;break}return React.createElement("btn",{key:a+""+(new Date).getTime(),className:r?"btn active":"btn"},e.value)}))),i));break;case 4:var c=!1,l=!1;t&&t.values[0]&&(c=!0),t&&t.values[1]&&(l=!0),r.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title"},a),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("input",{type:"text",className:"form-control sm-input",value:c?t.values[0].value:""}),e.format_values[0].unit," ",React.createElement("span",{className:"symbol"},"-"),React.createElement("input",{type:"text",className:"form-control sm-input",value:l?t.values[1].value:""}),e.format_values[1].unit),i));break;case 5:var u=!1,d=!1;t&&t.values[0]&&(u=!0),t&&t.values[1]&&(d=!0),r.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title"},a),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("input",{type:"text",className:"form-control sm-input",value:u?t.values[0].value:""}),e.format_values[0].unit," ",React.createElement("span",{className:"symbol"},"*"),React.createElement("input",{type:"text",className:"form-control sm-input",value:d?t.values[1].value:""}),e.format_values[1].unit),i))}return r}},{key:"getInitData",value:function(){function e(){if(a&&n&&r&&i&&o&&s&&c){for(var e=Object.assign({},s),t="",u=0;u<r.length;u++)r[u].id==s.basic_infos.brand_id&&(t=r[u].brand+" ("+r[u].id+")");l.state.goodsUnits=a,l.state.goodsSmuggles=n,l.state.goodsBrands=r,l.state.goodsClassData=i,l.state.activitiesType=o,l.state.priceRules=c,l.state.data={basic_infos:e.basic_infos,basic_attributes:e.basic_attributes,special_attributes:e.special_attributes,pictures:e.pictures,inspection_reports:e.inspection_reports,price_rules:e.price_rules},l.state.oldData=e,l.state.brand_name=t,s.basic_infos.goods_type_id&&1!=s.basic_infos.goods_type_id?l.getAttr():l.forceUpdate()}}var t=H.server,a=null,n=null,r=null,i=null,o=null,s=null,c=null,l=this;t.other_goods_units({},function(t){0==t.code?(a=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.other_goods_smuggles({},function(t){0==t.code?(n=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_brands_list({page:1,size:5e3},function(t){0==t.code?(r=t.data.brands,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_type_list({area_id:this.state.areaId},function(t){0==t.code?(i=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.activities_type({},function(t){0==t.code?(o=t.data,o.push({id:1,name:"无活动"}),e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_info({goods_id:this.state.goodsId},function(t){0==t.code?(s=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_price_rules({},function(t){0==t.code?(c=t.data.price_rules,e()):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"getBrandData",value:function(){var e=this;H.server.goods_brands_list({page:1,size:5e3},function(t){0==t.code?e.setState({goodsBrands:t.data.brands}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"inputChange",value:function(){}},{key:"showEditImage",value:function(e,t){if(this.state.data.pictures.length>=6&&""==e&&2==t)return void H.Modal("最多上传6张商品图片");var a=React.createElement(g.default,{imgURL:e.picture_add,imgObj:e,status:t,setNewImgUrl:this.setNewImgUrl,closeModal:this.hideEditImage});this.setState({EditImage:a})}},{key:"hideEditImage",value:function(){this.setState({EditImage:""})}},{key:"setNewImgUrl",value:function(e,t,a){var n=this.state.data,r=[];if(r=1==t?n.inspection_reports:n.pictures,e){if(0==e.picture_id)r[e.index].picture_add=a;else for(var i=0;i<r.length;i++)if(r[i].picture_id==e.picture_id){r[i].picture_add=a;break}}else r.push({picture_id:0,picture_add:a,sort_value:r.length+1});this.setState({data:n,EditImage:""})}},{key:"render",value:function(){var e=this,t=this.state.data;return React.createElement("div",{className:"goods-info-content",style:{height:"auto",overflowY:"hidden"}},React.createElement("div",{className:"goods-info-warp"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-7"},React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"基本信息")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"商品名"),React.createElement("div",{className:"bd form-inline"},React.createElement("input",{type:"text",className:"form-control input-inline",placeholder:"(必须包含品牌名)",value:t.basic_infos.goods_name})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix form-inline"},React.createElement("span",{className:"label-title"},"分类"),React.createElement("div",{className:"bd"},this.state.goodsClassData?React.createElement(d.default,{data:this.state.goodsClassData,typeId:this.state.data.basic_infos.goods_type_id,setTypeId:this.setTypeId,showAll:!0}):null),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("span",{className:"label-title"},"品牌"),React.createElement("div",{className:"bd",style:{width:"40%"}},React.createElement("div",{className:"form-control input-inline",style:{position:"relative"}},React.createElement("input",{type:"text",placeholder:"选择品牌",id:"brand_input",value:this.state.brand_name,style:{outline:"none",border:"none",width:"100%"},"data-choose":"input"}),React.createElement("ul",{className:"search-select",style:{display:"none"}},this.state.searchBrand.map(function(e,t){return React.createElement("li",{key:t,"data-choose":"brand"},e.brand)})))),React.createElement("div",{className:"ft"},this.state.data.basic_infos.brand_name?React.createElement("span",{style:{color:"#999",lineHeight:"34px"}},this.state.data.basic_infos.brand_name):null,React.createElement("span",{className:"mandatory"},"*")))),React.createElement("div",null,React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"国别"),React.createElement("div",{className:"bd",style:{width:"30%",marginTop:"8px"}},React.createElement(m.default,{param:this.state.goodsSmuggles,name:"country-real",defaultVal:t.basic_infos.smuggle_id,changeHandler:this.inputChange,identify:10,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px",width:"80px"}},"清真食品"),React.createElement("div",{className:"bd",style:{width:"15%",marginTop:"8px"}},React.createElement(m.default,{param:[{id:0,name:"否"},{id:1,name:"是"}],defaultVal:t.basic_infos.halal,name:"halal",changeHandler:this.inputChange,identify:9,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"产地"),React.createElement("div",{className:"bd form-inline"},React.createElement("input",{type:"text",className:"form-control input-inline",value:t.basic_infos.origin})),React.createElement("div",{className:"ft mandatory"},"*")),this.state.typesAttrString?React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"}),React.createElement("div",{className:"bd",style:{color:"#999"}},this.state.typesAttrString)):"",this.state.basicAttrData?this.createFormatType(this.state.basicAttrData.type_constraint,t.basic_attributes.types,"型号",-1):"",this.state.specsAttrString?React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"}),React.createElement("div",{className:"bd",style:{color:"#999"}},this.state.specsAttrString)):"",this.state.basicAttrData?this.createFormatType(this.state.basicAttrData.spec_constraint,t.basic_attributes.specs,"规格",-2):"")),React.createElement("div",{className:"col-xs-5"}),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"带箱重"),React.createElement("div",{className:"bd",style:{width:"180px"}},React.createElement(l.default,{param:{text:"公斤",placeholder:"（纯数字）",value:t.basic_attributes.rough_weight,identify:3},changeHandler:this.inputChange})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"去箱重"),React.createElement("div",{className:"bd",style:{width:"180px"}},React.createElement(l.default,{param:{text:"公斤",placeholder:"（纯数字）",value:t.basic_attributes.net_weight,identify:14},changeHandler:this.inputChange})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"解冻重"),React.createElement("div",{className:"bd",style:{width:"180px"}},React.createElement(l.default,{param:{text:"公斤",placeholder:"（纯数字）",value:t.basic_attributes.meat_weight,identify:4},changeHandler:this.inputChange})))),React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"单位/价格")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"单位"),React.createElement("div",{className:"bd",style:{marginTop:"8px",width:"auto"}},React.createElement(m.default,{param:this.state.goodsUnits,name:"unit",defaultVal:t.basic_attributes.goods_unit_id,changeHandler:this.inputChange,identify:12,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"库存量"),React.createElement("div",{className:"bd",style:{width:"auto"}},React.createElement("input",{className:"form-control input-inline",type:"text",placeholder:"（纯数字）",value:99999==t.basic_attributes.inventory?"":t.basic_attributes.inventory}))),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"单价"),React.createElement("div",{className:"bd",style:{width:"auto"}},React.createElement(l.default,{param:{text:"元",placeholder:"（货币）",value:t.basic_attributes.goods_price,identify:7},changeHandler:this.inputChange})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"起买量"),React.createElement("div",{className:"bd",style:{width:"80px"}},React.createElement("input",{className:"form-control input-inline",type:"text",placeholder:"（纯数字，默认为1）",value:t.basic_attributes.minimum_order_quantity})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px",width:"100px"}},"价格过期频率"),React.createElement("div",{className:"bd",style:{width:"auto",marginTop:"8px"}},React.createElement(m.default,{param:[{id:1,name:"每天过期"},{id:0,name:"长期有效"}],name:"gq",defaultVal:t.basic_attributes.price_adjust_frequency,changeHandler:this.inputChange,identify:11,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"form-inline price-rules-wrap"},this.state.priceRules.map(function(t,a){for(var n=[],r=e.state.data.price_rules,i=0;i<r.length;i++)r[i].price_rule_id==t.price_rule_id&&(n=r[i].rules);return React.createElement("div",{key:t.price_rule_id+""+a,className:"price-rule-item"},React.createElement("div",{className:"hd"},"买",t.show_name),n.map(function(e,n){return React.createElement("div",{key:t.price_rule_id+""+a+n,className:"price-rule-cell"},React.createElement("span",{className:"price-rule-title"},"买"),React.createElement("input",{className:"form-control input-inline",type:"text",value:e.buy_num}),React.createElement("span",{className:"price-rule-title"},t.buy_unit+"，"),React.createElement("span",{className:"price-rule-title"},t.show_name),React.createElement("input",{className:"form-control input-inline",type:"text",value:e.preferential_value}),React.createElement("span",{className:"price-rule-title"},t.preferential_unit))}))})))),React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"特殊属性",React.createElement("span",{className:"appendage"},"条例特殊属性配置"))),React.createElement("div",{className:"clearfix"},this.state.strArr.map(function(e,t){return React.createElement("div",{className:"col-lg-6",style:{color:"#999",marginBottom:"10px"
},key:t},React.createElement("span",{className:"label-title"}),e)})),this.state.specialData.map(function(a,n){return React.createElement("div",{style:{marginTop:"10px"}},e.createFormatType(a,t.special_attributes[n],a.attribute_name,n))})),React.createElement("div",null,React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"商品介绍")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"商品标题"),React.createElement("div",{className:"bd"},React.createElement("input",{type:"text",className:"form-control input-inline",placeholder:"15-25字",value:t.basic_infos.goods_title}))),React.createElement("div",{className:"clearfix",style:{marginTop:"10px"}},React.createElement("div",{className:"label-title"},"优势描述"),React.createElement("div",{className:"bd"},React.createElement("textarea",{className:"input-inline",placeholder:"支持断行、最多100字",value:t.basic_infos.describe})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"检验报告",React.createElement("br",null),React.createElement("span",{style:{color:"#ccc"}},"(最多3张)"))),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"input-inline"},t.inspection_reports.map(function(e,t){var a=e;return a.index=t,React.createElement("div",{key:t,className:"form-group goods-img"},React.createElement("a",{style:{width:"200px",height:"200px",display:"inline-block"},href:H.cdn+a.picture_add,target:"_blank"},React.createElement("img",{src:H.cdn+a.picture_add+"@200w_50Q.jpg"})))}))),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"input-inline"},React.createElement("p",null,"最少4张，最多可添加6张图片，最好是竖屏图片"),t.pictures.map(function(e,t){var a=e;return a.index=t,React.createElement("div",{key:t,className:"form-group goods-img"},React.createElement("a",{style:{width:"200px",height:"200px",display:"inline-block"},href:H.cdn+a.picture_add,target:"_blank"},React.createElement("img",{src:H.cdn+a.picture_add+"@200w_50Q.jpg"})),React.createElement("div",null,React.createElement("div",{className:"form-group sort"},"排序",React.createElement("input",{type:"text",className:"sort-input",value:a.sort_value}))))}))))))))}}]),t}(React.Component);t.default=h},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={croppedImg:"",source:"",upload:1,isClick:!1},e}return r(t,e),i(t,[{key:"componentWillMount",value:function(){if($("#cropper").length<=0){var e='<script id="cropper" src="/js/cropper.min.js"></script>';$("body").append(e)}if($("#cropper_style").length<=0){var t='<link id="cropper_style" href="/css/cropper.min.css" rel="stylesheet">';$("head").append(t)}if($("#mybase64").length<=0){var a='<script id="mybase64" src="/js/mybase64.js"></script>';$("body").append(a)}}},{key:"componentDidMount",value:function(){$(".avatar-btns").delegate(".col-md-9","click",function(e){var t=e.target.dataset,a=t.method,n=t.option;$("#img").cropper(a,n)}),$(".loading").hide(),this.init()}},{key:"componentWillUnmount",value:function(){$("#img").unbind()}},{key:"init",value:function(e){var t=this.props.imgURL||"",a=$("#img"),n=this.state;t&&(n.upload=2,a.attr("src",H.cdn+t)),a.cropper({viewModal:2,crop:function(e){var t=['{"x":'+e.x,'"y":'+e.y,'"height":'+e.height,'"width":'+e.width,'"rotate":'+e.rotate+"}"];t=t.join()}}),e&&e.stopPropagation()}},{key:"getCroppedCanvas",value:function(e){var t=this.state,a=e.height,n=e.width,r=$("#img");t.croppedImg=r.cropper("getCroppedCanvas",{width:n,height:a})}},{key:"uploadFile",value:function(){var e=this,t=document.getElementById("avatarInput").files[0],a=new FileReader;a.readAsDataURL(t),$("#img").cropper("destroy"),$("#img").remove(),a.onload=function(t){e.setState({source:t.target.result},e.update)}}},{key:"update",value:function(){var e="",t=new Image,a=H.cdn+this.props.imgURL;$(t).attr("id","img"),e=$("#img"),t.src=this.state.source||a,$(".avatar-wrapper").append(t),e.cropper({viewModal:2})}},{key:"closeModal",value:function(){this.props.closeModal&&this.props.closeModal()}},{key:"crop",value:function(e){var t=this.state;t.upload=2,this.init(e)}},{key:"uploadNature",value:function(){var e=this,t=document.getElementById("avatarInput").files[0],a=t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase(),n=".jpg,.bmp,.gif,.png,.jpeg",r="Public/Uploads/newgoodsimg/"+H.Date.getFullYear()+H.Date.getMonth()+H.Date.getDate()+"/"+(new Date).getTime()+Math.floor(10*Math.random())+"."+a;if(n.indexOf(a)==-1)return void H.Modal("仅支持"+n+"为后缀名的文件!");var i={expiration:"2120-12-01T12:00:00.000Z",conditions:[["starts-with",r,""],{bucket:"idongpin"},["starts-with",t.type,""],["content-length-range",0,104857600]]};$(".loading").show();var o=Base64.encode(JSON.stringify(i));H.server.other_oss_signature({signature_data:o},function(a){if(0==a.code){var n=a.data.signature;H.server.other_oss_identity_data({},function(a){if(0==a.code){var i=a.data.access_id,s=new FormData;s.append("key",r),s.append("Content-Type",t.type),s.append("Content-Length",Math.round(100*t.size/1024)/100),s.append("Content-Encoding","compress"),s.append("OSSAccessKeyId",i),s.append("policy",o),s.append("signature",n),s.append("file",t);var c=new XMLHttpRequest;c.addEventListener("load",function(){H.Modal("成功"),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,r)},!1),c.addEventListener("error",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,r),H.Modal("上传出现错误，您可以重新点击上传")},!1),c.addEventListener("abort",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,r),H.Modal("上传中断，请检查网络后重新上传")},!1),c.open("POST","http://oss-cn-qingdao.aliyuncs.com/idongpin",!0),c.send(s)}else 10106==a.code?H.overdue():H.Modal(a.message)})}else 10106==a.code?H.overdue():H.Modal(a.message)})}},{key:"submit",value:function(){var e=this,t=document.getElementById("avatarInput").files[0],a=this.state.croppedImg,n=t?t.name:this.props.imgURL,r=n.substring(n.lastIndexOf(".")+1).toLowerCase(),i=".jpg,.bmp,.gif,.png,.jpeg",o="Public/Uploads/newgoodsimg/"+H.Date.getFullYear()+H.Date.getMonth()+H.Date.getDate()+"/"+(new Date).getTime()+Math.floor(10*Math.random())+"."+r;if(n&&!this.state.isClick){if(this.setState({isClick:!this.state.isClick}),$(".loading").show(),1==this.state.upload)return void this.uploadNature();if(i.indexOf(r)==-1)return void H.Modal("仅支持"+i+"为后缀名的文件!");var s={expiration:"2120-12-01T12:00:00.000Z",conditions:[["starts-with",o,""],{bucket:"idongpin"},["starts-with","image/"+r,""],["content-length-range",0,104857600]]},c=Base64.encode(JSON.stringify(s));H.server.other_oss_signature({signature_data:c},function(t){if(0==t.code){var n=t.data.signature;H.server.other_oss_identity_data({},function(t){if(0==t.code){var i=t.data.access_id,s=new FormData;s.append("key",o),s.append("Content-Type","image/"+r),s.append("Content-Encoding","compress"),s.append("OSSAccessKeyId",i),s.append("policy",c),s.append("signature",n),a=$("#img").cropper("getCroppedCanvas"),a.toBlob(function(t){var a=new XMLHttpRequest;s.append("Content-Length",Math.round(100*t.size/1024)/100),s.append("file",t),a.addEventListener("load",function(){H.Modal("成功"),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,o)},!1),a.addEventListener("error",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,o),H.Modal("上传出现错误，您可以重新点击上传")},!1),a.addEventListener("abort",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,o),H.Modal("上传中断，请检查网络后重新上传")},!1),a.open("POST","http://oss-cn-qingdao.aliyuncs.com/idongpin",!0),a.send(s)},"image/jpeg",.7)}else 10106==t.code?H.overdue():H.Modal(t.message)})}else 10106==t.code?H.overdue():H.Modal(t.message)})}}},{key:"render",value:function(){return React.createElement("div",{className:"crop-avatar",id:"crop-avatar"},React.createElement("div",{className:"modal show",id:"avatar-modal"},React.createElement("div",{className:"modal-dialog modal-lg"},React.createElement("div",{className:"modal-img-content container"},React.createElement("div",{className:"avatar-form"},React.createElement("div",{className:"modal-img-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.closeModal.bind(this)},"×"),React.createElement("h4",{className:"modal-title",id:"avatar-modal-label"},"修图")),React.createElement("div",{className:"modal-img-body"},React.createElement("div",{className:"avatar-body"},React.createElement("div",{className:"avatar-upload"},React.createElement("input",{type:"hidden",className:"avatar-src",name:"avatar_src"}),React.createElement("input",{type:"hidden",className:"avatar-data",name:"avatar_data"}),React.createElement("label",{htmlFor:"avatarInput"},"Local upload"),React.createElement("input",{type:"file",className:"avatar-input",id:"avatarInput",onChange:this.uploadFile.bind(this)})),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-9"},React.createElement("div",{className:"avatar-wrapper"},React.createElement("img",{id:"img",src:""})))),React.createElement("div",{className:"row avatar-btns"},React.createElement("div",{className:"col-md-9"},React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-90",title:"Rotate -90 degrees"},"左旋"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-15"},"-15deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-30"},"-30deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-45"},"-45deg")),React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"90",title:"Rotate 90 degrees"},"右旋"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"15"},"15deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"30"},"30deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"45"},"45deg")),React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default btn-sm",onClick:this.crop.bind(this)},"裁剪"))),React.createElement("div",{className:"col-md-3"},React.createElement("button",{onClick:this.submit.bind(this),className:"btn btn-default btn-sm avatar-save"},"确定"),React.createElement("a",{className:"glyphicon loading"}))))))))))}}]),t}(React.Component);t.default=o},function(e,t){"use strict";!function(){var e=H.namespace("server"),t="",a=function(e,a,n,r,i){"function"==typeof r||(r=function(){});var o=i?{"Cache-Control":"no-cache",Accept:"application/json","Content-Type":i}:{"Cache-Control":"no-cache",Accept:"application/json"},s=$.ajax({url:a+"?r="+Math.random(),data:n,type:e,dataType:"json",async:!0,cache:!1,headers:o,timeout:3e5,success:function(e,t,a){r.call(this,e,t,a)},error:function(e,a,n){if(401==e.status)location.href=t;else{if(!n)return!1;var i={101:"网络不稳定或不畅通，请检查网络设置",403:"服务器禁止此操作！",500:"服务器遭遇异常阻止了当前请求的执行<br/><br/><br/>"},o=null;switch(a){case"timeout":o="网络连接超时，请检查网络是否畅通！";break;case"error":if(i[e.status]){var s=null;try{s=jQuery.parseJSON(e.responseText)}catch(e){}o=s&&s.message?s.message:i[e.status]}else o="服务器响应异常<br/><br/>"+(0==e.status?"":e.status)+"&nbsp;"+n;break;case"abort":o=null;break;case"parsererror":o="数据解析错误！";break;default:o="出现错误:"+a+"！"}null==n.code||null==n.message||i[n.code]||(o+="</br>[code:"+n.code+"][message:"+n.message+"]"+(null==n.stack?"":n.stack)),null==o&&(o=""),r.call(this,{code:e.status,message:o},a,e,n)}}});return s};e.login=function(e,n){return a("post",t+"/user/login",e,n)},e.logout=function(e,n){return a("post",t+"/user/logout",e,n)},e.user_navigate=function(e,n){return a("get",t+"/user/navigate",e,n)},e.user_info=function(e,n){return a("get",t+"/user/info",e,n)},e.user_list=function(e,n){return a("get",t+"/user/list",e,n)},e.user_info_update=function(e,n){return a("post",t+"/user/info/update",e,n)},e.user_add=function(e,n){return a("post",t+"/user/add",e,n)},e.user_status_update=function(e,n){return a("post",t+"/user/status/update",e,n)},e.user_privilege=function(e,n){return a("get",t+"/user/privilege",e,n)},e.user_privilege_update=function(e,n){return a("post",t+"/user/privilege/update",e,n)},e.department_list=function(e,n){return a("get",t+"/department/list",e,n)},e.department_add=function(e,n){return a("post",t+"/department/add",e,n)},e.department_info_update=function(e,n){return a("post",t+"/department/info/update",e,n)},e.department_status_update=function(e,n){return a("post",t+"/department/status/update",e,n)},e.privilege_list=function(e,n){return a("get",t+"/privilege/list",e,n)},e.privilege_add=function(e,n){return a("post",t+"/privilege/add",e,n)},e.privilege_update=function(e,n){return a("post",t+"/privilege/update",e,n)},e.privilege_info=function(e,n){return a("get",t+"/privilege/info",e,n)},e.privilege_status_update=function(e,n){return a("post",t+"/privilege/status/update",e,n)},e.trade_list=function(e,n){return a("get",t+"/trade/list",e,n)},e.trade_add=function(e,n){return a("post",t+"/trade/add",e,n)},e.trade_info=function(e,n){return a("get",t+"/trade/info",e,n)},e.trade_info_update=function(e,n){return a("post",t+"/trade/info/update",e,n)},e.trade_status_update=function(e,n){return a("post",t+"/trade/status/update",e,n)},e.trade_fees_list=function(e,n){return a("get",t+"/trade/fees/list",e,n)},e.shop_type_list=function(e,n){return a("get",t+"/shop/type/list",e,n)},e.other_area_list=function(e,n){return a("get",t+"/other/area/list",e,n)},e.other_customArea_list=function(e,n){return a("get",t+"/other/custom-area/list",e,n)},e.operate_dailyNews_receiveUser_list=function(e,n){return a("get",t+"/operate/daily-news/receive-user/list",e,n)},e.operate_todayArticle_list=function(e,n){return a("get",t+"/operate/today-article/list",e,n)},e.other_todayArticle_type=function(e,n){return a("get",t+"/other/today-article/type",e,n)},e.operate_todayArticle_edit=function(e,n){return a("post",t+"/operate/today-article/edit",e,n)},e.operate_todayArticle_delete=function(e,n){return a("post",t+"/operate/today-article/delete",e,n)},e.operate_dailyNews_goods_list=function(e,n){return a("get",t+"/operate/daily-news/goods/list",e,n)},e.operate_dailyNews_goods_shield=function(e,n){return a("post",t+"/operate/daily-news/goods/shield",e,n)},e.other_oss_signature=function(e,n){return a("get",t+"/other/oss/signature",e,n)},e.other_oss_identity_data=function(e,n){return a("get",t+"/other/oss/identity/data",e,n)},e.operate_dailyNews_log_list=function(e,n){return a("get",t+"/operate/daily-news/log/list",e,n)},e.operate_dailyNews_manage_list=function(e,n){return a("get",t+"/operate/daily-news/manage/list",e,n)},e.operate_dailyNews_manage_edit=function(e,n){return a("post",t+"/operate/daily-news/manage/edit",e,n)},e.shop_type_info=function(e,n){return a("get",t+"/shop/type/info",e,n)},e.activities_list=function(e,n){return a("get",t+"/activities/list",e,n)},e.activities_add=function(e,n){return a("post",t+"/activities/add",e,n,"application/json")},e.activities_update=function(e,n){return a("post",t+"/activities/update",e,n,"application/json")},e.activities_goods_list=function(e,n){return a("get",t+"/activities/goods/list",e,n)},e.activities_goods_add=function(e,n){return a("post",t+"/activities/goods/add",e,n)},e.activities_goods_del=function(e,n){return a("post",t+"/activities/goods/del",e,n)},e.activities_goods_clear=function(e,n){return a("post",t+"/activities/goods/clear",e,n)},e.activities_goods_sort=function(e,n){return a("post",t+"/activities/goods/sort",e,n)},e.operate_dailyNews_goods_recommend=function(e,n){return a("post",t+"/operate/daily-news/goods/recommend",e,n)},e.operate_dailyNews_recommend_goods_remove=function(e,n){return a("post",t+"/operate/daily-news/recommend/goods/remove",e,n)},e.operate_dailyNews_recommend_goods_removeAll=function(e,n){return a("post",t+"/operate/daily-news/recommend/goods/remove-all",e,n)},e.operate_dailyNews_recommend_goods_sort=function(e,n){return a("post",t+"/operate/daily-news/recommend/goods/sort",e,n)},e.goods_type_add=function(e,n){return a("post",t+"/goods/type/add",e,n)},e.goods_type_list=function(e,n){return a("get",t+"/goods/type/list",e,n)},e.goods_type_update=function(e,n){return a("post",t+"/goods/type/update",e,n)},e.goods_type_delete=function(e,n){return a("post",t+"/goods/type/delete",e,n)},e.goods_type_sort=function(e,n){return a("post",t+"/goods/type/sort",e,n,"application/json")},e.goods_type_info=function(e,n){return a("get",t+"/goods/type/info",e,n)},e.other_goods_type_attr_inputFormat_list=function(e,n){return a("get",t+"/other/goods/type/attr/input-format/list",e,n)},e.goods_type_basicAttr_get=function(e,n){return a("get",t+"/goods/type/basic-attr/get",e,n)},e.goods_type_basicAttr_update=function(e,n){return a("post",t+"/goods/type/basic-attr/update",e,n,"application/json")},e.goods_type_specialAttr_update=function(e,n){return a("post",t+"/goods/type/special-attr/update",e,n,"application/json")},e.goods_type_specialAttr_list=function(e,n){return a("get",t+"/goods/type/special-attr/list",e,n)},e.goods_type_specialAttr_delete=function(e,n){return a("post",t+"/goods/type/special-attr/delete",e,n,"application/json")},e.goods_brands_list=function(e,n){return a("get",t+"/goods/brands/list",e,n)},e.goods_brands_delete=function(e,n){return a("post",t+"/goods/brands/delete",e,n)},e.goods_brands_add=function(e,n){return a("post",t+"/goods/brands/add",e,n)},e.goods_brands_update=function(e,n){return a("post",t+"/goods/brands/update",e,n)},e.goods_transfer_shop_list=function(e,n){return a("get",t+"/goods/transfer/shop/list",e,n)},e.goods_transfer_list=function(e,n){return a("get",t+"/goods/transfer/list",e,n)},e.goods_shop_info=function(e,n){return a("get",t+"/goods/shop/info",e,n)},e.goods_transfer_shielding=function(e,n){return a("post",t+"/goods/transfer/shielding",e,n,"application/json")},e.goods_transfer_oldGoods_del=function(e,n){return a("post",t+"\t/goods/transfer/old-goods/del",e,n,"application/json")},e.activities_type=function(e,n){return a("get",t+"/activities/type",e,n)},e.other_goods_units=function(e,n){return a("get",t+"/other/goods/units",e,n)},e.other_goods_smuggles=function(e,n){return a("get",t+"/other/goods/smuggles",e,n)},e.goods_picture_del=function(e,n){return a("post",t+"/goods/picture/del",e,n,"application/json")},e.goods_picture_list=function(e,n){return a("get",t+"/goods/picture/list",e,n)},e.goods_inspectionReport_picture_del=function(e,n){return a("post",t+"/goods/inspection-report/picture/del",e,n,"application/json")},e.goods_add=function(e,n){return a("post",t+"/goods/add",e,n,"application/json")},e.goods_ordinary_list=function(e,n){return a("get",t+"/goods/ordinary/list",e,n)},e.goods_ordinary_soldOut=function(e,n){return a("post",t+"/goods/ordinary/sold-out",e,n)},e.goods_ordinary_priceRefresh=function(e,n){return a("post",t+"/goods/ordinary/price-refresh",e,n)},e.goods_ordinary_delete=function(e,n){return a("post",t+"\t/goods/ordinary/delete",e,n)},e.goods_ordinary_onSale=function(e,n){return a("post",t+"/goods/ordinary/on-sale",e,n)},e.goods_ordinary_undelete=function(e,n){return a("post",t+"/goods/ordinary/undelete",e,n)},e.shop_newGoods_market_list=function(e,n){return a("get",t+"/shop/new-goods/market/list",e,n)},e.goods_newGoods_list=function(e,n){return a("get",t+"/goods/new-goods/list",e,n)},e.goods_audit_pass=function(e,n){return a("post",t+"/goods/audit/pass",e,n,"application/json")},e.goods_audit_refused=function(e,n){return a("post",t+"/goods/audit/refused",e,n,"application/json")},e.shop_customArea_shipmentMarket_list=function(e,n){return a("get",t+"/shop/custom-area/shipment-market/list",e,n)},e.goods_logs_list=function(e,n){return a("get",t+"/goods/logs/list",e,n)},e.goods_historyPrices_list=function(e,n){return a("get",t+"/goods/history-prices/list",e,n)},e.goods_info=function(e,n){return a("get",t+"/goods/info",e,n)},e.goods_update=function(e,n){return a("post",t+"/goods/update",e,n,"application/json")},e.goods_price_rules=function(e,n){return a("get",t+"/goods/price-rules",e,n)},e.goods_same=function(e,n){return a("post",t+"/goods/same",e,n,"application/json")},e.get_access_config=function(e,n){return a("get",t+"/search/boost",e,n)},e.push_access_config=function(e,n){return a("post",t+"/search/boost",e,n)},e.search_synonym=function(e,t){var a="https://idongpin.oss-cn-qingdao.aliyuncs.com/events/search/synonym.txt";window.location.href.indexOf("test.oa.zdongpin")==-1&&(a="https://idongpin.oss-cn-qingdao.aliyuncs.com/Public/search/synonym.txt"),$.ajax({url:a+"?v="+Math.random(),success:function(e){t(e)}})},e.search_custom=function(e,t){var a="https://idongpin.oss-cn-qingdao.aliyuncs.com/events/search/dict/custom.txt";window.location.href.indexOf("test.oa.zdongpin")==-1&&(a="https://idongpin.oss-cn-qingdao.aliyuncs.com/Public/search/dict/custom.txt"),$.ajax({url:a+"?v="+Math.random(),success:function(e){t(e)}})},e.search_synonym_update=function(e,n){return a("post",t+"/search/synonym/update",e,n)},e.search_dict_update=function(e,n){return a("post",t+"/search/dict/update",e,n)},e.search_index_init=function(e,n){return a("post",t+"/search/index/init",e,n)},e.get_all_area=function(e,n){var r="";return r=e.id?"/logistics/area/map/"+e.id:"/logistics/area/map",a("get",t+r,e,n)},e.get_logistic_street=function(e,n){var r="";return r=e.id?"/logistics/area/street/"+e.id:"/logistics/area/street",a("get",t+r,e,n)},e.change_street_state=function(e,n){return a("post",t+"/logistics/area/street/status",e,n)},e.get_capacity_info=function(e,n){return a("get",t+"/logistics/capacity/"+e.display,e,n)},e.modify_capacity=function(e,n){return a("post",t+"/logistics/capacity/update",e,n)},e.add_capacity=function(e,n){return a("post",t+"/logistics/capacity/add",e,n)},e.delete_capacity=function(e,n){return a("post",t+"/logistics/capacity/delete",e,n)},e.get_driver_info=function(e,n){return a("get",t+"/logistics/driver",e,n)},e.modify_driver_state=function(e,n){return a("post",t+"/logistics/driver/status",e,n)},e.modify_driver=function(e,n){return a("post",t+"/logistics/driver/update",e,n)},e.delete_driver=function(e,n){return a("post",t+"/logistics/driver/delete",e,n)},e.get_work_driver=function(e,n){return a("get",t+"/logistics/capacity/available",e,n)},e.get_all_waybill=function(e,n){return a("post",t+"/logistics/delivery",e,n)},e.cancel_waybill=function(e,n){return a("post",t+"/logistics/delivery/cancel/"+e.id,e,n)},e.get_current_waybill=function(e,n){return a("get",t+"/logistics/delivery/"+e.id,e,n)},e.update_waybill_detail=function(e,n){return a("post",t+"/logistics/delivery/update/"+e.method+"/"+e.id,e,n)},e.waybill_buy_over=function(e,n){return a("post",t+"/logistics/delivery/received/"+e.id,e,n)},e.get_real_time_waybill=function(e,n){return a("get",t+"/logistics/intime",e,n)},e.get_real_time_detail=function(e,n){return a("get",t+"/logistics/intime/"+e.id,e,n)},e.get_today_waybill=function(e,n){return a("get",t+"/logistics/delivery/statics",e,n)},e.get_all_points=function(e,n){return a("get",t+"/logistics/delivery/points",e,n)},e.assign_delivery=function(e,n){return a("post",t+"/logistics/delivery/assign",e,n)},e.shop_search=function(e,n){return a("get",t+"/logistics/shop/search",e,n)},e.sign_shop=function(e,n){return a("post",t+"/logistics/shop/sign",e,n)},e.get_address=function(e,n){return a("get",t+"/logistics/shop/address/"+e.id,e,n)},e.send_order=function(e,n){return a("post",t+"/logistics/shop/order/"+e.id,e,n)},e.update_custom_address=function(e,n){return a("post",t+"/logistics/shop/address/update/"+e.id,e,n)},e.add_custom_address=function(e,n){return a("post",t+"/logistics/shop/address/add/"+e.id,e,n)},e.get_all_customer=function(e,n){return a("get",t+"/logistics/custom",e,n)},e.get_custom_by_id=function(e,n){return a("get",t+"/logistics/custom/"+e.id,e,n)},e.update_custom=function(e,n){return a("post",t+"/logistics/custom/"+e.id,e,n)},e.get_unpaid_waybill=function(e,n){return a("get",t+"/logistics/charge/unpaid",e,n)},e.get_paid_waybill=function(e,n){return a("get",t+"/logistics/charge/paid",e,n)},e.get_canceled_waybill=function(e,n){return a("get",t+"/logistics/charge/canceled",e,n)},e.cancel_charge=function(e,n){return a("post",t+"/logistics/charge/cancel/"+e.id,e,n)},e.create_charge=function(e,n){return a("post",t+"/logistics/charge/create",e,n)},e.send_code=function(e,n){return a("post",t+"/verify/mobile",e,n)},e.unpay_waybill=function(e,n){return a("post",t+"/logistics/charge/free",e,n)},e.logistics_charge_config_get=function(e,n){return a("get",t+"/logistics/charge/getconfig",e,n)},e.logistics_charge_config_set=function(e,n){return a("post",t+"/logistics/charge/setconfig",e,n,"application/json")},e.get_all_address=function(e,n){return a("post",t+"/map/search/hint",e,n)},e.gecode_address=function(e,n){return a("post",t+"/map/geocode/regeo",e,n)},e.version_log_add=function(e,n){return a("post",t+"/system/version/log/add",e,n)},e.version_log_list=function(e,n){return a("get",t+"/system/version/log/list",e,n)},e.version_log_update=function(e,n){return a("post",t+"/system/version/log/update",e,n)},e.get_area_list=function(e,n){return a("get",t+"/other/custom-area/list",e,n)},e.get_brand_house_list=function(e,n){return a("get",t+"/operation-manage/index-manage/brands-house/list",e,n)},e.sold_out_brand=function(e,n){return a("post",t+"/operation-manage/index-manage/brands-house/pull-off",e,n)},e.search_brand=function(e,n){return a("get",t+"/operation-manage/index-manage/brand-name",e,n)},e.add_brand_house=function(e,n){return a("post",t+"\t/operation-manage/index-manage/brands-house/add",e,n)},e.indexManage_recommendGoods_list=function(e,n){return a("get",t+"/operation-manage/index-manage/recommend-goods/list",e,n)},e.indexManage_recommendGoods_add=function(e,n){return a("post",t+"\t/operation-manage/index-manage/recommend-goods/add",e,n)},e.indexManage_recommendGoods_pullOff=function(e,n){return a("post",t+"/operation-manage/index-manage/recommend-goods/pull-off",e,n)},e.indexManage_highQualitySuppliers_list=function(e,n){return a("get",t+"/operation-manage/index-manage/high-quality-suppliers/list",e,n)},e.indexManage_highQualitySuppliers_add=function(e,n){return a("post",t+"/operation-manage/index-manage/high-quality-suppliers/add",e,n)},e.indexManage_highQualitySuppliers_pullOff=function(e,n){return a("post",t+"/operation-manage/index-manage/high-quality-suppliers/pull-off",e,n)},e.indexManage_get_highQualitySuppliers_byId=function(e,n){return a("get",t+"/operation-manage/index-manage/shop-name",e,n)},e.indexManage_newGoods_add=function(e,n){return a("post",t+"/operation-manage/index-manage/new-goods/add",e,n)},e.indexManage_newGoods_list=function(e,n){return a("get",t+"/operation-manage/index-manage/new-goods/list",e,n)},e.indexManage_newGoods_pullOff=function(e,n){return a("post",t+"/operation-manage/index-manage/new-goods/pull-off",e,n)},e.indexManage_newGoods_move=function(e,n){return a("post",t+"/operation-manage/index-manage/new-goods/move",e,n)},e.indexManage_highQualitySuppliers_move=function(e,n){return a("post",t+"/operation-manage/index-manage/high-quality-suppliers/move",e,n)},e.indexManage_recommendGoods_move=function(e,n){return a("post",t+"/operation-manage/index-manage/recommend-goods/move",e,n)},e.indexManage_banner_list=function(e,n){return a("get",t+"/operation-manage/buyer-index/banner/list",e,n)},e.indexManage_update_banner=function(e,n){return a("post",t+"/common/banner/show-time/update",e,n)},e.indexManage_banner_position=function(e,n){return a("post",t+"/common/banner/position/update",e,n)},e.indexManage_banner_add=function(e,n){return a("post",t+"/operation-manage/buyer-index/banner/add",e,n)},e.indexManage_ad_list=function(e,n){return a("get",t+"/operation-manage/index-manage/popup-ads/list",e,n)},e.indexManage_pulloff_ad=function(e,n){return a("post",t+"/operation-manage/index-manage/popup-ads/pull-off",e,n)},e.indexManage_add_ad=function(e,n){return a("post",t+"/operation-manage/index-manage/popup-ads/add",e,n)},e.bi_order=function(e,n){return a("post",t+"/bi/order",e,n)},e.bi_order_filter=function(e,n){return a("post",t+"/bi/order/filter",e,n)},e.service_list=function(e,n){return a("get",t+"/provider/",e,n)},e.show_service=function(e,n){return a("get",t+"/provider/show",e,n)},e.update_service=function(e,n){return a("post",t+"/provider/sp/update",e,n)},e.search_service=function(e,n){return a("post",t+"/provider/search",e,n)},e.service_log_list=function(e,n){return a("get",t+"/provider/log",e,n)},e.handle_service=function(e,n){return a("post",t+"/provider/handle",e,n)},e.update_wechat_service=function(e,n){return a("post",t+"/provider/wechat-config",e,n)},e.category_list=function(e,n){return a("get",t+"/provider/sort",e,n)},e.add_category=function(e,n){return a("post",t+"/provider/sort/add",e,n)},e.wechat_tag_list=function(e,n){return a("get",t+"/provider/wechat-tags",e,n)},e.update_tag=function(e,n){return a("post",t+"/provider/wechat-tag/update",e,n)},e.del_tag=function(e,n){return a("post",t+"/provider/wechat-tag/del",e,n)},e.wechat_menu_list=function(e,n){return a("get",t+"/provider/wechat-menus",e,n)},e.del_menu=function(e,n){return a("post",t+"/provider/wechat-menu/del",e,n)},e.update_menu=function(e,n){return a("post",t+"/provider/wechat-menu/edit",e,n)},e.get_menu_type=function(e,n){return a("get",t+"/provider/wechat-menu-types",e,n)},e.customer_statistics=function(e,n){return a("post",t+"/bi/provider/customers",e,n,"application/json")},e.order_statistics=function(e,n){return a("post",t+"/bi/provider/order",e,n,"application/json")},e.get_provider_province=function(e,n){return a("get",t+"/provider/province",e,n)},e.get_provider_children=function(e,n){return a("get",t+"/provider/children/"+e.id,e,n)},e.rank_order=function(e,n){return a("post",t+"/bi/provider/rank-order",e,n,"application/json")},e.rank_goods=function(e,n){return a("post",t+"/bi/provider/rank-goods",e,n,"application/json")}}()},function(e,t,a){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,n){"object"===t(e)&&"object"===t(e.exports)?e.exports=a.document?n(a,!0):function(e){if(!e.document)throw new Error("I required a window with a document");return n(e)}:n(a)}("undefined"!=typeof window?window:void 0,function(e,a){Function.prototype.method=function(e,t){
return this.prototype[e]=t,this},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var a,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+"is not a function");for(arguments.length>1&&(a=t),n=0;n<i;){var o;n in r&&(o=r[n],e.call(a,o,n,r)),n++}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var n={},r={},i=r.toString,o=/\S+/g,s=/[\t\r\n\f]/g,c={eachVarType:function(e){var t="Boolean Number String Function Array Date RegExp Object Error".split(" ");return t.forEach(function(t){e["[object "+t+"]"]=t.toLowerCase()}),e},type:function(e){return null==e?e+"":"object"===("undefined"==typeof e?"undefined":t(e))||"function"==typeof e?r[i.call(e)]||"object":"undefined"==typeof e?"undefined":t(e)}};c.eachVarType(r),n.isFunction=function(e){return"function"===c.type(e)},n.isArray=function(e){return"array"===c.type(e)},n.isString=function(e){return"string"===c.type(e)},n.getId=function(e){return document.getElementById(e)},n.getClass=function(e){return document.getElementsByClassName(e)},n.namespace=function(e){function t(e){var t=e.split("."),a=n;for(var r in t)a[t[r]]||(a[t[r]]={}),a=a[t[r]];return a}if(n.isString(e))return t(e);if(n.isFunction(e)){var a=e.call(this);if(n.isString(a))return t(a);throw"必须返回一个有效的字符串。"}throw"not strings in "},n.addClass=function(e,t){var a,r,i,c,l,u,d=0,p=e.length||1;n.isFunction(t)&&(t=t.call(this,e.className));var m="string"==typeof t&&t;if(m)for(a=(t||"").match(o)||[];d<p;d++)if(r=e[d]||e,i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(s," "):" ")){for(l=0;c=a[l++];)i.indexOf(" "+c+" ")<0&&(i+=c+" ");u=i.trim(),r.className!==u&&(r.className=u)}return this},n.removeClass=function(e,t){var a,r,i,c,l,u,d=0,p=e.length||1;n.isFunction(t)&&(t=t.call(this,e.className));var m="undefined"==typeof t||"string"==typeof t&&t;if(m)for(a=(t||"").match(o)||[];d<p;d++)if(r=e[d]||e,i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(s," "):"")){for(l=0;c=a[l++];)for(;i.indexOf(" "+c+" ")>=0;)i=i.replace(" "+c+" "," ");u=t?i.trim():"",r.className!==u&&(r.className=u)}return this},n.Modal=function(){var e=null,t=function(e){this.settings={},this.init(e)};return t.method("init",function(t){if(!e){e=this;var a={width:"350",height:"600",title:"提示",titlePostion:"center",content:"",autoClose:!0,closeBtn:!1,closeCallback:null,cancel:!1,cancelCallback:null,cancelText:"关闭",ok:!0,okText:"确定",okCallback:null,maskClose:!1,init:null};n.isString(t)&&(t={content:t}),this.settings=$.extend(!0,a,t||{}),this.render(this.settings)}}),t.method("render",function(e){var t=this,a=null;this.createDom(e),a=$(".modal-body"),a.on("click",".modal-close",function(a){e.closeCallback&&e.closeCallback(t.destroy,$("#modal-content")),t.destroy()}),a.on("click",".modal-ok",function(a){e.okCallback&&e.okCallback(t.destroy,$("#modal-content"),{hideOkBtn:t.hideOkBtn,showCancelBtn:t.showCancelBtn.bind(t)}),t.settings.autoClose&&t.destroy()}),a.on("click",".modal-cancel",function(a){e.cancelCallback&&e.cancelCallback(t.destroy,$("#modal-content")),t.settings.autoClose&&t.destroy()}),$("body").on("click","#modal-mask",function(){if(e.maskClose){if(!t.settings.autoClose)return;t.destroy()}})}),t.method("createDom",function(e){var t='<div class="modal-mask" id="modal-mask" style="position: fixed;width: 100%;height: 100%;top: 0; left: 0;z-index: 1000;background: rgba(0,0,0,0.4);"></div>',a='<div id="modal-body" class="modal-body" style="position: fixed;padding-bottom: 20px;width: '+e.width+"px;max-height: "+e.height+'px;top: 50%;left: 50%;-webkit-transform: translate(-50%,-50%);-moz-transform: translate(-50%,-50%);-ms-transform: translate(-50%,-50%);-o-transform: translate(-50%,-50%);transform: translate(-50%,-50%);overflow: hidden;background: #fff;z-index: 1001;"><h4 class="modal-title" style="position: relative;margin: 0;padding-left: 20px;border-top: 4px solid #38b7f6;line-height: 42px;font-size: 14px;border-bottom: 1px solid #d0d0d0;">'+e.title+'<i id="modal-close" class="modal-close" style="display: '+(e.closeBtn?"inline-block":"none")+';position: absolute;top: 3px;right: 3px;width: 20px;height: 20px;line-height: 16px;text-align: center;border-radius: 50%;font-style: normal;cursor: pointer">x</i></h4><div class="modal-content" id="modal-content" style="width: 96%;padding: 20px;color: #666;overflow: auto;word-break: break-all;">'+e.content+'</div><div class="modal-btn-group" style="text-align: center; padding: 0;"><button id="modal-ok" class="modal-ok btn btn-warning" style="display: '+(e.ok?"inline-block":"none")+';width: 106px;height: 32px;border: 1px solid #38b7f6;margin: 0 5px; margin: 0 20px; font-size: 14px; color:#fff;background-color: #38b7f6;">'+e.okText+'</button><button id="modal-cancel" class="modal-cancel btn btn-warning" style="display: '+(e.cancel?"inline-block":"none")+'; width: 106px;height: 32px;border: 1px solid #38b7f6; margin: 0 5px; margin: 0 20px; font-size: 14px; color: #38b7f6;background-color: #fff;">'+e.cancelText+"</button></div></div>";$("body").append(t).append(a),e.init&&e.init()}),t.method("destroy",function(){$(".modal-body, .modal-close, .modal-ok, .modal-cancel").off(),$(".modal-mask").remove(),$(".modal-body").remove(),e=null}),t.method("hideOkBtn",function(){$(".modal-ok").hide()}),t.method("showCancelBtn",function(){this.settings.autoClose=!0,$(".modal-cancel").show()}),function(e){if(!e)throw"error: 没有传参数。";return new t(e)}}(),n.isPhone=function(e){var t=/^1[0-9]{10}$/;return t.test(e)},n.isEmail=function(e){var t=/^[^\[\]\(\)\\<>:;,@.]+[^\[\]\(\)\\<>:;,@]*@[a-z0-9A-Z]+(([.]?[a-z0-9A-Z]+)*[-]*)*[.]([a-z0-9A-Z]+[-]*)+$/g;return t.test(e)},n.isFloat=function(e){var t=/^((0|[1-9][0-9]*)(\.[0-9]{0,2})?)$/;return t.test(e)},n.isNumber=function(e,t){var a=0==t?/^(0|[1-9][0-9]*)$/:/^([1-9][0-9]*)$/;return a.test(e)},n.priceSwitch=function(e){var t=e||0==e?e/100:0;return t},n.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},n.Date=function(){var e=new Date;return{getFullYear:function(){return e.getFullYear()},getMonth:function(){var t=e.getMonth()+1;return t<10&&(t="0"+t),t},getCodeMonth:function(){return e.getMonth()+1},getDate:function(){var t=e.getDate();return t<10&&(t="0"+t),t},getCodeDate:function(){return e.getDate()}}}(),n.GetDateStr=function(e){var t=new Date;t.setDate(t.getDate()+e);var a=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n<10&&(n="0"+n),r<10&&(r="0"+r);var i={time1:a+"-"+n+"-"+r,time2:n+"月"+r+"日",time3:t.getTime()};return i},n.getSouroundDate=function(e){var t=n.Date.getCodeDate(),a=n.Date.getCodeMonth(),r=n.Date.getFullYear(),i=n.Date.getMonth(),o=Number(t)-Math.min(e,14);if(o>=10){if(0===a)return r+"-01-01";if(2===a)return r%4==0&&r%100!=0||r%400==0?o>=30&&(a+=1,o="01"):o>=29&&(a+=1,o="01"),r+"-0"+a+"-"+o;if(a%2===1&&a<8)return o>=32&&(a+=1,o="01"),r+"-0"+a+"-"+o;if(a%2===1&&a>8){if(o>=31&&(a+=1,o="01"),9===a)return r+"-0"+a+"-"+o;if(11===a)return r+"-"+a+"-"+o}else{if(a%2===0&&a<8)return o>=31&&(a+=1,o="01"),r+"-0"+a+"-"+o;if(a%2===0&&a>=8)return o>=32&&(a+=1,a>=13&&(a="01",r+=1),o="01"),8===a?r+"-0"+a+"-"+o:r+"-"+a+"-"+o}}else{if(o<10&&o>0)return r+"-"+i+"-0"+o;if(o<=0){if(a-=1,o=Math.abs(o),a=0)return r+"-01-01";if(a=2)return o=29-o,r+"-0"+a+"-"+o;if(a%2===1&&a<8)return console.log(o),o=31-o,r+"-0"+a+"-"+o;if(a%2===1&&a>8)return o=30-o,9===a?r+"-0"+a+"-"+o:r+"-"+a+"-"+o;if(a%2===0&&a<8)return o=30-o,r+"-0"+a+"-"+o;if(a%2===0&&a>=8)return o=31-o,8===a?r+"-0"+a+"-"+o:r+"-"+a+"-"+o}}},n.getLadingCode=function(e,t,a){var n=[];a||(a="");for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)r==t[i]&&n.push(e[r]<10?"0"+e[r]:e[r]);return n.join(a)},n.objKeySort=function(e){for(var t=Object.keys(e).sort(function(e,t){return t-e}),a={},n=0;n<t.length;n++)a[t[n]]=e[t[n]];return a},n.overdue=function(){this.Modal({content:"登录已过期，请重新登录",okCallback:function(){e.location.href="/"}})},n.Calendar={_today:new Date,_date:(new Date).getDate(),_day:(new Date).getDay(),_month:(new Date).getMonth()+1,_year:(new Date).getFullYear(),setDate:function(){this._date=new Date(this._today).getDate()},setDay:function(){this._day=new Date(this._today).getDay()},setMonth:function(){this._month=new Date(this._today).getMonth()+1},setYear:function(){this._year=new Date(this._today).getFullYear()},init:function(e){this._today=new Date(e),this.setDate(),this.setDay(),this.setMonth(),this.setYear()},isLeap:function(){var e=this._year;return e%4==0&&e%100>0||e%400==0&&e%3200>0},getLen:function(){return 2==this._month?this.isLeap()?29:28:this._month<8?this._month%2>0?31:30:this._month%2>0?30:31},getCalendar:function(e){for(var t=this.getLen(),a=new Date(this._year,this._month-1,1),n=a.getDay(),r=new Array,i=0,o="",s=0;s<6;s++){r[s]=new Array;for(var c=0;c<7;c++)i++,i-n>0&&i-n<=t?r[s][c]=i-n:r[s][c]=""}o+='<table class="sign_tab" border="0px" cellpadding="0px" cellspacing="0px">',o+="<thread><tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr></thread>",o+="<tbody>";for(var l=0;l<6;l++)if(5!=l||""!=r[l][0]){o+="<tr>";for(var u=0;u<r[l].length;u++)if(this.contains(e,r[l][u]))o+='<td class="red_tbg" data-num="'+r[l][u]+'">'+r[l][u]+'<span class="tbg_num"></span></td>';else{if(r[l][u]==this._date){o+='<td class="cur_day">'+r[l][u]+"</td>";continue}if(""==r[l][u]){o+='<td class="over">'+r[l][u]+"</td>";continue}o+="<td>"+r[l][u]+"</td>"}o+="</tr>"}return o+="</tbody>",o+="</table>"},nextMonth:function(){return 12==this._month&&(this._year++,this._month=0),this._month++,{year:this._year,month:this._month<10?"0"+this._month:this._month}},nextYear:function(){this._year++},previousMonth:function(){return 1==this._month&&(this._year--,this._month=13),this._month--,{year:this._year,month:this._month<10?"0"+this._month:this._month}},previousYear:function(){this._year--},contains:function(e,t){for(var a=0;a<e.length;a++)if(e[a]==t)return!0;return!1}},n.getUrlParam=function(t){var a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=e.location.search.substr(1).match(a);return null!=n?unescape(n[2]):null},n.cookie=function(){function e(e,t,a){var n=new Date;n.setTime(n.getTime()+60*a*60*1e3),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()}function t(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?unescape(t[2]):null}return{setCookie:e,getCookie:t}}(),n.cdn="http://img.idongpin.com/",e.H=n})}).call(t,a(11)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);