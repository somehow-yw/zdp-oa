!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="/",t(0)}([function(e,t,a){a(42),a(41),e.exports=a(20)},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getPage=r.getPage.bind(r),r}return r(t,e),s(t,[{key:"getPage",value:function(){this.props.clickEv(this.props.num)}},{key:"render",value:function(){var e="";return e="active"==this.props.classN?"active":"",React.createElement("li",{className:e,onClick:this.getPage},React.createElement("a",null,this.props.num))}}]),t}(React.Component),i=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={pageNum:1,_maxPage:18,numArr:[]},r.setPageData=r.setPageData.bind(r),r.calculatePage=r.calculatePage.bind(r),r}return r(t,e),s(t,[{key:"calculatePage",value:function(e){var t=this;if(e!=this.state.pageNum)return e<1?void(e=1):e>this.state._maxPage?void(e=this.state._maxPage):void this.setPageData(e,this.state._maxPage,function(e){t.props.clickCallback&&t.props.clickCallback({page:e})})}},{key:"setPageData",value:function(e,t,a){var t=t||1,n=[];if(t>=9){if(e<=5)n=[1,2,3,4,5,6,7,8,9];else if(e>5&&e<t-4)for(var r=e-4;r<=e+4;r++)n.push(r);else if(e>=t-4)for(var r=t-8;r<=t;r++)n.push(r)}else for(var r=1;r<=t;r++)n.push(r);this.setState({pageNum:e,_maxPage:t,numArr:n},function(){a&&a(e)})}},{key:"componentWillMount",value:function(){this.setPageData(this.state.pageNum,this.props.maxPage)}},{key:"componentWillReceiveProps",value:function(e){var t=1;t=this.props.pageNum?this.props.pageNum:this.state.pageNum,this.setPageData(t,e.maxPage)}},{key:"render",value:function(){var e="",t="",a=[],n=this.state.pageNum,r=this.calculatePage;return 1==this.state.pageNum&&(e="disabled"),this.state.pageNum==this.state._maxPage&&(t="disabled"),this.state.numArr.forEach(function(e,t){n==e?a.push(React.createElement(o,{key:t,num:e,clickEv:r,classN:"active"})):a.push(React.createElement(o,{key:t,num:e,clickEv:r}))}),React.createElement("nav",null,React.createElement("ul",{className:"pagination"},React.createElement("li",{className:e,onClick:this.calculatePage.bind(this,1)},React.createElement("a",{"aria-label":"Previous"},"首页")),React.createElement("li",{className:e,onClick:this.calculatePage.bind(this,this.state.pageNum-1)},React.createElement("a",{"aria-label":"Previous"},React.createElement("span",{"aria-hidden":"true"},"«"))),a,React.createElement("li",{className:t,onClick:this.calculatePage.bind(this,this.state.pageNum+1)},React.createElement("a",{"aria-label":"Next"},React.createElement("span",{"aria-hidden":"true"},"»"))),React.createElement("li",{className:t,onClick:this.calculatePage.bind(this,this.state._maxPage)},React.createElement("a",{"aria-label":"Next"},React.createElement("span",{"aria-hidden":"true"},"尾页")))))}}]),t}(React.Component);t.default=i},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),s(t,[{key:"createButtons",value:function(){var e=this.props.bindData,t=this.props.style,a=this.props.status,n=this.props.activeStyle,r=this.props.operate,s=[];return this.props.btnNames.map(function(o,i){s.push(React.createElement("a",{"data-operate":r?r[i]:null,className:a!=e[i]?t:n,key:i,"data-index":e[i],href:"javascript:;"},o))}),s}},{key:"render",value:function(){return React.createElement("div",{style:{display:"inline-block"},onClick:this.props.clickCallback||null,className:this.props.identification,"data-index":this.props.index},this.createButtons())}}]),t}(React.Component);o.defaultProps={style:"",bindData:[1,2,3,4,5,6,7,8],status:0},t.default=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(2),c=n(l),u=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.bodyOperate,t=this.props.id.split("_").join("-");for(var a in e)$("#"+this.props.id+"_table").delegate("."+t+"-operate"+a,"click",e[a])}},{key:"createHead",value:function(){for(var e=this.props.headlines,t=this.props.headOperate,a=this.props.headStyle,n=e.length,r=new Array(n),s=0;s<n;s++)r[s]=void 0===t[s]?React.createElement("th",{key:s},e[s]):React.createElement("th",{key:s},React.createElement("a",{href:"javascript:;","data-index":s,onClick:t[s]},e[s],React.createElement("span",{className:a},null)));return React.createElement("tr",null,r)}},{key:"createBody",value:function(){for(var e=this.props.values,t=this.props.values.length,a=this.props.headlines.length,n=this.props.order,r=this.props.bodyOperate,s=this.props.status,o=this.props.style,i=this.props.statusOperate,l=new Array(t),u="",d="",p="",f=this.props.operate,m=this.props.id.split("_").join("-"),h=this.props.cellStyle,g=0;g<t;g++){for(var b=e[g],v=new Array(a),y=0;y<a;y++){var _=null;h&&h[y]&&b[h[y].condition[0]]==h[y].condition[1]&&(_=h[y].style),p=i[b[n[y]]],u=void 0===s[y]?b[n[y]]:s[y][b[n[y]]],d=void 0===p?React.createElement("a",{href:"javascript:;",className:m+"-operate"+y+" "+o,"data-index":g},u):React.createElement(c.default,{style:o,btnNames:p,identification:m+"-operate"+y,index:g}),void 0!==f[y]&&(d=React.createElement(c.default,{style:o,btnNames:f[y],identification:m+"-operate"+y,index:g})),v[y]=void 0===r[y]?React.createElement("td",{style:_,key:y},u):React.createElement("td",{style:_,key:y},d)}l[g]=React.createElement("tr",{key:g},v)}return l}},{key:"render",value:function(){return React.createElement("table",{className:"table table-bordered table-hover table-responsive"},React.createElement("thead",null,this.createHead()),React.createElement("tbody",{id:this.props.id+"_table"},this.createBody()))}}]),t}(React.Component);u.defaultProps={status:{},statusOperate:{},headOperate:{},bodyOperate:{},style:"",headStyle:"",operate:{}},t.default=u},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(34),c=n(l),u=a(35),d=n(u),p=a(36),f=n(p),m=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={panelStatus:"0"},a.createPanel=a.createPanel.bind(a),a}return o(t,e),i(t,[{key:"setPanelStatus",value:function(e){var t=e.target.dataset.index;t&&this.setState({panelStatus:t})}},{key:"createPanel",value:function(){var e="";switch(this.state.panelStatus){case"0":e=React.createElement(c.default,{goodsId:this.props.goodsId,area:this.props.areaId,closePanel:this.props.closePanel,getGoodsList:this.props.getGoodsList});break;case"1":e=React.createElement(d.default,{goodsID:this.props.goodsId});break;case"2":e=React.createElement(f.default,{goodsID:this.props.goodsId})}return e}},{key:"render",value:function(){return React.createElement("div",{className:"goods-info-ctrl"},React.createElement("div",{className:"goods-info container-fluid"},React.createElement("h3",{className:"title"},React.createElement("a",{className:"goods-info-back",onClick:this.props.closePanel},"返回上一页")," 商品信息"),React.createElement("div",{className:"goods-info-container"},React.createElement("div",{className:"nav-tab clearfix",onClick:this.setPanelStatus.bind(this)},React.createElement("div",{className:0==this.state.panelStatus?"item active":"item","data-index":0},"商品信息"),React.createElement("div",{className:1==this.state.panelStatus?"item active":"item","data-index":1},"商品处理日志"),React.createElement("div",{className:2==this.state.panelStatus?"item active":"item","data-index":2},"商品历史价格")),this.createPanel())))}}]),t}(React.Component);t.default=m},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={status:!0},r.confirmHandler=r.confirmHandler.bind(r),r.cancelHandler=r.cancelHandler.bind(r),r}return r(t,e),s(t,[{key:"confirmHandler",value:function(){this.props.confirmCallback&&this.props.confirmCallback()}},{key:"cancelHandler",value:function(){this.props.cancelCallback&&this.props.cancelCallback()}},{key:"render",value:function(){var e="",t="";return this.props.confirm&&(e=React.createElement("button",{className:"modal-btn active",onClick:this.confirmHandler},this.props.confirm)),this.props.cancel&&(t=React.createElement("button",{className:"modal-btn",onClick:this.cancelHandler},this.props.cancel)),React.createElement("div",{className:this.state.status?"modal-wrap show":"modal-wrap"},React.createElement("div",{className:"modal-mask-react"}),React.createElement("div",{className:"modal-container",style:{width:this.props.width?this.props.width:"350px"}},React.createElement("div",{className:"modal-head-react"},React.createElement("i",{className:"glyphicon close-icon",onClick:this.cancelHandler}),this.props.header?this.props.header:"弹窗"),React.createElement("div",{className:"modal-body-react"},this.props.children),React.createElement("div",{className:"modal-foot-react"},e,t)))}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={typeArr:null},r.createSelect=r.createSelect.bind(r),r.changeClassAll=r.changeClassAll.bind(r),r.createArr=r.createArr.bind(r),r}return r(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this;this.props.typeId&&1!=this.props.typeId?this.createArr():this.props._dataArr?this.setState({typeArr:this.props._dataArr},function(){e.props.showAll&&e.changeClassAll()}):this.props.showAll&&this.changeClassAll()}},{key:"componentWillReceiveProps",value:function(e){e._dataArr&&this.setState({typeArr:this.props._dataArr})}},{key:"changeClass",value:function(e,t){var a=this.state.typeArr||[],n=this.props.data;if(t.target.value&&0!=t.target.value){a[e]=t.target.value;for(var r=0;r<=e;r++){if(n=n[a[r]],!(Object.keys(n).length>2)){var s=[];for(var o in a){if(!(o<=e))break;s.push(a[o])}a=s;break}if(r==a.length-1&&0!=a[a.length-1]){a.push(0);break}}}else{var i=[];for(var l in a)if(l<e)i.push(a[l]);else{if(l!=e)break;i.push(0)}a=i}this.setState({typeArr:a});var c=this.props.typeId;c=a.length>1&&0==a[a.length-1]?a[a.length-2]:a[a.length-1],this.props.setTypeId(c)}},{key:"changeClassAll",value:function(e,t){var a=this.state.typeArr||[],n=this.props.data,r=[];if(e){a[e]=t.target.value;for(var o=0;o<=e;o++)n=n[a[o]],r.push(a[o])}for(var i in n){if("object"==s(n[i])){n=n[i],r.push(i);for(var l in n){if("object"==s(n[l])){n=n[l],r.push(l);for(var c in n){if("object"==s(n[c])){n=n[c],r.push(c);for(var u in n){if("object"==s(n[u])){n=n[u],r.push(u);for(var d in n){if("object"==s(n[d])){n=n[d],r.push(d);for(var p in n){"object"==s(n[p])&&(n=n[p],r.push(p));break}}break}}break}}break}}break}}break}a=r,this.setState({typeArr:a}),this.props.setTypeId(a[a.length-1])}},{key:"createArr",value:function(){var e=this.props.data,t=this.props.typeId;for(var a in e){var n=e[a];for(var r in n)if("object"===s(n[r])){var o=n[r];for(var i in o)if("object"===s(o[i])){var l=o[i];for(var c in l)if("object"===s(l[c])){var u=l[c];for(var d in u)if("object"===s(u[d])){var p=u[d];for(var f in p)if("object"===s(p[f])){var m=[a,r,i,c,d,f];if(p[f].type_id==t)return void this.setState({typeArr:m})}var h=[a,r,i,c,d];if(u[d].type_id==t)return void this.setState({typeArr:h})}var g=[a,r,i,c];if(l[c].type_id==t)return void this.setState({typeArr:g})}var b=[a,r,i];if(o[i].type_id==t)return void this.setState({typeArr:b})}var v=[a,r];if(n[r].type_id==t)return void this.setState({typeArr:v})}var y=[a];if(e[a].type_id==t)return void this.setState({typeArr:y})}}},{key:"createSelect",value:function(){var e=this.props.data,t=this.state.typeArr||[0],a=[];if(!e)return a;var n=e;for(var r in t){var o=[];for(var i in n)"object"===s(n[i])&&o.push(React.createElement("option",{key:n[i].type_id+"_"+r,value:n[i].type_id},n[i].type_name));n[t[r]]&&(n=n[t[r]]),a.push(React.createElement("div",{className:"form-group",key:t[r]},this.props.showAll?React.createElement("select",{value:0==t[r]?0:t[r],className:"form-control",onChange:this.changeClassAll.bind(this,r),disabled:!!this.props.disabled},o):React.createElement("select",{value:0==t[r]?0:t[r],className:"form-control",onChange:this.changeClass.bind(this,r),disabled:!!this.props.disabled},React.createElement("option",{value:"0"},"选择..."),o)))}return a}},{key:"render",value:function(){return React.createElement("div",{className:"form-group select-goods-type"},this.createSelect())}}]),t}(React.Component);t.default=i},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(6),c=n(l),u=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setTypeId=a.setTypeId.bind(a),a}return o(t,e),i(t,[{key:"changeClassName",value:function(e){var t=this.props.param;t.type_name=e.target.value,this.props.setParam(t)}},{key:"changeKeyword",value:function(e){var t=this.props.param;t.type_keywords=e.target.value,this.props.setParam(t)}},{key:"setTypeId",value:function(e){var t=this.props.param;t.parent_id=e,this.props.setParam(t)}},{key:"chooseImg",value:function(e){var t=this,a=e.target.files[0],n=a.name.substring(a.name.lastIndexOf(".")+1).toLowerCase(),r=".jpg,.bmp,.gif,.png,.jpeg",s="Public/Uploads/goodsTypeIcon/"+(new Date).getTime()+Math.floor(10*Math.random())+"."+n;if(r.indexOf(n)==-1)return void H.Modal("仅支持"+r+"为后缀名的文件!");var o={expiration:"2120-12-01T12:00:00.000Z",conditions:[["starts-with",s,""],{bucket:"idongpin"},["starts-with",a.type,""],["content-length-range",0,104857600]]},i=Base64.encode(JSON.stringify(o));H.server.other_oss_signature({signature_data:i},function(e){if(0==e.code){var n=e.data.signature;H.server.other_oss_identity_data({},function(e){if(0==e.code){var r=e.data.access_id,o=new FormData;o.append("key",s),o.append("Content-Type",a.type),o.append("Content-Length",Math.round(100*a.size/1024)/100),o.append("Content-Encoding","compress"),o.append("OSSAccessKeyId",r),o.append("policy",i),o.append("signature",n),o.append("file",a);var l=new XMLHttpRequest;l.addEventListener("load",function(){var e=t.props.param;e.type_pic_url=s,t.props.setParam(e)},!1),l.addEventListener("error",function(){H.Modal("上传出现错误，您可以重新点击上传")},!1),l.addEventListener("abort",function(){H.Modal("上传中断，请检查网络后重新上传")},!1),l.open("POST","http://oss-cn-qingdao.aliyuncs.com/idongpin",!0),l.send(o)}else 10106==e.code?H.overdue():H.Modal(e.message)})}else 10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"render",value:function(){return React.createElement("div",{className:"add-goods-class"},React.createElement("div",{className:"form-inline"},React.createElement("label",{className:"control-label"},"所属分类："),React.createElement(c.default,{data:this.props.data,typeId:this.props.param.parent_id,setTypeId:this.setTypeId,_dataArr:this.props._dataArr,disabled:this.props.disabled})),React.createElement("div",{className:"form-inline"},React.createElement("label",{className:"control-label"},"分类名："),React.createElement("input",{id:"goods_type_name",type:"text",className:"form-control",value:this.props.param.type_name,onChange:this.changeClassName.bind(this)})),React.createElement("div",{className:"form-inline"},React.createElement("label",null,"关键词："),React.createElement("textarea",{id:"goods_type_keywords",className:"form-control",value:this.props.param.type_keywords,onChange:this.changeKeyword.bind(this)})),React.createElement("div",{className:"form-inline"},React.createElement("label",null,"小图片："),React.createElement("label",{key:Math.random()+"",htmlFor:"chooseClassIcon"+(this.props.typeId||""),className:"choose-class-icon-warp"},React.createElement("input",{id:"chooseClassIcon"+(this.props.typeId||""),className:"choose-class-icon",type:"file",onChange:this.chooseImg.bind(this)}),this.props.param.type_pic_url?React.createElement("img",{style:{verticalAlign:"top"},src:"http://img.idongpin.com/"+this.props.param.type_pic_url,width:"100%",height:"100%"}):React.createElement("span",null,"上传图片"))))}}]),t}(React.Component);t.default=u},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={status:"1",values:null,xRule:"string",yRule:"string"},e}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.values&&this.setState({status:this.props.values.format_type_id+"",values:this.props.values,rules:this.props.rules.verify_format,options:this.props.rules.input_format,xRule:this.props.values.format_values[0]?this.props.values.format_values[0].rule:"string",yRule:this.props.values.format_values[1]?this.props.values.format_values[1].rule:"string"})}},{key:"componentWillReceiveProps",value:function(e){this.props.values&&this.setState({status:e.values.format_type_id+"",values:e.values,rules:e.rules.verify_format,options:e.rules.input_format,xRule:e.values.format_values[0]?e.values.format_values[0].rule:"string",yRule:e.values.format_values[1]?e.values.format_values[1].rule:"string"})}},{key:"createOptions",value:function(){var e=[];return this.state.options.map(function(t,a){e.push(React.createElement("option",{key:a,value:t.id},t.name))}),React.createElement("div",{className:"form-inline"},React.createElement("label",null,"格式："),React.createElement("select",{onChange:this.toggleComponent.bind(this),"data-type":"type_id",value:this.state.status,className:"form-control"},e))}},{key:"createRadioBox",value:function(){var e=this,t=[];return this.state.values.format_values.map(function(a,n){t.push(React.createElement("div",{key:n,className:"form-inline space"},React.createElement("input",{"data-index":n,onChange:e.updateRadioBox.bind(e),value:a.value,className:"form-control"}),"    ",React.createElement("a",{onClick:e.deleteItem.bind(e,n),href:"javascript:;"},React.createElement("i",{className:"glyphicon glyphicon-minus",style:{color:"white",borderRadius:"50%",backgroundColor:"red",display:"inline-block",width:"16px",height:"16px",paddingTop:"1px"}}))))}),React.createElement("div",null,React.createElement("br",null),React.createElement("label",{style:{verticalAlign:"top"}},2==this.state.status?"单选：":"多选："),React.createElement("div",{className:"btn-group"},t,React.createElement("button",{className:"btn btn-sm space",onClick:this.addRadio.bind(this)},"添加选项+")))}},{key:"createInputBox",value:function(){var e=[],t="",a=this.state.values.format_values;return"string"!=this.state.xRule&&(t=React.createElement("input",{className:"form-control form-control-no-left",type:"text","data-unit":"left",style:{display:"inline-block",width:"60px"},onChange:this.updateValue.bind(this),value:a[0]?a[0].unit:null})),this.state.rules.map(function(t,a){e.push(React.createElement("option",{key:+new Date+a,value:t.rule},t.name))}),React.createElement("div",{className:"form-inline"},React.createElement("br",null),React.createElement("label",null,"文本输入框："),React.createElement("select",{"data-rule":"left",onChange:this.updateValue.bind(this),value:this.state.xRule,className:"form-control"},e),t)}},{key:"createXYRange",value:function(){var e=[],t=this.state.values.format_values;return this.state.rules.map(function(t,a){e.push(React.createElement("option",{key:+new Date+a,value:t.rule},t.name))}),React.createElement("div",{className:"form-inline"},React.createElement("br",null),React.createElement("label",null,"X-Y："),React.createElement("select",{"data-rule":"left",onChange:this.updateValue.bind(this),value:this.state.xRule,className:"form-control form-control-no-left"},e),React.createElement("input",{className:"form-control form-control-no-left",type:"text","data-unit":"left",style:{display:"inline-block",width:"60px"},onChange:this.updateValue.bind(this),value:t[0]?t[0].unit:null}),"—",React.createElement("select",{"data-rule":"right",onChange:this.updateValue.bind(this),value:this.state.yRule,className:"form-control form-control-no-left"},e),React.createElement("input",{className:"form-control form-control-no-left",type:"text","data-unit":"right",style:{display:"inline-block",width:"60px"},value:t[1]?t[1].unit:null,onChange:this.updateValue.bind(this)}))}},{key:"createXY",value:function(){var e=[],t=this.state.values.format_values;return this.state.rules.map(function(t,a){e.push(React.createElement("option",{key:+new Date+a,value:t.rule},t.name))}),React.createElement("div",{className:"form-inline"},React.createElement("br",null),React.createElement("label",null,"X*Y："),React.createElement("select",{"data-rule":"left",onChange:this.updateValue.bind(this),value:this.state.xRule,className:"form-control form-control-no-left"},e),React.createElement("input",{type:"text","data-unit":"left",style:{display:"inline-block",width:"60px"},className:"form-control form-control-no-left",onChange:this.updateValue.bind(this),value:t[0]?t[0].unit:null}),"*",React.createElement("select",{"data-rule":"right",onChange:this.updateValue.bind(this),value:this.state.yRule,className:"form-control form-control-no-left"},e),React.createElement("input",{type:"text",style:{display:"inline-block",width:"60px"},"data-unit":"right",className:"form-control form-control-no-left",onChange:this.updateValue.bind(this),value:t[1]?t[1].unit:null}))}},{key:"toggleComponent",value:function(e){this.updateValue(e),this.setState({status:e.target.value})}},{key:"showComponent",value:function(){var e=null;switch(this.state.status){case"1":e=this.createInputBox();break;case"2":e=this.createRadioBox();break;case"3":e=this.createRadioBox();break;case"4":e=this.createXYRange();break;case"5":e=this.createXY()}return e}},{key:"addRadio",value:function(){var e=this.state.values,t={value:"",unit:"",rule:"string",default:!1};e.format_values.push(t),this.props.handler(e,this.props.num),this.setState({values:e})}},{key:"updateRadioBox",value:function(e){var t=this.state.values,a=e.target,n=t.format_values,r=a.dataset.index;t.format_type_id=this.state.status,n[r].value=a.value,this.props.handler(t,this.props.num),this.setState({values:t})}},{key:"deleteItem",value:function(e){var t=this.state.values,a=t.format_values;a.splice(e,1),this.props.handler(t,this.props.num),this.setState({values:t})}},{key:"updateValue",value:function(e){var t=this.state.values,a=e.target,n="",r="",s=t.format_values;if("type_id"==a.dataset.type){t.format_type_id=a.value;var o={value:"",unit:"",rule:"string",default:!1};t.format_values=[],t.format_values[0]=o,this.setState({format_type_id:a.value})}else if("left"==a.dataset.rule||"left"==a.dataset.unit){if("1"==t.format_type_id&&"string"==e.target.value){var i={value:"",unit:"",rule:"string",default:!1};t.format_values=[],t.format_values[0]=i}if(!s[0]){var l={value:"",unit:"",rule:"string",default:!1};s.push(l)}"SELECT"==a.nodeName?(n=a.value,s[0].rule=a.value):s[0].unit=a.value}else if("right"==a.dataset.rule||"right"==a.dataset.unit){if(!s[1]){var c={value:"",unit:"",rule:"string",default:!1};s.push(c)}"SELECT"==a.nodeName?(r=a.value,s[1].rule=a.value):s[1].unit=a.value}n?this.setState({values:t,xRule:n}):r&&this.setState({values:t,yRule:r}),this.props.handler(t,this.props.num)}},{key:"render",value:function(){return this.state.values?React.createElement("div",null,this.createOptions(),this.showComponent()):null}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),o(t,[{key:"CreateClass",value:function(){var e=this.props.data,t=[];if(!e)return[];for(var a in e){var n=[],r=e[a],o=!1;for(var i in r)if("object"===s(r[i])){o=!0;var l=[],c=!1,u=r[i];for(var d in u)if("object"===s(u[d])){c=!0;var p=[],f=!1,m=u[d];for(var h in m)if("object"===s(m[h])){
f=!0;var g=[],b=!1,v=m[h];for(var y in v)if("object"===s(v[y])){b=!0;var _=[],k=!1,E=v[y];for(var R in E)if("object"===s(E[R])){k=!0;var w=[a,i,d,h,y];_.push(this.itemXml(E[R],!1,[],w))}var N=[a,i,d,h];g.push(this.itemXml(v[y],k,_,N))}var x=[a,i,d];p.push(this.itemXml(m[h],b,g,x))}var C=[a,i];l.push(this.itemXml(u[d],f,p,C))}var S=[a];n.push(this.itemXml(r[i],c,l,S))}var O=[0];t.push(this.itemXml(e[a],o,n,O,1))}return React.createElement("ul",{className:"goods-class-treeview",style:{margin:"0"}},t)}},{key:"itemXml",value:function(e,t,a,n,r){var s="",o="";return this.props.goodsNumber&&e.goods_number>0&&(s="("+e.goods_number+")"),t&&(o=r?"toggle-open":"toggle-close"),React.createElement("li",{key:e.type_id,className:o},t?React.createElement("div",{className:t?"cuttle-icon":"",onClick:this.handler.bind(this)}):React.createElement("div",{className:"last-icon"}),React.createElement("div",{className:"goods-class-name",onClick:this.classClick.bind(this,e.type_id,n,t)},e.type_name,s),this.props.sortState?React.createElement("input",{type:"text",defaultValue:e.sort_value,className:"class-sort",onChange:this.changeClassSort.bind(this,e.type_id)}):"",t?React.createElement("ul",null,a):"")}},{key:"changeClassSort",value:function(e,t){var a=t.target.value,n={type_id:e,sort_value:a};this.props.setTypeSortParam&&this.props.setTypeSortParam(n)}},{key:"classClick",value:function(e,t,a,n){this.props.updateGoodsClass&&this.props.updateGoodsClass(e,t,a),$(".goods-class-name").removeClass("active"),$(n.target.parentNode).addClass("active")}},{key:"handler",value:function(e){var t=$(e.target).parent();"toggle-open"===t.attr("class")?(t.removeClass("toggle-open"),t.addClass("toggle-close")):(t.removeClass("toggle-close"),t.addClass("toggle-open"))}},{key:"render",value:function(){return React.createElement("div",{className:"goods-class-tree"},this.CreateClass())}}]),t}(React.Component);t.default=i},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"render",value:function(){return React.createElement("button",{className:"btn "+this.props.otherClass,onClick:this.props.btnEvent.bind(this)},this.props.name)}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={ulStyleObj:{position:"absolute",top:"100%",right:0,zIndex:"10",width:"100%",backgroundColor:"#fff",border:"1px solid #ccc",boxShadow:"0 5px 5px 2px rgba(0, 0, 0, 0.2)",maxHeight:"500px",overflowY:"auto",paddingLeft:"12px",display:"none"},val:"",data:[]},r}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.val!=this.state.val&&this.setState({val:this.props.val}),document.addEventListener("click",function(e){e.target.dataset.choose||$(".choose-search").hide()})}},{key:"componentWillReceiveProps",value:function(e){e.val!=this.state.val&&this.setState({val:e.val})}},{key:"setData",value:function(e){var t=e.target.value,a=this.props.data,n=this.props.keyArr,r=this.props.diffArr,s=[];if(""!=t){var o=H.trim(t);for(var i in a)if(n[0]){var l=a[i][n[0]];for(var c in l)if(n[1]){var u=l[c][n[1]];for(var d in u)u[d][r[1]].indexOf(o)!=-1&&s.push(u[d])}else l[c][r[1]].indexOf(o)!=-1&&s.push(l[c])}else a[i][r[1]].indexOf(o)!=-1&&s.push(a[i]);$(".choose-search").show()}this.setState({val:t,data:s})}},{key:"chooseClick",value:function(e){var t=e.target.dataset.choose,a=e.target.dataset.text;t&&this.props.callback&&this.props.callback(t,a),$(".choose-search").hide()}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"form-control",style:{position:"relative"}},React.createElement("input",{type:"text",placeholder:this.props.placeholder||"",style:{outline:"none",width:"100%",border:"none"},value:this.state.val,onChange:this.setData.bind(this),onFocus:this.setData.bind(this),"data-choose":"-1"}),React.createElement("ul",{className:"choose-search",style:this.state.ulStyleObj,onClick:this.chooseClick.bind(this)},this.state.data.map(function(t,a){return React.createElement("li",{key:a,style:{lineHeight:"34px",cursor:"pointer"},"data-choose":t[e.props.diffArr[0]],"data-text":t[e.props.diffArr[1]]},t[e.props.diffArr[1]])})),React.createElement("i",{className:"glyphicon search-icon",style:{position:"absolute",right:"0",top:"0",color:"#ccc",fontSize:"20px",lineHeight:"32px",width:"34px",textAlign:"center",backgroundColor:"#fff"}}))}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={optionArr:[],val:0},r.selChange=r.selChange.bind(r),r}return r(t,e),s(t,[{key:"selChange",value:function(){this.props.changeEv&&this.props.changeEv(this.refs.selectNode.value),this.setState({val:this.refs.selectNode.value})}},{key:"componentWillMount",value:function(){this.setState({optionArr:this.props.dropdownData}),this.setState({val:this.props.selectVal})}},{key:"render",value:function(){var e="",t=this.state.optionArr,a="";return this.props.checkData&&(a=this.props.checkData),e=t.map(function(e,t){var n="";return n=a[t]?a[t]:t,React.createElement("option",{value:n,key:t},e)}),React.createElement("select",{value:this.state.val,className:"form-control",onChange:this.selChange,ref:"selectNode"},e)}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),s(t,[{key:"changeHandler",value:function(e){this.props.changeHandler&&this.props.changeHandler(this.props.param.identify,e)}},{key:"render",value:function(){var e=this.props.param;return React.createElement("div",{className:"form-control input-unit"},React.createElement("input",{type:e.type?e.type:"text",placeholder:e.placeholder,style:e.style?e.style:{width:"100px"},value:e.value?e.value:"",onChange:this.changeHandler.bind(this)}),React.createElement("span",{className:"unit-item",style:e.textStyle},e.text))}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),s(t,[{key:"radioChange",value:function(e){if(this.props.changeHandler){var t=this.props.changeHandler.bind(this);t(this.props.identify,e)}}},{key:"render",value:function(){var e=this,t=this.props.param;return React.createElement("div",{className:"form-group"},t.map(function(t,a){var n=!1,r=e.props.defaultVal;return 1==e.props.defaultVal||"true"==e.props.defaultVal?r=1:0!=e.props.defaultVal&&"false"!=e.props.defaultVal||(r=0),t.id==r&&(n=!0),React.createElement("label",{key:e.props.name+"_"+e.props.index+"_"+a,className:"radio-inline"},React.createElement("input",{type:"radio",checked:!!n,disabled:!!e.props.disabled,name:e.props.name,defaultValue:t.id,onChange:e.radioChange.bind(e)}),t.name)}))}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handler=r.handler.bind(r),r}return r(t,e),s(t,[{key:"handler",value:function(e){e.preventDefault(),this.props.refreshEv&&this.props.refreshEv()}},{key:"render",value:function(){return React.createElement("a",{id:"refreshBtn",className:"refresh-btn",onClick:this.handler},React.createElement("i",{className:"glyphicon glyphicon-refresh"}),"刷新")}}]),t}(React.Component);t.default=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(12),c=n(l),u=a(10),d=n(u),p=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selVal:0},a.backSelVal=a.backSelVal.bind(a),a.searchSub=a.searchSub.bind(a),a}return o(t,e),i(t,[{key:"searchSub",value:function(e){e.preventDefault();var t=this.refs.key.value.split(" ").join("");if(null==t||void 0==t||""==t)return void H.Modal("搜索的关键词不能为空！");var a=this.state.selVal;this.props.emit&&this.props.emit(a,t)}},{key:"backSelVal",value:function(e){this.props.onChange(e),this.setState({selVal:e}),this.refs.key.value=""}},{key:"render",value:function(){return React.createElement("div",{className:"search-w"},React.createElement(c.default,{dropdownData:this.props.dropdownMenus,changeEv:this.backSelVal,selectVal:this.state.selVal}),React.createElement("input",{id:"component_search_input",className:"form-control input-key",type:"text",ref:"key"}),React.createElement(d.default,{name:"搜 索",btnEvent:this.searchSub,otherClass:"btn-sm"}))}}]),t}(React.Component);t.default=p},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"render",value:function(){return React.createElement("tr",null,this.props.tableTile.map(function(e,t){return React.createElement("th",{key:t},e)}))}}]),t}(React.Component),i=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"render",value:function(){var e=this.props.titles;return this.props.res,React.createElement("table",{className:"table table-bordered table-hover table-responsive"},React.createElement("thead",null,React.createElement(o,{tableTile:e})),this.props.children)}}]),t}(React.Component);t.default=i},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={menu:null},r}return r(t,e),s(t,[{key:"componentWillMount",value:function(){if(this.props.menu){var e=[],t=this.props.menu.navigates[1];for(var a in t)e.push(t[a]);this.setState({menu:e})}}},{key:"componentWillReceiveProps",value:function(e){if(e.menu){var t=[],a=e.menu.navigates[1];for(var n in a)t.push(a[n]);this.setState({menu:t})}}},{key:"render",value:function(){return React.createElement("div",{className:"section-top-navbar navbar navbar-default"},React.createElement("a",{className:"toggle-left-sidebar",href:"#"},React.createElement("img",{src:"/images/logo.png",alt:"logo"})),React.createElement("div",{className:"navbar-header",style:{width:"auto"}},React.createElement("a",{className:"nav-brand"},"找冻品网OA系统—商品管理")))}}]),t}(React.Component);t.default=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(26),c=n(l),u=a(24),d=n(u),p=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={menuId:null,tab:[{id:0,parentId:0,name:"home",url:"home",selected:!0,isOpen:!0,isRequest:!1}],userInfo:{name:"",department_id:1,login_name:""},menu:[]},a.stateUpdate=a.stateUpdate.bind(a),a.closeTabHandler=a.closeTabHandler.bind(a),a}return o(t,e),i(t,[{key:"stateUpdate",value:function(e,t){for(var a=t?t:this.state.tab,n=-1,r=0;r<a.length;r++)a[r].id==e.id&&a[r].parentId==e.parentId?(a[r].selected=!0,n=r,$("#nid_"+a[r].parentId+"_"+a[r].id)[0]?$("#nid_"+a[r].parentId+"_"+a[r].id)[0].click():$(".nav.nav-list li").removeClass("active")):a[r].selected=!1;n==-1&&a.push(e),this.setState({tab:a})}},{key:"componentDidMount",value:function(){var e=this;H.server.user_info({},function(t){0==t.code?e.setState({userInfo:t.data.user_infos}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"componentWillMount",value:function(){if(this.props.menu){for(var e=this.props.menu.navigates[1],t=null,a=0;a<e.length;a++)"goods"==e[a].privilege_tag&&(t=e[a].id,console.log(t));var n=[],r=this.props.menu.navigates[2][t];for(var s in r)n.push(r[s]);this.setState({menu:n,menuId:t})}}},{key:"componentWillReceiveProps",value:function(e){if(e.menu&&e.menu.navigates[2]){for(var t=e.menu.navigates[1],a=null,n=0;n<t.length;n++)"goods"==t[n].privilege_tag&&(a=t[n].id);var r=[],s=e.menu.navigates[2][a];for(var o in s)r.push(s[o]);this.setState({menu:r,menuId:a})}}},{key:"closeTabHandler",value:function(e){for(var t=this.state.tab,a=0;a<t.length;a++)if(t[a].id==e.id&&t[a].parentId==e.parentId){t[a-1].selected=!0,t.splice(a,1),this.stateUpdate(t[a-1],t);break}}},{key:"render",value:function(){var e=this,t=this.state.menu.map(function(t,a){return React.createElement(c.default,{key:a,data:t,parentId:e.state.menuId,updateTabMenu:e.stateUpdate})});return React.createElement("div",{className:"section-main-holder"},React.createElement("div",{className:"section-left-nav left-sidebar"},React.createElement("div",{className:"user-menu"},React.createElement("img",{src:"/images/avatar.png",alt:""}),React.createElement("div",{className:"user-info"},React.createElement("div",{className:"welcome"},"welcome"),React.createElement("div",{className:"username"},this.state.userInfo.name))),React.createElement("ul",{className:"nav nav-list"},t)),React.createElement(d.default,{userInfo:this.state.userInfo,stateUpdate:this.stateUpdate,closeTabHandler:this.closeTabHandler,tabMenuArr:this.state.tab,userNavigate:this.props.menu}))}}]),t}(React.Component);t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=a(25),s=n(r);ReactDOM.render(React.createElement(s.default,null),document.getElementById("main-holder"))},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),s(t,[{key:"render",value:function(){return React.createElement("a",{id:this.props.id,href:this.props.url,title:this.props.name,onClick:this.props.clickEvent},this.props.children)}}]),t}(React.Component);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.closeTab=r.closeTab.bind(r),r}return r(t,e),s(t,[{key:"closeTab",value:function(e){e.stopPropagation(),this.props.closeTabHandler&&this.props.closeTabHandler(this.props.data)}},{key:"render",value:function(){return React.createElement("i",{className:"glyphicon tab-del-btn",onClick:this.closeTab})}}]),t}(React.Component);t.default=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(40),c=n(l),u=a(32),d=n(u),p=a(27),f=n(p),m=a(28),h=n(m),g=a(38),b=n(g),v=a(29),y=n(v),_=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){var e=this;return React.createElement("div",{className:"tab-content",id:"tab-content"},this.props.tabMenuArr.map(function(t,a){var n="tid_"+t.parentId+"_"+t.id,r=t.selected?"tab-pane active":"tab-pane",s=t.url,o=null;return 0==t.id&&0==t.parentId?o=React.createElement(c.default,{userInfo:e.props.userInfo}):s.indexOf("goods-class")!=-1?o=React.createElement(d.default,null):s.indexOf("goods-brand")!=-1?o=React.createElement(f.default,null):s.indexOf("ordinary-goods")!=-1?o=React.createElement(h.default,null):s.indexOf("goods-transfer")!=-1?o=React.createElement(b.default,null):s.indexOf("goods-audit")!=-1?o=React.createElement(y.default,null):s.indexOf("activity-goods")!=-1,React.createElement("div",{key:a,className:r,id:n},o)}))}}]),t}(React.Component);t.default=_},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(22),c=n(l),u=a(23),d=n(u),p=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"navClick",value:function(e,t){t.preventDefault();var a=e;a.selected=!1,this.props.stateUpdate&&this.props.stateUpdate(a)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"section-main-panel",id:"section-main"},React.createElement("div",{className:"section-main-w"},React.createElement("div",{className:"tabs-w"},React.createElement("ul",{className:"nav nav-tabs",role:"tablist",id:"tab-list"},this.props.tabMenuArr.map(function(t,a){var n="",r=t.selected?"active":"";if(0!=t.id&&(n=React.createElement(c.default,{data:t,closeTabHandler:e.props.closeTabHandler})),t.isOpen)return React.createElement("li",{role:"presentation",key:a,className:r},React.createElement("a",{onClick:e.navClick.bind(e,t)},t.name,React.createElement("span",null," "),n))})),React.createElement(d.default,{userInfo:this.props.userInfo,tabMenuArr:this.props.tabMenuArr,userNavigate:this.props.userNavigate}))))}}]),t}(React.Component);t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(19),c=n(l),u=a(18),d=n(u),p=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={res:null},a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this,t=H.server;t.user_navigate({},function(t){0==t.code?e.setState({res:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"render",value:function(){return React.createElement("div",null,React.createElement(d.default,{menu:this.state.res}),React.createElement(c.default,{menu:this.state.res}))}}]),t}(React.Component);t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(21),c=n(l),u=function(e){function t(e){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"createTab",value:function(e){var t={id:this.props.data.id,parentId:this.props.parentId,name:this.props.data.name,url:this.props.data.url,selected:!0,isOpen:!0,isRequest:!1};this.props.updateTabMenu&&this.props.updateTabMenu(t),$("#"+e).parent().siblings().removeClass("active"),$("#"+e).parent().addClass("active")}},{key:"hasNoSub",value:function(){return React.createElement("li",null,React.createElement(c.default,{id:"nid_"+this.props.parentId+"_"+this.props.data.id,name:this.props.data.name,clickEvent:this.createTab.bind(this,"nid_"+this.props.parentId+"_"+this.props.data.id)},React.createElement("i",{className:"glyphicon "+this.props.data.url}),React.createElement("span",null,this.props.data.name)))}},{key:"render",value:function(){return this.hasNoSub()}}]),t}(React.Component);t.default=u},function(e,t,a){
"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(1),c=n(l),u=a(17),d=n(u),p=a(5),f=n(p),m=function(e){function t(){r(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={currentPage:0,data:{},brands:[],page:1,size:20,id:"",brand:"",keyWords:"",status:!1,operator:function(){}},e.initialData=e.initialData.bind(e),e.getSearchData=e.getSearchData.bind(e),e.freshData=e.freshData.bind(e),e}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.initialData()}},{key:"initialData",value:function(){var e=this,t={page:this.state.page,size:this.state.size};H.server.goods_brands_list(t,function(t){0==t.code?e.setState({data:t.data,brands:t.data.brands},e.hideModal):(e.hideModal(),H.Modal(t.message))})}},{key:"getSearchData",value:function(){var e=this,t={page:this.state.page,size:this.state.size,brand:this.state.brand};H.server.goods_brands_list(t,function(t){0==t.code?e.setState({data:t.data,brands:t.data.brands}):(e.hideModal(),H.Modal(t.message))})}},{key:"freshData",value:function(){0==this.state.currentPage?this.initialData():this.getSearchData()}},{key:"createSearchFilter",value:function(){return React.createElement("div",{className:"section-filter"},React.createElement("form",{className:"form-inline"},React.createElement("div",{className:"filter-row"},React.createElement("div",{className:"search-bar"},React.createElement("input",{className:"form-control",type:"text",placeholder:"请输入品牌名",value:this.state.brand,onChange:this.inputBrand.bind(this)}),React.createElement("btn",{className:"btn  btn-sm",onClick:this.search.bind(this)},"搜索"),React.createElement("btn",{className:"btn  btn-lg right",onClick:this.showModal.bind(this,null,1,null)},"新增品牌")))))}},{key:"createRow",value:function(e,t){return React.createElement("tr",{key:t},React.createElement("td",null,t+1),React.createElement("td",null,e.id),React.createElement("td",null,e.brand),React.createElement("td",null,e.key_words),React.createElement("td",null,React.createElement("a",{href:"javascript:;",onClick:this.showModal.bind(this,t,2,e)},"修改"),React.createElement("a",{href:"javascript:;",onClick:this.delete.bind(this,e,t)},"删除")))}},{key:"createTable",value:function(){var e=this,t=this.state.data.total,a=this.state.size,n=[];this.state.brands.map(function(t,a){n.push(e.createRow(t,a))});var r=["序号","品牌ID","品牌名","关键字/别名","操作"];return React.createElement("div",null,React.createElement(d.default,{titles:r},React.createElement("tbody",null,n)),React.createElement(c.default,{key:this.state.currentPage,maxPage:t%a==0?t/a:parseInt(t/a+1),clickCallback:this.setPageNum.bind(this)}))}},{key:"modify",value:function(e){var t=this,a=this.state.brands;a[e].id=this.state.id,a[e].brand=this.state.brand,a[e].key_words=this.state.keyWords;var n={id:this.state.id,brand:this.state.brand,key_words:this.state.keyWords};H.server.goods_brands_update(n,function(e){0==e.code?(t.setState({brands:a},t.hideModal),H.Modal("修改成功")):(t.hideModal(),H.Modal(e.message))})}},{key:"addBrand",value:function(){var e=this;if(""==this.state.keyWords||""==this.state.brand)return this.hideModal(),void H.Modal("请填写信息");var t={brand:this.state.brand,key_words:this.state.keyWords};H.server.goods_brands_add(t,function(t){0==t.code?(e.setState({currentPage:0,page:1},e.initialData),H.Modal("添加成功")):(e.hideModal(),H.Modal(t.message))})}},{key:"delete",value:function(e,t){var a=this,n=this.state.brands,r={id:e.id};H.server.goods_brands_delete(r,function(e){0==e.code?(n.splice(t,1),a.setState({brands:n}),a.hideModal(),H.Modal("删除成功")):(a.hideModal(),H.Modal(e.message))})}},{key:"search",value:function(){var e=this;return""==this.state.brand?void H.Modal("请输入后搜索"):void this.setState({currentPage:1,page:1},function(){e.getSearchData()})}},{key:"showModal",value:function(e,t,a){var n=this;this.setState({status:!0},function(){1==t?n.setState({id:"",brand:"",keyWords:""},function(){n.setState({operator:n.addBrand})}):n.setState({id:a.id,brand:a.brand,keyWords:a.key_words},function(){n.setState({operator:n.modify.bind(n,e)})})})}},{key:"inputBrand",value:function(e){var t=e.target.value;this.setState({brand:t})}},{key:"inputKeyWords",value:function(e){var t=e.target.value;this.setState({keyWords:t})}},{key:"setPageNum",value:function(e){this.setState({page:e.page},this.freshData)}},{key:"hideModal",value:function(){this.setState({status:!1})}},{key:"modal",value:function(){return React.createElement(f.default,{confirm:"保存",cancel:"关闭",confirmCallback:this.state.operator.bind(this),cancelCallback:this.hideModal.bind(this),header:"品牌信息"},React.createElement("p",null,"ID:",this.state.id?this.state.id:null),React.createElement("p",null,"品牌名:",React.createElement("input",{type:"text",value:this.state.brand,onChange:this.inputBrand.bind(this)})),React.createElement("p",null,React.createElement("span",{style:{verticalAlign:"top"}},"关键字:"),React.createElement("textarea",{rows:"4",value:this.state.keyWords,onChange:this.inputKeyWords.bind(this)})))}},{key:"render",value:function(){return this.state.brands?React.createElement("div",{className:"section-warp"},this.createSearchFilter(),React.createElement("div",{className:"section-table"},this.createTable()),this.state.status?this.modal():null):null}}]),t}(React.Component);t.default=m},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(2),c=n(l),u=a(16),d=n(u),p=a(1),f=n(p),m=a(9),h=n(m),g=a(4),b=n(g),v=function(e){function t(){r(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={areaList:[],currentArea:2,units:[],currentUnit:-1,goodsList:[],markets:[],currentMarket:0,on_sale_status:0,audit_status:2,typeList:[],typeID:0,priceStatus:0,currentPage:1,queryBy:"",total:0,xml:[],count:0,select:"",aesc:-1,panel:"",keyWords:""},e.getGoodsList=e.getGoodsList.bind(e),e.operate=e.operate.bind(e),e.order=e.order.bind(e),e.updateGoodsClass=e.updateGoodsClass.bind(e),e.search=e.search.bind(e),e.updateCookie=e.updateCookie.bind(e),e.closePanel=e.closePanel.bind(e),e.hover=e.hover.bind(e),e}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state;H.server.other_customArea_list({},function(a){0==a.code?(e.setState({areaList:a.data,currentArea:a.data[0].area_id}),H.server.shop_customArea_shipmentMarket_list({custom_area_id:t.currentArea},function(t){0==t.code?e.setState({markets:t.data}):10106==t.code?H.overdue():H.Modal(t.message)}),H.server.goods_type_list({area_id:t.currentArea},function(t){0==t.code?e.setState({typeList:t.data,typeID:t.data[1].type_id},e.getGoodsList):10106==t.code?H.overdue():H.Modal(t.message)})):10106==a.code?H.overdue():H.Modal(a.message)}),H.server.other_goods_units({},function(t){0==t.code?e.setState({units:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"componentDidMount",value:function(){var e={goods_name:[],supplier_name:[],brand:[]};H.cookie.getCookie("keywords")||H.cookie.setCookie("keywords",JSON.stringify(e),168)}},{key:"filterGoods",value:function(){this.state.aesc=-1,this.getGoodsList(1)}},{key:"createArea",value:function(){var e=[],t=[];return this.state.areaList.map(function(a){e.push(a.area_name),t.push(a.area_id)}),React.createElement(c.default,{btnNames:e,bindData:t,clickCallback:this.toggleArea.bind(this),style:"btn btn-lg",activeStyle:"btn btn-lg btn-default",status:this.state.currentArea})}},{key:"createSearchBar",value:function(){var e=this,t=JSON.parse(H.cookie.getCookie("keywords")),a=null,n=this.state;return n.xml.length?React.createElement("div",{className:"search-bar"},React.createElement(d.default,{dropdownMenus:["商品","供应商","品牌"],emit:this.search,onChange:this.updateCookie}),React.createElement("p",{style:{display:"inline-block",color:"gray",marginTop:"5px",whiteSpace:"nowrap"}},"搜索历史：",n.xml),React.createElement("btn",{className:"btn btn-xs right",onClick:this.refresh.bind(this)},"刷新")):(t&&(n.xml=[],a=t.goods_name,a.map(function(t,a){n.xml.push(React.createElement("span",{style:{cursor:"pointer",color:"#337ab7",textDecoration:"underline",marginRight:"10px"},key:a,"data-val":"0","data-query":"goods_name","data-keywords":t,onClick:e.getCookieResult.bind(e)},t))})),React.createElement("div",{className:"search-bar"},React.createElement(d.default,{dropdownMenus:["商品","供应商","品牌"],emit:this.search}),React.createElement("p",{style:{display:"inline-block",color:"gray",marginTop:"5px",whiteSpace:"nowrap"}},"搜索历史：",n.xml),React.createElement("btn",{className:"btn btn-xs right",onClick:this.refresh.bind(this)},"刷新")))}},{key:"createSelectArea",value:function(){var e=["全部"],t=[-1],a=["全部","已审核","已删除"],n=[0,2,4],r=["全部"],s=[0],o=["全部","未过期","已过期"],i=[0,1,2],l=["全部","下架","上架"],u=[0,1,2];return this.state.units.map(function(a){e.push(a.name),t.push(a.id)}),this.state.markets.map(function(e){r.push(e.market_name),s.push(e.market_id)}),React.createElement("div",{className:"section-filter",style:{paddingTop:0}},React.createElement("form",{className:"form-inline"},React.createElement("div",{className:"filter-row"},this.createSearchBar())),React.createElement("div",{className:"row"},React.createElement("form",{className:"form-inline col-lg-6"},React.createElement("div",{className:"filter-row"},React.createElement("label",{style:{display:"inline-block",width:"5em"}},"发货点："),React.createElement(c.default,{btnNames:r,bindData:s,clickCallback:this.toggleMarket.bind(this),style:"btn btn-xs",activeStyle:"btn btn-xs btn-default",status:this.state.currentMarket}))),React.createElement("form",{className:"form-inline col-lg-6"},React.createElement("div",{className:"filter-row"},React.createElement("label",{style:{display:"inline-block",width:"5em"}},"上下架："),React.createElement(c.default,{btnNames:l,bindData:u,clickCallback:this.toggleOnSale.bind(this),style:"btn btn-xs",activeStyle:"btn btn-xs btn-default",status:this.state.on_sale_status}))),React.createElement("form",{className:"form-inline col-lg-6"},React.createElement("div",{className:"filter-row"},React.createElement("label",{style:{display:"inline-block",width:"5em"}},"审核："),React.createElement(c.default,{btnNames:a,bindData:n,clickCallback:this.toggleAudit.bind(this),style:"btn btn-xs",activeStyle:"btn btn-xs btn-default",status:this.state.audit_status}))),React.createElement("form",{className:"form-inline col-lg-6"},React.createElement("div",{className:"filter-row"},React.createElement("label",{style:{display:"inline-block",width:"5em"}},"价格状态："),React.createElement(c.default,{btnNames:o,bindData:i,clickCallback:this.togglePriceStatus.bind(this),style:"btn btn-xs",activeStyle:"btn btn-xs btn-default",status:this.state.priceStatus}))),React.createElement("form",{className:"form-inline col-lg-6"},React.createElement("div",{className:"filter-row"},React.createElement("label",{style:{display:"inline-block",width:"5em"}},"单位："),React.createElement(c.default,{btnNames:e,bindData:t,clickCallback:this.toggleUnit.bind(this),style:"btn btn-xs",activeStyle:"btn btn-xs btn-default",status:this.state.currentUnit}))),React.createElement("div",{className:"col-lg-6"},React.createElement("a",{className:"btn btn-lg btn-orange",style:{float:"right"},onClick:this.filterGoods.bind(this,1)},"筛选"))))}},{key:"getSupplierInfo",value:function(e){var t=this,a=e.target.dataset.index;H.server.goods_shop_info({shop_id:this.state.goodsList[a].supplier_id},function(e){if(0==e.code){var n=e.data;H.Modal({title:"供应商信息",width:"450",height:"550",content:"<p>供应商ID："+t.state.goodsList[a].supplier_id+"</p><p>供应商："+n.shop_name+"</p><p>市场："+n.market_name+"</p><p>接单电话："+n.order_receive_tel+"</p><p>老板电话："+n.boos_tel+"</p><p>主营业务："+n.business_types+"</p><p>详细地址："+n.shop_address+"</p>",okText:"关闭"})}else 10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"closePanel",value:function(){this.setState({panel:""})}},{key:"operate",value:function(e,t,a){var n=this,r=$(a.target).html(),s=this.state.goodsList[e];switch(r){case"详情":var o=t,i=localStorage.goodsInfo?JSON.parse(localStorage.goodsInfo):{time:(new Date).getDate(),id:[]};i.time==(new Date).getDate()?i.id.indexOf(o)==-1&&i.id.push(o):i={time:(new Date).getDate(),id:[o]},localStorage.goodsInfo=JSON.stringify(i),this.setState({panel:React.createElement(b.default,{closePanel:this.closePanel,goodsId:this.state.goodsList[e].goods_id,areaId:this.state.currentArea,getGoodsList:this.getGoodsList.bind(this)})});break;case"刷新价格":H.Modal({title:"确认刷新商品",content:"<p>确定要刷新该商品吗，刷新之后若要恢复请联系管理员</p>",okText:"确定",cancel:!0,okCallback:function(){H.server.goods_ordinary_priceRefresh({goods_id:n.state.goodsList[e].goods_id},function(e){0==e.code?n.getGoodsList():10106==e.code?H.overdue():H.Modal(e.message)})}});break;case"恢复":H.Modal({title:"确认恢复商品",content:"<p>确定要恢复该商品吗，恢复之后若要恢复请联系管理员</p>",okText:"确定",cancel:!0,okCallback:function(){H.server.goods_ordinary_undelete({goods_id:n.state.goodsList[e].goods_id},function(e){0==e.code?n.getGoodsList():10106==e.code?H.overdue():H.Modal(e.message)})}});break;case"上架":H.Modal({title:"确认上架商品",content:"<p>确定要上架该商品吗，上架之后若要恢复请联系管理员</p>",okText:"确定",cancel:!0,okCallback:function(){H.server.goods_ordinary_onSale({goods_id:n.state.goodsList[e].goods_id},function(e){0==e.code?n.getGoodsList():10106==e.code?H.overdue():H.Modal(e.message)})}});break;case"下架":var l=H.Modal({title:"下架",width:"500",content:'<p><label style="display: inline-block;width: 75px">品名：</label>'+s.goods_name+'</p><p><label style="display: inline-block;width: 75px">供应商：</label>'+s.supplier_name+'</p><p><label style="display: inline-block;width: 75px">下架原因：</label><select value="商品照片模糊不清，请重新拍照上传" class="form-control" style="width: 350px;display: inline;" id="audit_refused_choose"><option value="商品照片模糊不清，请重新拍照上传">商品照片模糊不清，请重新拍照上传</option><option value="商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片">商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片</option><option value="图片与商品信息不符">图片与商品信息不符</option><option value="缺少明显“清真”标记的照片">缺少明显“清真”标记的照片</option><option value="抄码商品的重量和金额必须填最大值，不能按公斤报价">抄码商品的重量和金额必须填最大值，不能按公斤报价</option><option value="商品重量错误">商品重量错误</option><option value="商品产地信息错误">商品产地信息错误</option><option value="商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改">商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改</option><option value="检验报告不符合要求">检验报告不符合要求</option><option value="0">其它自定义填写</option></select></p><div><label style="display: inline-block;width: 75px"></label><textarea id="refused_why" placeholder="请输入下架原因" style="width: 350px;height: 100px;display: none;border: 1px solid #ccc;"></textarea></div><div class="form-inline"><label style="display: inline-block;width: 75px">供应商：</label><div class="form-group"><label class="radio-inline"><input type="radio" value="0" checked name="refusedNotice" />不通知</label><label class="radio-inline"><input type="radio" value="1" name="refusedNotice" />微信模板消息</label><label class="radio-inline"><input type="radio" value="2" name="refusedNotice" />短信通知</label></div></div>',okText:"确定",cancel:!0,autoClose:!1,init:function(){$("#audit_refused_choose").change(function(){0==$(this).val()?$("#refused_why").show():$("#refused_why").hide()})},cancelCallback:function(){l.destroy()},okCallback:function(){var e=$("#audit_refused_choose").val(),t=$("#refused_why").val();if(0==e&&""==t)return void $("#refused_why").focus();var a={goods_id:s.goods_id,sold_out_reason:0!=e?e:t,notify_way:$('input[name="refusedNotice"]:checked').val()};H.server.goods_ordinary_soldOut(a,function(e){0==e.code?(l.destroy(),n.getGoodsList()):10106==e.code?H.overdue():H.Modal(e.message)})}});break;case"删除":var c=H.Modal({title:"删除",width:"500",content:'<p><label style="display: inline-block;width: 75px">品名：</label>'+s.goods_name+'</p><p><label style="display: inline-block;width: 75px">供应商：</label>'+s.supplier_name+'</p><p><label style="display: inline-block;width: 75px">删除原因：</label><select value="商品照片模糊不清，请重新拍照上传" class="form-control" style="width: 350px;display: inline;" id="audit_refused_choose"><option value="商品照片模糊不清，请重新拍照上传">商品照片模糊不清，请重新拍照上传</option><option value="商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片">商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片</option><option value="图片与商品信息不符">图片与商品信息不符</option><option value="缺少明显“清真”标记的照片">缺少明显“清真”标记的照片</option><option value="抄码商品的重量和金额必须填最大值，不能按公斤报价">抄码商品的重量和金额必须填最大值，不能按公斤报价</option><option value="商品重量错误">商品重量错误</option><option value="商品产地信息错误">商品产地信息错误</option><option value="商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改">商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改</option><option value="检验报告不符合要求">检验报告不符合要求</option><option value="0">其它自定义填写</option></select></p><div><label style="display: inline-block;width: 75px"></label><textarea id="refused_why" placeholder="请输入下架原因" style="width: 350px;height: 100px;display: none;border: 1px solid #ccc;"></textarea></div><div class="form-inline"><label style="display: inline-block;width: 75px">供应商：</label><div class="form-group"><label class="radio-inline"><input type="radio" value="0" checked name="refusedNotice" />不通知</label><label class="radio-inline"><input type="radio" value="1" name="refusedNotice" />微信模板消息</label><label class="radio-inline"><input type="radio" value="2" name="refusedNotice" />短信通知</label></div></div>',okText:"确定",cancel:!0,autoClose:!1,init:function(){$("#audit_refused_choose").change(function(){0==$(this).val()?$("#refused_why").show():$("#refused_why").hide()})},cancelCallback:function(){c.destroy()},okCallback:function(){var e=$("#audit_refused_choose").val(),t=$("#refused_why").val();if(0==e&&""==t)return void $("#refused_why").focus();var a={goods_id:s.goods_id,delete_reason:0!=e?e:t,notify_way:$('input[name="refusedNotice"]:checked').val()};H.server.goods_ordinary_delete(a,function(e){0==e.code?(c.destroy(),n.getGoodsList()):10106==e.code?H.overdue():H.Modal(e.message)})}})}}},{key:"order",value:function(e){var t=this;if(0!=this.state.total){var a=this.state,n=function(){var e={area_id:a.currentArea,market_id:a.currentMarket,goods_type_id:a.typeID,audit_status:a.audit_status,on_sale_status:a.on_sale_status,unit:a.currentUnit,page:a.currentPage,price_status:a.priceStatus,size:t.props.size,order_by:a.order_by,aesc:Number(a.aesc)};$("#component_search_input").val()&&(e.query_by=a.queryBy,e.key_words=a.keyWords),t.setGoodsList(e)};switch(e){case 1:a.order_by="goods_id",a.aesc=!a.aesc,n();break;case 5:a.order_by="price",a.aesc=!a.aesc,n();break;case 8:a.order_by="price_updated_at",a.aesc=!a.aesc,n()}}}},{key:"toggleArea",value:function(e){var t=this,a=e.target.dataset.index;a!=this.state.currentArea&&(this.state.count++,this.setState({currentArea:a,currentPage:1},function(){H.server.goods_type_list({area_id:t.state.currentArea},function(e){0==e.code?t.setState({typeList:e.data,goodsList:[]},t.backToInit):10106==e.code?H.overdue():H.Modal(e.message)})}))}},{key:"toggleMarket",value:function(e){var t=e.target.dataset.index;this.state.count++,this.setState({currentMarket:t})}},{key:"toggleOnSale",value:function(e){var t=e.target.dataset.index;this.state.count++,this.setState({on_sale_status:t})}},{key:"toggleUnit",value:function(e){var t=e.target.dataset.index;this.state.count++,this.setState({currentUnit:t})}},{key:"togglePriceStatus",value:function(e){var t=e.target.dataset.index;this.state.count++,this.setState({priceStatus:t})}},{key:"toggleAudit",value:function(e){var t=e.target.dataset.index;this.state.count++,this.setState({audit_status:t})}},{key:"updateGoodsClass",value:function(e){this.state.typeID=e,this.state.count++,this.state.currentPage=1,this.backToInit(),this.getGoodsList()}},{key:"setGoodsList",value:function(e){var t=this;H.server.goods_ordinary_list(e,function(e){0==e.code?(t.setState({goodsList:e.data.goods_lists,total:e.data.total}),setTimeout(function(){t.hover()},50)):10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"getGoodsList",value:function(e){var t=this,a=this.state,n={area_id:a.currentArea,market_id:a.currentMarket,goods_type_id:a.typeID,audit_status:a.audit_status,on_sale_status:a.on_sale_status,unit:a.currentUnit,price_status:a.priceStatus,page:e||a.currentPage,size:this.props.size};a.aesc!=-1&&(n.aesc=Number(a.aesc),n.order_by=a.order_by),!n.goods_type_id||n.goods_type_id<=0||(e&&a.count++,a.keyWords&&(n.query_by=a.queryBy,n.key_words=a.keyWords),H.server.goods_ordinary_list(n,function(e){0==e.code?(t.setState({goodsList:e.data.goods_lists,total:e.data.total}),setTimeout(function(){t.hover()},50)):10106==e.code?H.overdue():H.Modal(e.message)}))}},{key:"search",value:function(e,t){var a=this,n=this.state,r={},s={0:"goods_name",1:"supplier_name",2:"brand"},o=null,i=JSON.parse(H.cookie.getCookie("keywords"));n.currentMarket=0,n.audit_status=0,n.on_sale_status=0,n.currentUnit=-1,n.priceStatus=0,r={area_id:n.currentArea,market_id:n.currentMarket,goods_type_id:n.typeID,audit_status:n.audit_status,on_sale_status:n.on_sale_status,unit:n.currentUnit,page:1,price_status:n.priceStatus,size:this.props.size},n.queryBy=s[e],n.keyWords=t,r.query_by=s[e],r.key_words=t,i[s[e]].length<8?i[s[e]].unshift(t):(i[s[e]].splice(6,1),i[s[e]].unshift(t)),H.cookie.setCookie("keywords",JSON.stringify(i),168),n.xml=[],o=i[s[e]],o.map(function(t,r){n.xml.push(React.createElement("span",{style:{cursor:"pointer",color:"#337ab7",textDecoration:"underline",marginRight:"10px"},key:r,"data-val":e,"data-query":s[e],"data-keywords":t,onClick:a.getCookieResult.bind(a)},t))}),this.setGoodsList(r)}},{key:"updateCookie",value:function(e){var t=this,a=this.state,n={0:"goods_name",1:"supplier_name",2:"brand"},r=null,s=JSON.parse(H.cookie.getCookie("keywords"));a.queryBy=n[e],a.keyWords=$("#component_search_input").val(),a.xml=[],r=s[n[e]],r.map(function(r,s){a.xml.push(React.createElement("span",{style:{cursor:"pointer",color:"#337ab7",textDecoration:"underline",marginRight:"10px"},key:s,"data-val":e,"data-query":n[e],"data-keywords":r,onClick:t.getCookieResult.bind(t)},r))}),r.length||a.xml.push(React.createElement("span",{key:"default"},null)),this.setState({select:e})}},{key:"getCookieResult",value:function(e){var t=this.state,a=e.target.dataset,n={};t.currentMarket=0,t.audit_status=0,t.on_sale_status=0,t.currentUnit=-1,t.priceStatus=0,t.queryBy=a.query,t.keyWords=a.keywords,t.currentPage=1,n={area_id:t.currentArea,market_id:t.currentMarket,goods_type_id:t.typeID,audit_status:t.audit_status,on_sale_status:t.on_sale_status,unit:t.currentUnit,page:t.currentPage,price_status:t.priceStatus,size:this.props.size},n.query_by=t.queryBy,n.key_words=t.keyWords,$("#component_search_input").val(a.keywords),$('select[class="form-control"]').val(a.val),this.setState(),this.setGoodsList(n)}},{key:"setPageNum",value:function(e){this.setState({currentPage:e.page},this.getGoodsList)}},{key:"backToInit",value:function(){var e=this.state;e.currentMarket=0,e.audit_status=0,e.on_sale_status=0,e.currentUnit=-1,e.priceStatus=0,e.queryBy="",e.keyWords="",e.aesc=-1,$("#component_search_input").val(""),$('select[class="form-control"]').val("0")}},{key:"hover",value:function(){var e=this;$(".general-goods-operate3").off("hover"),$(".general-goods-operate3").hover(function(t){var a=t.target,n=t.target.dataset.index;$(a).append('<div style="position: absolute; background-color: #fff; width: 200px; border: 1px solid #ccc; padding: 2px 5px; top: 20%; left: 100%; z-index: 9999" >'+e.state.goodsList[n].title+"</div>")},function(e){var t=e.target;$(t).find("div").remove()})}},{key:"refresh",value:function(){this.backToInit(),this.getGoodsList()}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"section-warp container-fluid"},React.createElement("div",{className:"section-table row"},React.createElement("div",{className:"section-filter"},React.createElement("form",{className:"form-inline"},React.createElement("div",{className:"filter-row"},this.createArea()))),React.createElement("div",{className:"col-lg-3",style:{border:"1px solid #999"}},React.createElement(h.default,{data:this.state.typeList,updateGoodsClass:this.updateGoodsClass,goodsNumber:1})),React.createElement("div",{className:"col-lg-9"},this.createSelectArea(),React.createElement("p",null,"当前结果：",this.state.total,"种商品"),React.createElement("table",{className:"table table-bordered table-hover table-responsive"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"序号"),React.createElement("th",null,React.createElement("a",{href:"javascript:;",onClick:this.order.bind(this,1)},"商品ID",React.createElement("span",{className:"glyphicon sort-icon"}))),React.createElement("th",null,"分类"),React.createElement("th",null,"供应商"),React.createElement("th",null,"品名"),React.createElement("th",null,React.createElement("a",{href:"javascript:;",onClick:this.order.bind(this,5)},"单价",React.createElement("span",{className:"glyphicon sort-icon"}))),React.createElement("th",null,"单位"),React.createElement("th",null,"市场"),React.createElement("th",null,React.createElement("a",{href:"javascript:;",onClick:this.order.bind(this,8)},"价格更新时间",React.createElement("span",{className:"glyphicon sort-icon"}))),React.createElement("th",null,"价格状态"),React.createElement("th",null,"上下架"),React.createElement("th",null,"审核"),React.createElement("th",null,"操作"))),React.createElement("tbody",null,this.state.goodsList.map(function(t,a){var n="全部",r="全部";1==t.on_sale_status?n="下架":2==t.on_sale_status&&(n="上架"),2==t.audit_status?r="已审核":4==t.audit_status&&(r="已删除");var s=React.createElement("a",null,"详情");return localStorage.goodsInfo&&JSON.parse(localStorage.goodsInfo).time==(new Date).getDate()&&JSON.parse(localStorage.goodsInfo).id.indexOf(t.goods_id)!=-1&&(s=React.createElement("a",{style:{color:"rgb(212, 52, 176)"}},"详情")),React.createElement("tr",{key:a},React.createElement("td",null,30*(e.state.currentPage-1)+a+1),React.createElement("td",null,t.goods_id),React.createElement("td",null,t.goods_type_name),React.createElement("td",null,React.createElement("a",{"data-index":a,onClick:e.getSupplierInfo.bind(e)},t.supplier_name)),React.createElement("td",null,t.goods_name),React.createElement("td",null,t.price),React.createElement("td",null,t.unit),React.createElement("td",null,t.market),React.createElement("td",null,t.price_updated_at),React.createElement("td",null,1==t.price_status?"未过期":"过期"),React.createElement("td",null,n),React.createElement("td",null,r),React.createElement("td",{onClick:e.operate.bind(e,a,t.goods_id)},s,4==t.audit_status?React.createElement("a",null,"恢复"):React.createElement("a",null,"删除"),1==t.on_sale_status?React.createElement("a",null,"上架"):React.createElement("a",null,"下架"),2==t.price_status?React.createElement("a",null,"刷新价格"):null))}))),React.createElement(f.default,{key:this.state.count,pageNum:this.state.currentPage,maxPage:Math.ceil(this.state.total/this.props.size),clickCallback:this.setPageNum.bind(this)})),this.state.panel))}}]),t}(React.Component);v.defaultProps={size:30},t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(30),c=n(l),u=a(2),d=n(u),p=a(4),f=n(p),m=a(1),h=n(m),g=a(15),b=n(g),v=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={currentAreaId:0,areaList:[],goodsList:[],totalPage:1,defaultParam:{shop_id:null,goods_status:0,page:1,size:30,sort_field:"id",signing:0},goodsInfoPanel:"",marketUpdate:!1},a.setShopId=a.setShopId.bind(a),a.createArea=a.createArea.bind(a),a.setCurrentArea=a.setCurrentArea.bind(a),a.getGoodsList=a.getGoodsList.bind(a),a.setShopState=a.setShopState.bind(a),a.operate=a.operate.bind(a),a.getSupplierInfo=a.getSupplierInfo.bind(a),a.closePanel=a.closePanel.bind(a),a.changePage=a.changePage.bind(a),a.order=a.order.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.getArea()}},{key:"getArea",value:function(){var e=this;H.server.other_customArea_list({},function(t){if(0==t.code){var a=t.data[0].area_id;e.state.areaList=t.data,e.state.currentAreaId=a,e.getGoodsList()}else 10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"createArea",value:function(){var e=[],t=[];return this.state.areaList.map(function(a){e.push(a.area_name),t.push(a.area_id)}),React.createElement(d.default,{btnNames:e,bindData:t,clickCallback:this.setCurrentArea.bind(this),style:"btn btn-lg",activeStyle:"btn btn-lg btn-default",status:this.state.currentAreaId})}},{key:"setCurrentArea",value:function(e){var t=e.target.dataset.index,a=this.state.defaultParam;a.goods_status=0,this.setState({currentAreaId:t,goodsList:[],defaultParam:a},this.getGoodsList)}},{key:"setShopId",value:function(e,t){var a=this.state.defaultParam;"shop_id"==e?(a[e]=t,a.market_id=null):(a[e]=t,a.shop_id=null),a.goods_status=0,this.getGoodsList()}},{key:"getGoodsList",value:function(){var e=this,t=this.state.defaultParam;t.area_id=this.state.currentAreaId,H.server.goods_newGoods_list(t,function(a){if(0==a.code){for(var n=a.data.goods,r=0;r<n.length;r++)n[r].shop_id=n[r].shops.shop_id,n[r].shop_name=n[r].shops.shop_name,n[r].market_name=n[r].markets.market_name;e.setState({goodsList:n,totalPage:Math.ceil(a.data.total/t.size)})}else 10106==a.code?H.overdue():H.Modal(a.message)})}},{key:"setShopState",value:function(e){var t=e.target.dataset.index,a=this.state.defaultParam;a.goods_status=t,this.getGoodsList()}},{key:"order",value:function(e){var t=this.state.defaultParam;switch(e){case 0:t.sort_field="id",this.getGoodsList();break;case 6:t.sort_field="updated_at",this.getGoodsList()}}},{key:"signing",value:function(e){var t=this,a=this.state.defaultParam;a.signing=e,a.page=1,this.setState({defaultParam:a},function(){t.getGoodsList()})}},{key:"getSupplierInfo",value:function(e){var t=e.target.dataset.index;
H.server.goods_shop_info({shop_id:this.state.goodsList[t].shop_id},function(e){if(0==e.code){var t=e.data,a="";2==t.signing_type&&(a='<span style="color: #70a5ff;margin-left: 10px;" >店铺签约</span>'),H.Modal({title:"供应商信息",width:"450",height:"550",content:"<p>供应商："+t.shop_name+a+"</p><p>市场："+t.market_name+"</p><p>接单电话："+t.order_receive_tel+"</p><p>老板电话："+t.boos_tel+"</p><p>主营业务："+t.business_types+"</p><p>详细地址："+t.shop_address+'</p><p>优选数量：<span style="color:#70a5ff;">'+t.signing_num+"/"+t.max_signing_num+"</span></p>",okText:"关闭"})}else 10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"closePanel",value:function(){this.setState({goodsInfoPanel:""})}},{key:"changePage",value:function(e){var t=this,a=this.state.defaultParam,n=Object.assign(a,e);this.setState({defaultParam:n},function(){t.getGoodsList()})}},{key:"operate",value:function(e,t){var a=this,n=$(t.target).html();switch(n){case"详细":var r=React.createElement(f.default,{closePanel:this.closePanel,goodsId:this.state.goodsList[e].goods_id,areaId:this.state.currentAreaId,getGoodsList:this.getGoodsList});this.setState({goodsInfoPanel:r});break;case"通过":H.Modal({title:"审核通过",content:"<p>审核通过之后可在普通商品中查看此商品</p>",okText:"确定",cancel:!0,okCallback:function(){H.server.goods_audit_pass(JSON.stringify({goods_id:a.state.goodsList[e].goods_id}),function(e){0==e.code?(a.getGoodsList(),a.state.marketUpdate=!a.state.marketUpdate):10106==e.code?H.overdue():H.Modal(e.message)})}});break;case"拒绝":var s=this.state.goodsList[e],o=H.Modal({title:"拒绝通知",width:"500",content:'<p><label style="display: inline-block;width: 75px">品名：</label>'+s.goods_name+'</p><p><label style="display: inline-block;width: 75px">供应商：</label>'+s.shop_name+'</p><p><label style="display: inline-block;width: 75px">拒绝原因：</label><select value="商品照片模糊不清，请重新拍照上传" class="form-control" style="width: 350px;display: inline;" id="audit_refused_choose"><option value="商品照片模糊不清，请重新拍照上传">商品照片模糊不清，请重新拍照上传</option><option value="商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片">商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片</option><option value="图片与商品信息不符">图片与商品信息不符</option><option value="缺少明显“清真”标记的照片">缺少明显“清真”标记的照片</option><option value="抄码商品的重量和金额必须填最大值，不能按公斤报价">抄码商品的重量和金额必须填最大值，不能按公斤报价</option><option value="商品重量错误">商品重量错误</option><option value="商品产地信息错误">商品产地信息错误</option><option value="商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改">商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改</option><option value="检验报告不符合要求">检验报告不符合要求</option><option value="0">其它自定义填写</option></select></p><div><label style="display: inline-block;width: 75px"></label><textarea id="refused_why" placeholder="请输入拒绝原因" style="width: 350px;height: 100px;display: none;border: 1px solid #ccc;"></textarea></div><div class="form-inline"><label style="display: inline-block;width: 75px">供应商：</label><div class="form-group"><label class="radio-inline"><input type="radio" value="0" checked name="refusedNotice" />不通知</label><label class="radio-inline"><input type="radio" value="1" name="refusedNotice" />微信模板消息</label><label class="radio-inline"><input type="radio" value="2" name="refusedNotice" />短信通知</label></div></div>',okText:"确定",cancel:!0,autoClose:!1,init:function(){$("#audit_refused_choose").change(function(){0==$(this).val()?$("#refused_why").show():$("#refused_why").hide()})},cancelCallback:function(){o.destroy()},okCallback:function(){var e=$("#audit_refused_choose").val(),t=$("#refused_why").val();if(0==e&&""==t)return void $("#refused_why").focus();var n={goods_id:s.goods_id,refused_reason:0!=e?e:t,notice_way:$('input[name="refusedNotice"]:checked').val()};H.server.goods_audit_refused(JSON.stringify(n),function(e){0==e.code?(o.destroy(),a.getGoodsList()):10106==e.code?H.overdue():(alert(e.message),H.Modal(e.message))})}});break;case"删除":var i=this.state.goodsList[e],l=H.Modal({title:"删除",width:"500",content:'<p><label style="display: inline-block;width: 75px">品名：</label>'+i.goods_name+'</p><p><label style="display: inline-block;width: 75px">供应商：</label>'+i.shops.shop_name+'</p><p><label style="display: inline-block;width: 75px">删除原因：</label><select value="商品照片模糊不清，请重新拍照上传" class="form-control" style="width: 350px;display: inline;" id="audit_refused_choose"><option value="商品照片模糊不清，请重新拍照上传">商品照片模糊不清，请重新拍照上传</option><option value="商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片">商品照片不符合规范要求，请阅读《找冻品网商品规范书》后重新上传照片</option><option value="图片与商品信息不符">图片与商品信息不符</option><option value="缺少明显“清真”标记的照片">缺少明显“清真”标记的照片</option><option value="抄码商品的重量和金额必须填最大值，不能按公斤报价">抄码商品的重量和金额必须填最大值，不能按公斤报价</option><option value="商品重量错误">商品重量错误</option><option value="商品产地信息错误">商品产地信息错误</option><option value="商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改">商品优势描述不符合要求，请阅读《找冻品网商品规范书》后修改</option><option value="检验报告不符合要求">检验报告不符合要求</option><option value="0">其它自定义填写</option></select></p><div><label style="display: inline-block;width: 75px"></label><textarea id="refused_why" placeholder="请输入下架原因" style="width: 350px;height: 100px;display: none;border: 1px solid #ccc;"></textarea></div><div class="form-inline"><label style="display: inline-block;width: 75px">供应商：</label><div class="form-group"><label class="radio-inline"><input type="radio" value="0" checked name="refusedNotice" />不通知</label><label class="radio-inline"><input type="radio" value="1" name="refusedNotice" />微信模板消息</label><label class="radio-inline"><input type="radio" value="2" name="refusedNotice" />短信通知</label></div></div>',okText:"确定",cancel:!0,autoClose:!1,init:function(){$("#audit_refused_choose").change(function(){0==$(this).val()?$("#refused_why").show():$("#refused_why").hide()})},cancelCallback:function(){l.destroy()},okCallback:function(){var e=$("#audit_refused_choose").val(),t=$("#refused_why").val();if(0==e&&""==t)return void $("#refused_why").focus();var n={goods_id:i.goods_id,delete_reason:0!=e?e:t,notify_way:$('input[name="refusedNotice"]:checked').val()};H.server.goods_ordinary_delete(n,function(e){0==e.code?(l.destroy(),a.getGoodsList(),a.state.marketUpdate=!a.state.marketUpdate):10106==e.code?H.overdue():(alert(e.message),H.Modal(e.message))})}});break;case"原因":console.log("原因")}}},{key:"refresh",value:function(){var e={shop_id:null,goods_status:0,page:1,size:30,sort_field:"id"};this.state.defaultParam=e,this.state.getGoodsList()}},{key:"render",value:function(){var e=this,t=this.state.goodsList;return React.createElement("div",{className:"section-warp container-fluid"},React.createElement("div",{className:"section-filter"},React.createElement(b.default,{refreshEv:this.refresh.bind(this)}),React.createElement("div",{className:"filter-row"},this.createArea())),React.createElement("div",{className:"section-table row"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-3"},this.state.currentAreaId?React.createElement(c.default,{areaId:this.state.currentAreaId,callback:this.setShopId,updateState:this.state.marketUpdate}):""),React.createElement("div",{className:"col-lg-9"},React.createElement("div",{className:"section-filter"},React.createElement("div",{className:"filter-row"},React.createElement(d.default,{btnNames:["全部","新增","已拒绝","修改"],bindData:[0,1,5,6],clickCallback:this.setShopState.bind(this),style:"btn btn-sm",activeStyle:"btn btn-sm btn-default",status:this.state.defaultParam.goods_status}))),React.createElement("div",{className:"section-table"},React.createElement("table",{className:"table table-bordered table-hover table-responsive"},React.createElement("thead",null,React.createElement("th",null,"序号"),React.createElement("th",null,React.createElement("a",{onClick:this.order.bind(this,0),href:"javascript:;"},"商品ID",React.createElement("span",{className:"glyphicon sort-icon"}))),React.createElement("th",null,"供应商"),React.createElement("th",null,"品名",React.createElement("a",{onClick:this.signing.bind(this,0),style:{marginLeft:"10px",color:"#337ab7"},href:"javascript:;"},"全部"),"/",React.createElement("a",{onClick:this.signing.bind(this,1),href:"javascript:;",style:{color:"#337ab7"}},"签约")),React.createElement("th",null,"单价"),React.createElement("th",null,"市场"),React.createElement("th",null,"添加时间"),React.createElement("th",null,React.createElement("a",{href:"javascript:;",onClick:this.order.bind(this,6)},"更新时间",React.createElement("span",{className:"glyphicon sort-icon"}))),React.createElement("th",null,"状态"),React.createElement("th",null,"操作")),React.createElement("tbody",null,t.map(function(t,a){var n="";return 1==t.goods_status?n="新增":5==t.goods_status?n="已拒绝":6==t.goods_status&&(n="修改"),React.createElement("tr",{key:a},React.createElement("td",null,a+1),React.createElement("td",null,t.goods_id),React.createElement("td",null,React.createElement("a",{href:"javascript:;","data-index":a,onClick:e.getSupplierInfo.bind(e)},t.shop_name)),React.createElement("td",null,t.on_signing?React.createElement("span",{style:{color:"#70a5ff"}},"【签约】"):null,t.goods_name),React.createElement("td",null,t.goods_price),React.createElement("td",null,t.market_name),React.createElement("td",null,t.add_time),React.createElement("td",null,t.update_time),React.createElement("td",null,n),React.createElement("td",{onClick:e.operate.bind(e,a)},React.createElement("a",null,"详细"),React.createElement("a",null,"通过"),5!=t.goods_status?React.createElement("a",null,"拒绝"):null,React.createElement("a",null,"删除")))}))),React.createElement(h.default,{pageNum:this.state.defaultParam.page,maxPage:this.state.totalPage,clickCallback:this.changePage})))),this.state.goodsInfoPanel))}}]),t}(React.Component);t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(11),c=n(l),u=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={list:[],defaultVal:"",areaId:null,update:!1},a.createTree=a.createTree.bind(a),a.callback=a.callback.bind(a),a.getShopMarket=a.getShopMarket.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.areaId!=this.state.areaId&&(this.state.areaId=this.props.areaId,this.getShopMarket())}},{key:"componentWillReceiveProps",value:function(e){e.areaId==this.state.areaId&&e.updateState==this.state.update||(this.state.areaId=e.areaId,this.state.update=e.updateState,this.getShopMarket())}},{key:"getShopMarket",value:function(){var e=this;H.server.shop_newGoods_market_list({area_id:this.state.areaId},function(t){0==t.code?e.setState({list:t.data.markets?t.data.markets:[]}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"clickHandler",value:function(e){var t=e.target;if("toggle-close"==t.dataset.status)$(t).parent().removeClass("toggle-close"),$(t).parent().addClass("toggle-open"),$(t).attr("data-status","toggle-open");else if("toggle-open"==t.dataset.status)$(t).parent().removeClass("toggle-open"),$(t).parent().addClass("toggle-close"),$(t).attr("data-status","toggle-close");else if(t.dataset.val){var a=t.dataset.key,n=t.dataset.val;$("#goodsAuditTree .goods-class-name").css("color",""),$(t).css("color","red"),this.setState({defaultVal:t.dataset.name}),this.props.callback&&this.props.callback(a,n)}}},{key:"createTree",value:function(){var e=this.state.list,t=[];if(e.length<=0)return t;for(var a=0;a<e.length;a++){for(var n=e[a].shops,r=[],s=0;s<n.length;s++){var o=n[s].shop_name+" ("+n[s].new_goods_number+")";r.push(React.createElement("li",{key:s},React.createElement("div",{className:"last-icon"}),React.createElement("div",{className:"goods-class-name","data-key":"shop_id","data-val":n[s].shop_id,"data-name":n[s].shop_name},o)))}t.push(React.createElement("li",{key:a,className:"toggle-open"},React.createElement("div",{className:"cuttle-icon","data-status":"toggle-open"}),React.createElement("div",{className:"goods-class-name","data-key":"market_id","data-val":e[a].market_id,"data-name":e[a].market_name},e[a].market_name),React.createElement("ul",null,r)))}return t}},{key:"callback",value:function(e,t){this.setState({defaultVal:t}),this.props.callback&&this.props.callback("shop_id",e)}},{key:"render",value:function(){return React.createElement("div",{className:"market-shop",style:{border:"1px solid #ccc"}},React.createElement("div",{style:{margin:"8px"}},React.createElement(c.default,{data:this.state.list,keyArr:["shops"],diffArr:["shop_id","shop_name"],callback:this.callback,placeholder:"输入店铺名",val:this.state.defaultVal})),React.createElement("div",{className:"goods-class-tree",id:"goodsAuditTree"},React.createElement("ul",{className:"goods-class-treeview",onClick:this.clickHandler.bind(this)},this.createTree())))}}]),t}(React.Component);t.default=u},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(7),c=n(l),u=a(8),d=n(u),p=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={info:{parent_id:0,type_name:"",type_keywords:"",type_pic_url:""},type:null,basicAttrData:{type_constraint:{format_type_id:1,format_values:[{value:"",unit:"",default:!1,rule:"string"}]},spec_constraint:{format_type_id:1,format_values:[{value:"",unit:"",default:!1,rule:"string"}]}}},a.getTypeInfo=a.getTypeInfo.bind(a),a.getBasicAttr=a.getBasicAttr.bind(a),a.setTypeConstraint=a.setTypeConstraint.bind(a),a.setSpecConstraint=a.setSpecConstraint.bind(a),a.setParam=a.setParam.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({type:this.props._type},function(){e.getTypeInfo(),e.getBasicAttr()})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e._type&&e._type!=this.state.type&&this.setState({type:e._type},function(){t.getTypeInfo(),t.getBasicAttr()})}},{key:"getTypeInfo",value:function(){var e=this,t={type_id:this.state.type.id};H.server.goods_type_info(t,function(t){0==t.code?e.setState({info:{parent_id:t.data.type_id,type_name:t.data.type_name,type_keywords:t.data.type_keywords,type_pic_url:t.data.type_pic_url}}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"getBasicAttr",value:function(){var e=this,t={type_id:this.state.type.id};H.server.goods_type_basicAttr_get(t,function(t){if(0==t.code){var a={type_constraint:{format_type_id:1,format_values:[{value:"",unit:"",default:!1,rule:"string"}]},spec_constraint:{format_type_id:1,format_values:[{value:"",unit:"",default:!1,rule:"string"}]}};t.data.type_constraint.format_type_id&&(a.type_constraint=t.data.type_constraint),t.data.spec_constraint.format_type_id&&(a.spec_constraint=t.data.spec_constraint),e.setState({basicAttrData:a})}else 10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"setParam",value:function(e){this.setState({info:e})}},{key:"updateGoodsClassSub",value:function(){var e=this,t={type_id:this.state.info.parent_id,type_name:this.state.info.type_name,type_keywords:this.state.info.type_keywords,type_pic_url:this.state.info.type_pic_url};return t.type_name?t.type_keywords?void H.server.goods_type_update(t,function(t){0==t.code?(H.Modal("修改成功"),e.setState({modalState:0}),e.props.getGoodsClassData()):10106==t.code?H.overdue():H.Modal(t.message)}):void $("#goods_type_keywords")[0].focus():void $("#goods_type_name")[0].focus()}},{key:"delGoodsClass",value:function(){var e=this,t={type_id:this.state.info.parent_id};H.Modal({title:"删除分类",content:"<p>确认要删除该分类吗，请先确认该分类下是否有商品，如果有商品则不能删除。成功删除之后不能恢复。</p>",cancel:!0,height:"210",cancelText:"取消",okCallback:function(){H.server.goods_type_delete(t,function(t){0==t.code?(H.Modal("删除成功"),e.setState({modalState:0}),e.props.getGoodsClassData(),e.props.setTYPE()):10106==t.code?H.overdue():H.Modal(t.message)})}})}},{key:"setTypeConstraint",value:function(e){var t=this.state.basicAttrData;t.type_constraint=e,this.setState({basicAttrData:t})}},{key:"setSpecConstraint",value:function(e){var t=this.state.basicAttrData;t.spec_constraint=e,this.setState({basicAttrData:t})}},{key:"basicSave",value:function(){var e=this.state.basicAttrData;e.type_id=this.props._type.id,H.Modal({title:"保存基本属性",content:"<p>保存基本属性之后，该分类下面的商品都将变成待审核状态，请谨慎操作。</p>",cancel:!0,height:"210",cancelText:"取消",okText:"保存",okCallback:function(){H.server.goods_type_basicAttr_update(JSON.stringify(e),function(e){0==e.code?H.Modal("保存成功"):10106==e.code?H.overdue():H.Modal(e.message)})}})}},{key:"render",value:function(){return React.createElement("div",{className:"basic-attr"},React.createElement("div",{className:"basic-info"},React.createElement("div",{className:"title"},"基本属性"),React.createElement(c.default,{data:this.props.data,param:this.state.info,setParam:this.setParam,_dataArr:this.props._type.typeDateArr,typeId:this.props._type.id,delGoodsClass:this.delGoodsClass,disabled:"1"}),React.createElement("div",{className:"btn-group",style:{paddingLeft:"85px"}},React.createElement("a",{className:"btn btn-sm btn-default",onClick:this.updateGoodsClassSub.bind(this)},"保存"),React.createElement("a",{className:"btn btn-sm btn-orange",onClick:this.delGoodsClass.bind(this)},"删除")),this.state.type.isHasChild?"":React.createElement("div",null,React.createElement("div",{className:"basic-item"},React.createElement("div",{className:"item-title"},"型号约束"),React.createElement(d.default,{values:this.state.basicAttrData.type_constraint,rules:this.props.inputFormat,handler:this.setTypeConstraint})),React.createElement("div",{className:"basic-item"},React.createElement("div",{className:"item-title"},"规格约束"),React.createElement(d.default,{values:this.state.basicAttrData.spec_constraint,rules:this.props.inputFormat,handler:this.setSpecConstraint})),React.createElement("div",{style:{marginTop:"20px",textAlign:"right"}},React.createElement("a",{className:"btn btn-sm btn-default",onClick:this.basicSave.bind(this)},"保存")))))}}]),t}(React.Component);t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(9),c=n(l),u=a(5),d=n(u),p=a(7),f=n(p),m=a(31),h=n(m),g=a(33),b=n(g),v=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={goodsClassData:null,modalState:0,addParam:{parent_id:0,type_name:"",type_keywords:"",type_pic_url:""},areaData:[],_area:null,_type:null,inputFormat:[],sortState:!1,sortParam:[]},a.setAddParam=a.setAddParam.bind(a),a.updateGoodsClass=a.updateGoodsClass.bind(a),a.getGoodsClassData=a.getGoodsClassData.bind(a),a.setTYPE=a.setTYPE.bind(a),a.getInputFormat=a.getInputFormat.bind(a),a.setTypeSortParam=a.setTypeSortParam.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){if(this.getInputFormat(),this.getAreaData(),$("#mybase64").length<=0){var e='<script id="mybase64" src="/js/mybase64.js"></script>';$("body").append(e)}}},{key:"getGoodsClassData",value:function(){var e=this;H.server.goods_type_list({area_id:this.state._area},function(t){0==t.code?e.setState({goodsClassData:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"getInputFormat",value:function(){var e=this;H.server.other_goods_type_attr_inputFormat_list({},function(t){0==t.code?e.setState({inputFormat:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"getAreaData",value:function(){var e=this;H.server.other_customArea_list({},function(t){0==t.code?e.setState({areaData:t.data,_area:t.data[0].area_id},function(){e.getGoodsClassData()}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"addGoodsClass",value:function(){this.setState({modalState:1,addParam:{parent_id:0,type_name:"",type_keywords:"",type_pic_url:""}})}},{key:"addGoodsClassSub",value:function(){var e=this,t=this.state.param;return t.area_id=this.state._area,t.type_name?t.type_keywords?void H.server.goods_type_add(t,function(t){0==t.code?(H.Modal("添加成功"),e.setState({modalState:0}),e.getGoodsClassData()):10106==t.code?H.overdue():H.Modal(t.message)}):void $("#goods_type_keywords")[0].focus():void $("#goods_type_name")[0].focus()}},{key:"setAddParam",value:function(e){this.setState({param:e})}},{key:"updateGoodsClass",value:function(e,t,a){this.setState({_type:{id:e,typeDateArr:t,isHasChild:a}})}},{key:"setTYPE",value:function(){this.setState({_type:null})}},{key:"toggleArea",value:function(e,t){var a=this;e!=this.state._area&&(this.setState({_area:e,_type:null},function(){a.getGoodsClassData()}),$(t.target).siblings().removeClass('btn-default"'),$(t.target).addClass('btn-default"'))}},{key:"typeSort",value:function(){this.state.sortState?this.typeSortSub():this.setState({sortState:!this.state.sortState})}},{key:"typeSortSub",value:function(){var e=this;H.server.goods_type_sort(JSON.stringify(this.state.sortParam),function(t){0==t.code?(H.Modal("修改排序成功"),e.getGoodsClassData(),e.setState({sortState:!e.state.sortState})):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"setTypeSortParam",value:function(e){for(var t=this.state.sortParam,a=!1,n=0;n<t.length;n++)t[n].type_id==e.type_id&&(t[n].sort_value=e.sort_value,a=!0);a||t.push(e),this.setState({sortParam:t})}},{key:"render",value:function(){var e=this,t="";switch(this.state.modalState){case 1:t=React.createElement(d.default,{width:"535",header:"添加分类",confirm:"保存",cancel:"取消",confirmCallback:this.addGoodsClassSub.bind(this),cancelCallback:function(){e.setState({modalState:0})}},React.createElement(f.default,{data:this.state.goodsClassData,param:this.state.addParam,setParam:this.setAddParam}))}return React.createElement("div",{className:"section-warp"},React.createElement("div",{className:"section-filter"},React.createElement("div",{className:"filter-row"},React.createElement("div",{className:"btn-group"},this.state.areaData.map(function(t,a){return React.createElement("btn",{key:a,className:e.state._area==t.area_id?"btn btn-sm btn-default":"btn btn-sm",onClick:e.toggleArea.bind(e,t.area_id)},t.area_name)})))),React.createElement("div",{className:"section-table row"},React.createElement("div",{className:"col-lg-4"},React.createElement("div",{className:"class-tree"},React.createElement("div",{className:"class-tree-header"},React.createElement("span",{className:"text"},"商品分类树"),React.createElement("btn",{className:"btn btn-sm",style:{float:"right"},onClick:this.addGoodsClass.bind(this)},"新增"),this.state.sortState?React.createElement("btn",{className:"btn btn-sm",style:{float:"right"},onClick:this.typeSort.bind(this)},"完成"):React.createElement("btn",{className:"btn btn-sm",style:{float:"right"},onClick:this.typeSort.bind(this)},"排序")),React.createElement(c.default,{data:this.state.goodsClassData,updateGoodsClass:this.updateGoodsClass,setTypeSortParam:this.setTypeSortParam,sortState:this.state.sortState}))),React.createElement("div",{className:"col-lg-4"},this.state._type?React.createElement(h.default,{data:this.state.goodsClassData,_type:this.state._type,getGoodsClassData:this.getGoodsClassData,setTYPE:this.setTYPE,inputFormat:this.state.inputFormat}):""),React.createElement("div",{className:"col-lg-4"},this.state._type&&!this.state._type.isHasChild?React.createElement(b.default,{inputFormat:this.state.inputFormat,_type:this.state._type}):"")),t)}}]),t}(React.Component);t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(8),c=n(l),u=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={specialData:{type_id:a.props._type.id,attributes:[]},type:null},a.getSpecialAttr=a.getSpecialAttr.bind(a),a.CreateSpecialList=a.CreateSpecialList.bind(a),a.setData=a.setData.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({type:this.props._type},function(){e.getSpecialAttr()})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e._type&&e._type!=this.state.type&&this.setState({type:e._type},function(){t.getSpecialAttr()})}},{key:"getSpecialAttr",value:function(){var e=this,t={type_id:this.state.type.id};H.server.goods_type_specialAttr_list(t,function(t){0==t.code?e.setState({specialData:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"addSpecialAttr",value:function(){var e=this.refs.addSpecialName.value;if(!e)return void this.refs.addSpecialName.focus();var t=this.state.specialData,a={attribute_id:0,attribute_name:e,format_type_id:1,must:!1,format_values:[{value:"",unit:"",default:!1,rule:"string"}]};t.attributes.length>0?t.attributes[t.attributes.length-1].attribute_id?(t.attributes.push(a),this.setState({specialData:t})):H.Modal("先把刚添加的保存之后再继续添加下一个特殊属性"):(t.attributes.push(a),this.setState({specialData:t})),this.refs.addSpecialName.value=""}},{key:"delSpecialAttr",value:function(e,t){var a=this,n=this.state.specialData;n.attributes[e].attribute_id?H.Modal({title:'删除特殊属性"'+t+'"',content:"<p>确认要删除该属性吗，请先确认该分类下是否有商品，如果有商品，成功删除之后不能恢复，并且该分类下面的商品将变成待审核。</p>",cancel:!0,height:"210",cancelText:"取消",okCallback:function(){H.server.goods_type_specialAttr_delete(JSON.stringify({attribute_ids:""+n.attributes[e].attribute_id}),function(t){0==t.code?(H.Modal("删除成功"),n.attributes.splice(e,1),a.setState({specialData:n})):10106==t.code?H.overdue():H.Modal(t.message)})}}):(n.attributes.splice(e,1),this.setState({specialData:n}))}},{key:"setData",value:function(e,t){var a=this.state.specialData;a.attributes[parseInt(t)]=e,this.setState({specialData:a})}},{key:"radioChange",value:function(e,t){var a=this.state.specialData;a.attributes[e].must="true"===t.target.value,this.setState({specialData:a})}},{key:"setSpecialName",value:function(e,t){var a=this.state.specialData;a.attributes[e].attribute_name=t.target.value,this.setState({specialData:a})}},{key:"CreateSpecialList",value:function(){var e=this.state.specialData.attributes,t=[];if(!e)return t;for(var a in e)t.push(React.createElement("div",{className:"special-list",key:a},React.createElement("div",{className:"form-inline form-group"},React.createElement("span",{className:"labels"},"属性名："),React.createElement("input",{type:"text",className:"form-control name",value:e[a].attribute_name,onChange:this.setSpecialName.bind(this,a)}),React.createElement("a",{className:"btn btn-sm btn-orange",onClick:this.delSpecialAttr.bind(this,a,e[a].attribute_name)},"删除")),React.createElement("div",{className:"form-group"},React.createElement("span",{className:"labels"},"必填："),React.createElement("label",{className:"radio-inline"},React.createElement("input",{type:"radio",defaultChecked:e[a].must,value:!0,onChange:this.radioChange.bind(this,a),name:"must"+a}),"是"),React.createElement("label",{className:"radio-inline"},React.createElement("input",{type:"radio",defaultChecked:!e[a].must,value:!1,onChange:this.radioChange.bind(this,a),name:"must"+a}),"否")),React.createElement(c.default,{values:e[a],rules:this.props.inputFormat,handler:this.setData,num:a})));return t}},{key:"specialSave",value:function(){var e=this;this.state.specialData.attributes.length<=0||H.Modal({title:"保存特殊属性",content:"<p>保存特殊属性之后，该分类下面的商品都将变成待审核状态，请谨慎操作。</p>",cancel:!0,height:"210",cancelText:"取消",okText:"保存",okCallback:function(){H.server.goods_type_specialAttr_update(JSON.stringify(e.state.specialData),function(t){0==t.code?(H.Modal("保存成功"),e.getSpecialAttr()):10106==t.code?H.overdue():H.Modal(t.message)})}})}},{key:"render",value:function(){return React.createElement("div",{className:"special-attr"},React.createElement("div",{className:"special-info"},React.createElement("div",{className:"title"},"特殊属性"),this.CreateSpecialList(),React.createElement("div",{className:"form-inline form-group"},"属性名：",React.createElement("input",{type:"text",ref:"addSpecialName",className:"form-control name"}),React.createElement("a",{className:"btn btn-sm btn-default",onClick:this.addSpecialAttr.bind(this)},"+添加")),React.createElement("div",{style:{marginTop:"20px",textAlign:"right"}},React.createElement("a",{className:"btn btn-sm btn-default",onClick:this.specialSave.bind(this)},"保存"))))}}]),t}(React.Component);t.default=u},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(13),c=n(l),u=a(6),d=n(u),p=a(14),f=n(p),m=a(37),h=n(m),g=function(e){
function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:{basic_infos:{goods_id:a.props.goodsId||0,goods_name:"",goods_type_id:11,brand_id:0,origin:"",halal:0,smuggle_id:1,goods_title:"",describe:""},basic_attributes:{goods_price:0,goods_unit_id:1,price_adjust_frequency:1,rough_weight:"",net_weight:"",meat_weight:"",inventory:99999,minimum_order_quantity:1,specs:{constraint_id:3,must:!0,name:"规格",values:[{value:"",unit:""}]},types:{constraint_id:2,must:!0,name:"型号",values:[{value:"",unit:""}]}},special_attributes:[],pictures:[],inspection_reports:[],price_rules:[]},basicAttrData:null,specialData:[],goodsClassData:null,activitiesType:[],goodsUnits:[],goodsSmuggles:[],goodsBrands:null,searchBrand:[],EditImage:"",brand_name:"",editor:null,strArr:[],priceRules:[],sameParam:{},sameData:[]},a.setTypeId=a.setTypeId.bind(a),a.getAttr=a.getAttr.bind(a),a.createFormatType=a.createFormatType.bind(a),a.inputChange=a.inputChange.bind(a),a.setNewImgUrl=a.setNewImgUrl.bind(a),a.hideEditImage=a.hideEditImage.bind(a),a.picSortBlur=a.picSortBlur.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.getInitData()}},{key:"componentDidMount",value:function(){document.addEventListener("click",function(e){"input"!=e.target.dataset.choose&&"brand"!=e.target.dataset.choose&&$(".search-select").hide()})}},{key:"getAttr",value:function(){function e(){if(n.state.basicAttrData&&n.state.specialData.length>0){var e=Object.assign({},n.state.oldData),t=n.state.data,a=n.state.specialData,r=[],s=[];e.basic_attributes.specs.constraint_id!=n.state.basicAttrData.spec_constraint.attribute_id?(n.state.specsAttrString=e.basic_attributes.specs.attr_values,t.basic_attributes.specs=n.createGoodsInfoKey(n.state.basicAttrData.spec_constraint,"规格")):e.basic_attributes.specs.format_type_id!=n.state.basicAttrData.spec_constraint.format_type_id?(n.state.specsAttrString=e.basic_attributes.specs.attr_values,t.basic_attributes.specs=n.createGoodsInfoKey(n.state.basicAttrData.spec_constraint,"规格")):t.basic_attributes.specs={constraint_id:e.basic_attributes.specs.constraint_id,must:e.basic_attributes.specs.must,name:e.basic_attributes.specs.name,values:e.basic_attributes.specs.values},e.basic_attributes.types.constraint_id!=n.state.basicAttrData.type_constraint.attribute_id?(n.state.typesAttrString=e.basic_attributes.specs.attr_values,t.basic_attributes.types=n.createGoodsInfoKey(n.state.basicAttrData.type_constraint,"型号")):e.basic_attributes.types.format_type_id!=n.state.basicAttrData.type_constraint.format_type_id&&(n.state.typesAttrString=e.basic_attributes.types.attr_values,t.basic_attributes.types=n.createGoodsInfoKey(n.state.basicAttrData.type_constraint,"型号"));var o=Object.assign({},e.special_attributes),i=[];for(var l in o)i.push(o[l]);o=i;for(var c=0;c<a.length;c++)for(var u=0;u<o.length;u++)if(a[c].attribute_id==o[u].constraint_id){if(a[c].format_type_id==o[u].format_type_id){r[c]={constraint_id:o[u].constraint_id,must:a[c].must,name:a[c].attribute_name,values:o[u].values},o.splice(u,1);break}r[c]=n.createGoodsInfoKey(a[c])}else r[c]=n.createGoodsInfoKey(a[c]);for(var d=0;d<o.length;d++)s.push(o[d].attr_values);t.special_attributes=r,n.state.strArr=s,n.setState({data:t})}}var t=this,a={type_id:this.state.data.basic_infos.goods_type_id},n=this;n.state.specialData=[],H.server.goods_type_basicAttr_get(a,function(a){0==a.code?(a.data.spec_constraint.attribute_id?a.data.type_constraint.attribute_id||H.Modal({title:"警告",content:"该分类下还没有设置型号约束，您暂时不能在这个分类下添加商品"}):H.Modal({title:"警告",content:"该分类下还没有设置规格约束，您暂时不能在这个分类下添加商品"}),t.state.basicAttrData=a.data,e()):10106==a.code?H.overdue():H.Modal(a.message)}),H.server.goods_type_specialAttr_list(a,function(a){0==a.code?(t.state.specialData=a.data.attributes,e()):10106==a.code?H.overdue():H.Modal(a.message)})}},{key:"createGoodsInfoKey",value:function(e,t){var a=!1;a=!!t||e.must;var n={constraint_id:e.attribute_id,must:a,name:t?t:e.attribute_name,values:[]},r=[];switch(e.format_type_id){case 1:r=[{value:"",unit:""}];break;case 2:r=[{value:"",unit:""}];break;case 3:for(var s=e.format_values,o=0;o<s;o++)r.push({value:"",unit:s[o].unit});break;case 4:r=[{value:"",unit:e.format_values[0].unit},{value:"",unit:e.format_values[1].unit}];break;case 5:r=[{value:"",unit:e.format_values[0].unit},{value:"",unit:e.format_values[1].unit}]}return n.values=r,n}},{key:"setTypeId",value:function(e){var t=this,a=this.state.data,n=this.state.sameParam;a.basic_infos.goods_type_id=e,a.special_attributes=[],a.basic_attributes.specs.values=[],a.basic_attributes.types.values=[],n.type_id=e,this.setState({data:a,sameData:[]},function(){t.getAttr()})}},{key:"createFormatType",value:function(e,t,a,n){var r=this,s=[],o=null;switch(e.must&&(o=React.createElement("div",{className:"ft mandatory"},"*")),e.format_type_id){case 1:var i="",l=[];t&&t.values[0]&&(i=t.values[0].value),e.format_values[0].unit&&l.push(React.createElement("span",{key:n+""+(new Date).getTime(),className:"unit-item"},e.format_values[0].unit)),s.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title"},a),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("div",{className:"form-control input-unit"},React.createElement("input",{type:"text",defaultValue:i,onBlur:this.constraint.bind(this,e,e.format_values[0],n)}),l)),o));break;case 2:s.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title",style:{marginTop:"0px"}},a,React.createElement("span",{style:{color:"#38b7f6",display:"inherit"}},"(单选)")),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("div",{className:"form-group input-inline btn-group-rule"},e.format_values.map(function(a,s){var o=!1;return t&&t.values[0]&&t.values[0].value==a.value&&(o=!0),React.createElement("btn",{key:s+""+(new Date).getTime(),className:o?"btn active":"btn",onClick:r.constraint.bind(r,e,a,n)},a.value)}))),o));break;case 3:s.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title",style:{marginTop:"0px"}},a,React.createElement("span",{style:{color:"#38b7f6",display:"inherit"}},"(多选)")),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("div",{className:"form-group input-inline btn-group-rule"},e.format_values.map(function(a,s){var o=a,i=!1;if(o.index=s,t)for(var l=0;l<t.values.length;l++)if(t.values[l]&&t.values[l].value==a.value){i=!0;break}return React.createElement("btn",{key:s+""+(new Date).getTime(),className:i?"btn active":"btn",onClick:r.constraint.bind(r,e,o,n)},a.value)}))),o));break;case 4:var c=!1,u=!1;t&&t.values[0]&&(c=!0),t&&t.values[1]&&(u=!0),s.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title"},a),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("input",{type:"text",className:"form-control sm-input",defaultValue:c?t.values[0].value:"",onBlur:this.constraint.bind(this,e,1,n)}),e.format_values[0].unit," ",React.createElement("span",{className:"symbol"},"-"),React.createElement("input",{type:"text",className:"form-control sm-input",defaultValue:u?t.values[1].value:"",onBlur:this.constraint.bind(this,e,2,n)}),e.format_values[1].unit),o));break;case 5:var d=!1,p=!1;t&&t.values[0]&&(d=!0),t&&t.values[1]&&(p=!0),s.push(React.createElement("div",{className:"clearfix",key:e.format_type_id+""+(new Date).getTime()},React.createElement("div",{className:"label-title"},a),React.createElement("div",{className:"bd form-inline",style:{width:"auto"}},React.createElement("input",{type:"text",className:"form-control sm-input",defaultValue:d?t.values[0].value:"",onBlur:this.constraint.bind(this,e,1,n)}),e.format_values[0].unit," ",React.createElement("span",{className:"symbol"},"*"),React.createElement("input",{type:"text",className:"form-control sm-input",defaultValue:p?t.values[1].value:"",onBlur:this.constraint.bind(this,e,2,n)}),e.format_values[1].unit),o))}return s}},{key:"getInitData",value:function(){function e(){if(a&&n&&r&&s&&o&&i&&l){for(var e=Object.assign({},i),t="",u=i.basic_infos.brand_name,d=0;d<r.length;d++)r[d].id==i.basic_infos.brand_id&&(t=r[d].brand+" ("+r[d].id+")",u=r[d].brand);c.state.goodsUnits=a,c.state.goodsSmuggles=n,c.state.goodsBrands=r,c.state.goodsClassData=s,c.state.activitiesType=o,c.state.priceRules=l,c.state.data={basic_infos:e.basic_infos,basic_attributes:e.basic_attributes,special_attributes:e.special_attributes,pictures:e.pictures,inspection_reports:e.inspection_reports,price_rules:e.price_rules},c.state.oldData=e,c.state.brand_name=t;for(var p="",f=0;f<a.length;f++)a[f].id==i.basic_attributes.goods_unit_id&&(p=a[f].name);c.state.sameParam={goods_id:i.basic_infos.goods_id,type_id:i.basic_infos.goods_type_id,brand:u,guige:i.basic_attributes.specs,xinghao:i.basic_attributes.types,unit:p},c.getGoodsSame(),c.picSortBlur(),i.basic_infos.goods_type_id&&1!=i.basic_infos.goods_type_id?c.getAttr():c.forceUpdate()}}var t=H.server,a=null,n=null,r=null,s=null,o=null,i=null,l=null,c=this;t.other_goods_units({},function(t){0==t.code?(a=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.other_goods_smuggles({},function(t){0==t.code?(n=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_brands_list({page:1,size:5e3},function(t){0==t.code?(r=t.data.brands,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_type_list({area_id:this.props.area},function(t){0==t.code?(s=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.activities_type({},function(t){0==t.code?(o=t.data,o.push({id:1,name:"无活动"}),e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_info({goods_id:this.props.goodsId},function(t){0==t.code?(i=t.data,e()):10106==t.code?H.overdue():H.Modal(t.message)}),t.goods_price_rules({},function(t){0==t.code?(l=t.data.price_rules,e()):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"getBrandData",value:function(){var e=this;H.server.goods_brands_list({page:1,size:5e3},function(t){0==t.code?e.setState({goodsBrands:t.data.brands}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"inputChange",value:function(e,t){var a=t.target.value,n=this.state.data;switch(parseInt(e)){case 1:n.basic_infos.goods_name=a;break;case 2:n.basic_infos.origin=a;break;case 3:H.isFloat(a)||""==a?n.basic_attributes.rough_weight=a:t.target.focus();break;case 4:H.isFloat(a)||""==a?n.basic_attributes.meat_weight=a:t.target.focus();break;case 5:H.isNumber(a,0)||""==a?""==a?n.basic_attributes.inventory=99999:n.basic_attributes.inventory=parseInt(a):t.target.focus();break;case 6:H.isNumber(a)||""==a?n.basic_attributes.minimum_order_quantity=a:t.target.focus();break;case 7:H.isFloat(a)||""==a?n.basic_attributes.goods_price=a:t.target.focus();break;case 8:n.basic_infos.goods_title=a;break;case 9:n.basic_infos.halal=a;break;case 10:n.basic_infos.smuggle_id=a;break;case 11:n.basic_attributes.price_adjust_frequency=a;break;case 12:n.basic_attributes.goods_unit_id=a;break;case 13:n.basic_infos.describe=a;break;case 14:H.isFloat(a)||""==a?n.basic_attributes.net_weight=a:t.target.focus()}this.setState({data:n})}},{key:"constraint",value:function(e,t,a,n){var r=this.state.data,s=null;switch(a==-1?(s=r.basic_attributes.types,s.constraint_id=e.attribute_id,s.format_type_id=e.format_type_id):a==-2?(s=r.basic_attributes.specs,s.constraint_id=e.attribute_id,s.format_type_id=e.format_type_id):s=r.special_attributes[a]?r.special_attributes[a]:{constraint_id:e.attribute_id,must:e.must||0,name:e.attribute_name,values:[]},e.format_type_id){case 1:s.values=[{value:n.target.value,unit:t.unit}];break;case 2:$(n.target).siblings().removeClass("active"),$(n.target).addClass("active"),s.values=[{value:t.value,unit:t.unit}];break;case 3:$(n.target).attr("class").indexOf("active")==-1?($(n.target).addClass("active"),s.values.push({value:t.value,unit:t.unit})):($(n.target).removeClass("active"),s.values.splice(t.index,1));break;case 4:1==t?s.values[0]={value:n.target.value,unit:e.format_values[0].unit}:s.values[1]={value:n.target.value,unit:e.format_values[1].unit};break;case 5:1==t?s.values[0]={value:n.target.value,unit:e.format_values[0].unit}:s.values[1]={value:n.target.value,unit:e.format_values[1].unit}}var o=this.state.sameParam;a==-1?(r.basic_attributes.types=s,o.xinghao=s,this.getGoodsSame()):a==-2?(r.basic_attributes.specs=s,o.guige=s,this.getGoodsSame()):r.special_attributes[a]=s,this.setState({data:r})}},{key:"picSort",value:function(e,t){var a=this.state.data,n=parseInt(t.target.value),r=void 0;r=a.pictures[e],n<=a.pictures.length&&n>0?(a.pictures.splice(e,1),a.pictures.splice(n-1,0,r),this.picSortBlur()):""==t.target.value&&(r.sort_value=""),this.setState({data:a})}},{key:"picSortBlur",value:function(){for(var e=this.state.data,t=0;t<e.pictures.length;t++)e.pictures[t].sort_value=t+1;this.setState({data:e})}},{key:"inspectionReportDel",value:function(e,t){var a=this;if(0==e.picture_id){var n=this.state.data;return n.inspection_reports.splice(t,1),void this.setState({data:n})}H.Modal({title:"删除检验报告",content:"<p>确认要删除检验报告吗，删除之后不能恢复哦。</p>",cancel:!0,height:"210",cancelText:"取消",okCallback:function(){H.server.goods_inspectionReport_picture_del(JSON.stringify({picture_id:e.picture_id}),function(e){if(0==e.code){var n=a.state.data;n.inspection_reports.splice(t,1),a.setState({data:n})}else 10106==e.code?H.overdue():H.Modal(e.message)})}})}},{key:"picturesDel",value:function(e,t){var a=this;if(0==e.picture_id){var n=this.state.data;return n.pictures.splice(t,1),void this.setState({data:n})}H.Modal({title:"删除检验报告",content:"<p>确认要删除商品图片吗，删除之后不能恢复哦。</p>",cancel:!0,height:"210",cancelText:"取消",okCallback:function(){H.server.goods_picture_del(JSON.stringify({picture_id:e.picture_id}),function(e){if(0==e.code){var n=a.state.data;n.pictures.splice(t,1),a.setState({data:n})}else 10106==e.code?H.overdue():H.Modal(e.message)})}})}},{key:"showEditImage",value:function(e,t){if(this.state.data.pictures.length>=6&&""==e&&2==t)return void H.Modal("最多上传6张商品图片");var a=React.createElement(h.default,{imgURL:e.picture_add,imgObj:e,status:t,setNewImgUrl:this.setNewImgUrl,closeModal:this.hideEditImage});this.setState({EditImage:a})}},{key:"hideEditImage",value:function(){this.setState({EditImage:""})}},{key:"setNewImgUrl",value:function(e,t,a){var n=this.state.data,r=[];if(r=1==t?n.inspection_reports:n.pictures,e){if(0==e.picture_id)r[e.index].picture_add=a;else for(var s=0;s<r.length;s++)if(r[s].picture_id==e.picture_id){r[s].picture_add=a;break}}else r.push({picture_id:0,picture_add:a,sort_value:r.length+1});this.setState({data:n,EditImage:""})}},{key:"brandChange",value:function(e){for(var t=e.target.value,a=this.state.goodsBrands||[],n=[],r=0;r<a.length;r++)a[r].brand.indexOf(t)!=-1&&n.push(a[r]);this.setState({searchBrand:n,brand_name:t}),$(".search-select").show()}},{key:"chooseBrand",value:function(e,t){t.stopPropagation(),t.preventDefault();var a=this.state.data,n=this.state.sameParam,r=e.brand+" ("+e.id+")";a.basic_infos.brand_id=e.id,this.setState({data:a,brand_name:r}),n.brand=e.brand,this.getGoodsSame(),$(".search-select").hide()}},{key:"saveGoodsInfo",value:function(e){for(var t=this,a=Object.assign({},this.state.data),n=a.special_attributes,r=[],s=e,o=0;o<n.length;o++)if(n[o])for(var i=n[o].values,l=0;l<i.length;l++)if(i[l].value){r.push(n[o]);break}return a.special_attributes=r,this.state.brand_name.indexOf("(")==-1&&this.state.brand_name.indexOf(")")==-1?void H.Modal("品牌信息不正确"):void H.server.goods_update(JSON.stringify(a),function(e){0==e.code?(H.Modal("修改成功"),t.props.closePanel(s),t.props.getGoodsList&&t.props.getGoodsList(s)):10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"priceRuleChange",value:function(e,t,a,n){for(var r=this.state.data,s=0;s<r.price_rules.length;s++)e==r.price_rules[s].price_rule_id&&(r.price_rules[s].rules[t][a]=n.target.value);this.setState({data:r})}},{key:"priceRuleDel",value:function(e,t){for(var a=this.state.data,n=0;n<a.price_rules.length;n++)e==a.price_rules[n].price_rule_id&&a.price_rules[n].rules.splice(t,1);this.setState({data:a})}},{key:"priceRuleAdd",value:function(e){for(var t=this.state.data,a=t.price_rules.length,n=!1,r=0;r<a;r++)if(e==t.price_rules[r].price_rule_id){if(n=!0,t.price_rules[r].rules.length>=3)return;t.price_rules[r].rules.push({buy_num:"",preferential_value:""})}n||t.price_rules.push({price_rule_id:e,rules:[{buy_num:"",preferential_value:""}]}),this.setState({data:t})}},{key:"getGoodsSame",value:function(){var e=this,t=this.state.sameParam;t.guige.values.length<=0||t.xinghao.values.length<=0||t.guige.values[0].value&&t.xinghao.values[0].value&&t.brand&&H.server.goods_same(JSON.stringify(t),function(t){0==t.code?e.setState({sameData:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"createSameXML",value:function(){var e=this,t=this.state.sameData;return t.length<=0?null:t.map(function(t,a){return React.createElement("div",{key:a,onClick:e.sameGoodsHandle.bind(e,t.id)},React.createElement("span",{style:{marginRight:"10px"}},t.gname),React.createElement("span",{style:{marginRight:"10px"}},t.xinghao),React.createElement("span",null,t.guigei))})}},{key:"sameGoodsHandle",value:function(e){window.open("/html/same-goods-info/index.html?goodsId="+e+"&areaId="+this.props.area,"newwindow","height=700, width=1000, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")}},{key:"render",value:function(){var e=this,t=this.state.data;return React.createElement("div",null,React.createElement("div",{className:"goods-save-btn"},React.createElement("a",{className:"btn btn-lg btn-default","data-method":"save",onClick:this.saveGoodsInfo.bind(this)},"保存")),React.createElement("div",{className:"goods-info-content"},React.createElement("div",{className:"goods-info-warp"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-7"},React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"基本信息")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"商品名"),React.createElement("div",{className:"bd form-inline"},React.createElement("input",{type:"text",className:"form-control input-inline",placeholder:"(必须包含品牌名)",value:t.basic_infos.goods_name,onChange:this.inputChange.bind(this,1)})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix form-inline"},React.createElement("span",{className:"label-title"},"分类"),React.createElement("div",{className:"bd"},this.state.goodsClassData?React.createElement(d.default,{data:this.state.goodsClassData,typeId:this.state.data.basic_infos.goods_type_id,setTypeId:this.setTypeId,showAll:!0}):null),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("span",{className:"label-title"},"品牌"),React.createElement("div",{className:"bd",style:{width:"40%"}},React.createElement("div",{className:"form-control input-inline",style:{position:"relative"}},React.createElement("input",{type:"text",placeholder:"选择品牌",id:"brand_input",value:this.state.brand_name,style:{outline:"none",border:"none",width:"100%"},onChange:this.brandChange.bind(this),onFocus:this.brandChange.bind(this),"data-choose":"input"}),React.createElement("ul",{className:"search-select",style:{display:"none"}},this.state.searchBrand.map(function(t,a){return React.createElement("li",{key:a,"data-choose":"brand",onClick:e.chooseBrand.bind(e,t)},t.brand)})))),React.createElement("div",{className:"ft"},this.state.data.basic_infos.brand_name?React.createElement("span",{style:{color:"#999",lineHeight:"34px"}},this.state.data.basic_infos.brand_name):null,React.createElement("a",{className:"brand-btn",onClick:this.getBrandData.bind(this)},"刷新"),React.createElement("span",{className:"mandatory"},"*")))),React.createElement("div",null,React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"国别"),React.createElement("div",{className:"bd",style:{width:"30%",marginTop:"8px"}},React.createElement(f.default,{param:this.state.goodsSmuggles,name:"country-real",defaultVal:t.basic_infos.smuggle_id,changeHandler:this.inputChange,identify:10,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px",width:"80px"}},"清真食品"),React.createElement("div",{className:"bd",style:{width:"15%",marginTop:"8px"}},React.createElement(f.default,{param:[{id:0,name:"否"},{id:1,name:"是"}],defaultVal:t.basic_infos.halal,name:"halal",changeHandler:this.inputChange,identify:9,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"产地"),React.createElement("div",{className:"bd form-inline"},React.createElement("input",{type:"text",className:"form-control input-inline",value:t.basic_infos.origin,onChange:this.inputChange.bind(this,2)})),React.createElement("div",{className:"ft mandatory"},"*")),this.state.typesAttrString?React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"}),React.createElement("div",{className:"bd",style:{color:"#999"}},this.state.typesAttrString)):"",this.state.basicAttrData?this.createFormatType(this.state.basicAttrData.type_constraint,t.basic_attributes.types,"型号",-1):"",this.state.specsAttrString?React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"}),React.createElement("div",{className:"bd",style:{color:"#999"}},this.state.specsAttrString)):"",this.state.basicAttrData?this.createFormatType(this.state.basicAttrData.spec_constraint,t.basic_attributes.specs,"规格",-2):"")),React.createElement("div",{className:"col-xs-5"},React.createElement("div",{className:"same-wrap"},React.createElement("div",{className:"same-hd"},"相似商品"),React.createElement("div",{className:"same-bd"},this.createSameXML()))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"带箱重"),React.createElement("div",{className:"bd",style:{width:"180px"}},React.createElement(c.default,{param:{text:"公斤",placeholder:"（纯数字）",value:t.basic_attributes.rough_weight,identify:3},changeHandler:this.inputChange})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"去箱重"),React.createElement("div",{className:"bd",style:{width:"180px"}},React.createElement(c.default,{param:{text:"公斤",placeholder:"（纯数字）",value:t.basic_attributes.net_weight,identify:14},changeHandler:this.inputChange})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"解冻重"),React.createElement("div",{className:"bd",style:{width:"180px"}},React.createElement(c.default,{param:{text:"公斤",placeholder:"（纯数字）",value:t.basic_attributes.meat_weight,identify:4},changeHandler:this.inputChange})))),React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"单位/价格")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"单位"),React.createElement("div",{className:"bd",style:{marginTop:"8px",width:"auto"}},React.createElement(f.default,{param:this.state.goodsUnits,name:"unit",defaultVal:t.basic_attributes.goods_unit_id,changeHandler:this.inputChange,identify:12,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"库存量"),React.createElement("div",{className:"bd",style:{width:"auto"}},React.createElement("input",{className:"form-control input-inline",type:"text",placeholder:"（纯数字）",value:99999==t.basic_attributes.inventory?"":t.basic_attributes.inventory,onChange:this.inputChange.bind(this,5)}))),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"单价"),React.createElement("div",{className:"bd",style:{width:"auto"}},React.createElement(c.default,{param:{text:"元",placeholder:"（货币）",value:t.basic_attributes.goods_price,identify:7},changeHandler:this.inputChange})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px"}},"起买量"),React.createElement("div",{className:"bd",style:{width:"80px"}},React.createElement("input",{className:"form-control input-inline",type:"text",placeholder:"（纯数字，默认为1）",value:t.basic_attributes.minimum_order_quantity,onChange:this.inputChange.bind(this,6)})),React.createElement("div",{className:"ft mandatory"},"*"),React.createElement("div",{className:"label-title",style:{marginLeft:"40px",width:"100px"}},"价格过期频率"),React.createElement("div",{className:"bd",style:{width:"auto",marginTop:"8px"}},React.createElement(f.default,{param:[{id:1,name:"每天过期"},{id:0,name:"长期有效"}],name:"gq",defaultVal:t.basic_attributes.price_adjust_frequency,changeHandler:this.inputChange,identify:11,index:this.props.goodsId})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"form-inline price-rules-wrap"},this.state.priceRules.map(function(t,a){for(var n=[],r=e.state.data.price_rules,s=0;s<r.length;s++)r[s].price_rule_id==t.price_rule_id&&(n=r[s].rules);return React.createElement("div",{key:t.price_rule_id+""+a,className:"price-rule-item"},React.createElement("div",{className:"hd"},"买",t.show_name,React.createElement("span",{className:"add-price-rules btn btn-xs",onClick:e.priceRuleAdd.bind(e,t.price_rule_id)},"添加")),n.map(function(n,r){return React.createElement("div",{key:t.price_rule_id+""+a+r,className:"price-rule-cell"},React.createElement("span",{className:"price-rule-title"},"买"),React.createElement("input",{className:"form-control input-inline",type:"text",onChange:e.priceRuleChange.bind(e,t.price_rule_id,r,"buy_num"),value:n.buy_num}),React.createElement("span",{className:"price-rule-title"},t.buy_unit+"，"),React.createElement("span",{className:"price-rule-title"},t.show_name),React.createElement("input",{className:"form-control input-inline",type:"text",onChange:e.priceRuleChange.bind(e,t.price_rule_id,r,"preferential_value"),value:n.preferential_value}),React.createElement("span",{className:"price-rule-title"},t.preferential_unit),React.createElement("a",{className:"del",onClick:e.priceRuleDel.bind(e,t.price_rule_id,r)},"删除"))}))})))),React.createElement("div",{className:"base-info"},React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"特殊属性",React.createElement("span",{className:"appendage"},"条例特殊属性配置"))),React.createElement("div",{className:"clearfix"},this.state.strArr.map(function(e,t){return React.createElement("div",{className:"col-lg-6",style:{color:"#999",marginBottom:"10px"},key:t},React.createElement("span",{className:"label-title"}),e)})),this.state.specialData.map(function(a,n){return React.createElement("div",{style:{marginTop:"10px"}},e.createFormatType(a,t.special_attributes[n],a.attribute_name,n))})),React.createElement("div",null,React.createElement("div",{className:"clearfix"},React.createElement("h5",{className:"title"},"商品介绍")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"商品标题"),React.createElement("div",{className:"bd"},React.createElement("input",{type:"text",className:"form-control input-inline",placeholder:"15-25字",value:t.basic_infos.goods_title,onChange:this.inputChange.bind(this,8)}))),React.createElement("div",{className:"clearfix",style:{marginTop:"10px"}},React.createElement("div",{className:"label-title"},"优势描述"),React.createElement("div",{className:"bd"},React.createElement("textarea",{className:"input-inline",placeholder:"支持断行、最多100字",value:t.basic_infos.describe,onChange:this.inputChange.bind(this,13)})),React.createElement("div",{className:"ft mandatory"},"*")),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"label-title"},"检验报告",React.createElement("br",null),React.createElement("span",{style:{color:"#ccc"}},"(最多3张)"))),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"input-inline"},t.inspection_reports.map(function(t,a){var n=t;return n.index=a,React.createElement("div",{key:a,className:"form-group goods-img"},React.createElement("a",{style:{width:"200px",height:"200px",display:"inline-block"},href:H.cdn+n.picture_add,target:"_blank"},React.createElement("img",{src:H.cdn+n.picture_add+"@200w_50Q.jpg"})),React.createElement("div",null,React.createElement("btn",{className:"btn btn-sm",onClick:e.inspectionReportDel.bind(e,n,a)},"删除"),React.createElement("btn",{className:"btn btn-sm",onClick:e.showEditImage.bind(e,n,1)},"修图")))}),t.inspection_reports.length>=3?"":React.createElement("div",{className:"form-group goods-img"},React.createElement("btn",{className:"btn add-inspection",onClick:this.showEditImage.bind(this,"",1)},"+添加")))),React.createElement("div",{className:"clearfix"},React.createElement("div",{className:"input-inline"},React.createElement("p",null,"商品图片（最少4张，最多可添加6张图片，最好是竖屏图片）"),React.createElement("div",null,React.createElement("div",{className:"form-group"},React.createElement("div",{className:"btn add-goods-img",onClick:this.showEditImage.bind(this,"",2)},React.createElement("div",{className:"glyphicon cloud-up"}),React.createElement("p",null,"添加图片")))),t.pictures.map(function(t,a){var n=t;return n.index=a,React.createElement("div",{key:a,className:"form-group goods-img"},React.createElement("a",{style:{width:"200px",height:"200px",display:"inline-block"},href:H.cdn+n.picture_add,target:"_blank"},React.createElement("img",{src:H.cdn+n.picture_add+"@200w_50Q.jpg"})),React.createElement("div",null,React.createElement("btn",{className:"btn btn-smell",onClick:e.picturesDel.bind(e,n,a)},"删除"),React.createElement("btn",{className:"btn btn-smell",onClick:e.showEditImage.bind(e,n,2)},"修图"),React.createElement("div",{className:"form-group sort"},"排序",React.createElement("input",{type:"text",className:"sort-input",value:n.sort_value,onBlur:e.picSortBlur.bind(e),onChange:e.picSort.bind(e,a)}))))})))))))),this.state.EditImage)}}]),t}(React.Component);t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(3),c=n(l),u=a(1),d=n(u),p=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));
return a.state={page:1,size:30,total:0,logList:[]},a.getList=a.getList.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.getList()}},{key:"createTable",value:function(){for(var e=["日期","处理内容","操作人"],t=["operate_time","content","operator"],a=this.state.logList.length,n=[],r=this.state.logList,s={1:"供应商",2:"管理员"},o=0;o<a;o++){var i={},l=r[o];i.operate_time=l.operate_time,i.content=l.type+":"+(l.note?l.note:""),i.operator=s[l.identity]+"("+l.user_name+")",n[o]=i}return React.createElement(c.default,{values:n,headlines:e,order:t,id:"goods_log"+Math.random()})}},{key:"setPageNum",value:function(e){this.setState({page:e.page},this.getList)}},{key:"getList",value:function(){var e=this,t=this.state,a={goods_id:this.props.goodsID,page:t.page,size:t.size};H.server.goods_logs_list(a,function(t){0==t.code?e.setState({logList:t.data.logs,total:t.data.total}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("p",null,this.props.goodsName),this.createTable(),React.createElement(d.default,{maxPage:Math.ceil(this.state.total/this.state.size),clickCallback:this.setPageNum.bind(this)}))}}]),t}(React.Component);t.default=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(3),c=n(l),u=a(1),d=n(u),p=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={page:1,size:30,total:0,logList:[]},a.getList=a.getList.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.getList()}},{key:"createTable",value:function(){var e=["日期","一口价"],t=["change_time","goods_price"];return React.createElement(c.default,{values:this.state.logList,headlines:e,order:t,id:"goods_price"+Math.random()})}},{key:"setPageNum",value:function(e){this.setState({page:e.page},this.getList)}},{key:"getList",value:function(){var e=this,t=this.state,a={goods_id:this.props.goodsID,page:t.page,size:t.size};H.server.goods_historyPrices_list(a,function(t){0==t.code?e.setState({logList:t.data.logs,total:t.data.total}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("p",null,this.props.goodsName),this.createTable(),React.createElement(d.default,{maxPage:Math.ceil(this.state.total/this.state.size),clickCallback:this.setPageNum.bind(this)}))}}]),t}(React.Component);t.default=p},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={croppedImg:"",source:"",upload:1,isClick:!1},e}return r(t,e),s(t,[{key:"componentWillMount",value:function(){if($("#cropper").length<=0){var e='<script id="cropper" src="/js/cropper.min.js"></script>';$("body").append(e)}if($("#cropper_style").length<=0){var t='<link id="cropper_style" href="/css/cropper.min.css" rel="stylesheet">';$("head").append(t)}if($("#mybase64").length<=0){var a='<script id="mybase64" src="/js/mybase64.js"></script>';$("body").append(a)}}},{key:"componentDidMount",value:function(){$(".avatar-btns").delegate(".col-md-9","click",function(e){var t=e.target.dataset,a=t.method,n=t.option;$("#img").cropper(a,n)}),$(".loading").hide(),this.init()}},{key:"componentWillUnmount",value:function(){$("#img").unbind()}},{key:"init",value:function(e){var t=this.props.imgURL||"",a=$("#img"),n=this.state;t&&(n.upload=2,a.attr("src",H.cdn+t)),a.cropper({viewModal:2,crop:function(e){var t=['{"x":'+e.x,'"y":'+e.y,'"height":'+e.height,'"width":'+e.width,'"rotate":'+e.rotate+"}"];t=t.join()}}),e&&e.stopPropagation()}},{key:"getCroppedCanvas",value:function(e){var t=this.state,a=e.height,n=e.width,r=$("#img");t.croppedImg=r.cropper("getCroppedCanvas",{width:n,height:a})}},{key:"uploadFile",value:function(){var e=this,t=document.getElementById("avatarInput").files[0],a=new FileReader;a.readAsDataURL(t),$("#img").cropper("destroy"),$("#img").remove(),a.onload=function(t){e.setState({source:t.target.result},e.update)}}},{key:"update",value:function(){var e="",t=new Image,a=H.cdn+this.props.imgURL;$(t).attr("id","img"),e=$("#img"),t.src=this.state.source||a,$(".avatar-wrapper").append(t),e.cropper({viewModal:2})}},{key:"closeModal",value:function(){this.props.closeModal&&this.props.closeModal()}},{key:"crop",value:function(e){var t=this.state;t.upload=2,this.init(e)}},{key:"uploadNature",value:function(){var e=this,t=document.getElementById("avatarInput").files[0],a=t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase(),n=".jpg,.bmp,.gif,.png,.jpeg",r="Public/Uploads/newgoodsimg/"+H.Date.getFullYear()+H.Date.getMonth()+H.Date.getDate()+"/"+(new Date).getTime()+Math.floor(10*Math.random())+"."+a;if(n.indexOf(a)==-1)return void H.Modal("仅支持"+n+"为后缀名的文件!");var s={expiration:"2120-12-01T12:00:00.000Z",conditions:[["starts-with",r,""],{bucket:"idongpin"},["starts-with",t.type,""],["content-length-range",0,104857600]]};$(".loading").show();var o=Base64.encode(JSON.stringify(s));H.server.other_oss_signature({signature_data:o},function(a){if(0==a.code){var n=a.data.signature;H.server.other_oss_identity_data({},function(a){if(0==a.code){var s=a.data.access_id,i=new FormData;i.append("key",r),i.append("Content-Type",t.type),i.append("Content-Length",Math.round(100*t.size/1024)/100),i.append("Content-Encoding","compress"),i.append("OSSAccessKeyId",s),i.append("policy",o),i.append("signature",n),i.append("file",t);var l=new XMLHttpRequest;l.addEventListener("load",function(){H.Modal("成功"),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,r)},!1),l.addEventListener("error",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,r),H.Modal("上传出现错误，您可以重新点击上传")},!1),l.addEventListener("abort",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,r),H.Modal("上传中断，请检查网络后重新上传")},!1),l.open("POST","http://oss-cn-qingdao.aliyuncs.com/idongpin",!0),l.send(i)}else 10106==a.code?H.overdue():H.Modal(a.message)})}else 10106==a.code?H.overdue():H.Modal(a.message)})}},{key:"submit",value:function(){var e=this,t=document.getElementById("avatarInput").files[0],a=this.state.croppedImg,n=t?t.name:this.props.imgURL,r=n.substring(n.lastIndexOf(".")+1).toLowerCase(),s=".jpg,.bmp,.gif,.png,.jpeg",o="Public/Uploads/newgoodsimg/"+H.Date.getFullYear()+H.Date.getMonth()+H.Date.getDate()+"/"+(new Date).getTime()+Math.floor(10*Math.random())+"."+r;if(n&&!this.state.isClick){if(this.setState({isClick:!this.state.isClick}),$(".loading").show(),1==this.state.upload)return void this.uploadNature();if(s.indexOf(r)==-1)return void H.Modal("仅支持"+s+"为后缀名的文件!");var i={expiration:"2120-12-01T12:00:00.000Z",conditions:[["starts-with",o,""],{bucket:"idongpin"},["starts-with","image/"+r,""],["content-length-range",0,104857600]]},l=Base64.encode(JSON.stringify(i));H.server.other_oss_signature({signature_data:l},function(t){if(0==t.code){var n=t.data.signature;H.server.other_oss_identity_data({},function(t){if(0==t.code){var s=t.data.access_id,i=new FormData;i.append("key",o),i.append("Content-Type","image/"+r),i.append("Content-Encoding","compress"),i.append("OSSAccessKeyId",s),i.append("policy",l),i.append("signature",n),a=$("#img").cropper("getCroppedCanvas"),a.toBlob(function(t){var a=new XMLHttpRequest;i.append("Content-Length",Math.round(100*t.size/1024)/100),i.append("file",t),a.addEventListener("load",function(){H.Modal("成功"),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,o)},!1),a.addEventListener("error",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,o),H.Modal("上传出现错误，您可以重新点击上传")},!1),a.addEventListener("abort",function(){e.setState({isClick:!e.state.isClick}),e.props.setNewImgUrl&&e.props.setNewImgUrl(e.props.imgObj,e.props.status,o),H.Modal("上传中断，请检查网络后重新上传")},!1),a.open("POST","http://oss-cn-qingdao.aliyuncs.com/idongpin",!0),a.send(i)},"image/jpeg",.7)}else 10106==t.code?H.overdue():H.Modal(t.message)})}else 10106==t.code?H.overdue():H.Modal(t.message)})}}},{key:"render",value:function(){return React.createElement("div",{className:"crop-avatar",id:"crop-avatar"},React.createElement("div",{className:"modal show",id:"avatar-modal"},React.createElement("div",{className:"modal-dialog modal-lg"},React.createElement("div",{className:"modal-img-content container"},React.createElement("div",{className:"avatar-form"},React.createElement("div",{className:"modal-img-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.closeModal.bind(this)},"×"),React.createElement("h4",{className:"modal-title",id:"avatar-modal-label"},"修图")),React.createElement("div",{className:"modal-img-body"},React.createElement("div",{className:"avatar-body"},React.createElement("div",{className:"avatar-upload"},React.createElement("input",{type:"hidden",className:"avatar-src",name:"avatar_src"}),React.createElement("input",{type:"hidden",className:"avatar-data",name:"avatar_data"}),React.createElement("label",{htmlFor:"avatarInput"},"Local upload"),React.createElement("input",{type:"file",className:"avatar-input",id:"avatarInput",onChange:this.uploadFile.bind(this)})),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-9"},React.createElement("div",{className:"avatar-wrapper"},React.createElement("img",{id:"img",src:""})))),React.createElement("div",{className:"row avatar-btns"},React.createElement("div",{className:"col-md-9"},React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-90",title:"Rotate -90 degrees"},"左旋"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-15"},"-15deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-30"},"-30deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"-45"},"-45deg")),React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"90",title:"Rotate 90 degrees"},"右旋"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"15"},"15deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"30"},"30deg"),React.createElement("button",{type:"button",className:"btn btn-default btn-sm","data-method":"rotate","data-option":"45"},"45deg")),React.createElement("div",{className:"btn-group"},React.createElement("button",{type:"button",className:"btn btn-default btn-sm",onClick:this.crop.bind(this)},"裁剪"))),React.createElement("div",{className:"col-md-3"},React.createElement("button",{onClick:this.submit.bind(this),className:"btn btn-default btn-sm avatar-save"},"确定"),React.createElement("a",{className:"glyphicon loading"}))))))))))}}]),t}(React.Component);t.default=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(3),c=n(l),u=a(4),d=n(u),p=a(2),f=n(p),m=function(e){function t(e){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={shopList:[],goodsList:[],status:2,currentShop:"",panel:"",areaId:"",supplierName:"",areaList:[],currentArea:""},a.updateGoods=a.updateGoods.bind(a),a.getGoodsList=a.getGoodsList.bind(a),a.setGoodsList=a.setGoodsList.bind(a),a.getSupplierInfo=a.getSupplierInfo.bind(a),a.shielding=a.shielding.bind(a),a.delete=a.delete.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;H.server.other_customArea_list({},function(t){0==t.code?(e.state.areaList=t.data,e.state.currentArea=t.data[0].area_id,e.getShopList()):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"createArea",value:function(){var e=[],t=[];return this.state.areaList.map(function(a){e.push(a.area_name),t.push(a.area_id)}),React.createElement(f.default,{btnNames:e,bindData:t,clickCallback:this.toggleArea.bind(this),style:"btn btn-lg",activeStyle:"btn btn-lg btn-default",status:this.state.currentArea})}},{key:"createShopList",value:function(){var e=this,t=this.state.shopList,a=[];return t.map(function(t,n){a.push(React.createElement("li",{key:n,style:e.state.currentShop==t.shop_id?{backgroundColor:"#28bb7f",color:"#fff"}:null,"data-index":n,className:"list-group-item"},t.shop_name+"("+t.shop_id+")—"+t.market_name))}),React.createElement("ul",{className:"list-group-item shop-list",onClick:this.setGoodsList.bind(this)},a)}},{key:"createSelectArea",value:function(){var e=["在售","已下架","已删除"],t=[2,3,4];return React.createElement(f.default,{btnNames:e,bindData:t,clickCallback:this.toggleStatus.bind(this),style:"btn btn-lg",activeStyle:"btn btn-lg btn-default",status:this.state.status})}},{key:"createTable",value:function(){var e=this.state.goodsList,t=["商品ID","供应商","商品名","操作"],a=["goods_id","supplier","goods_name"],n={1:this.getSupplierInfo,3:this.updateGoods},r={1:[this.state.supplierName],3:["转移"]};return React.createElement(c.default,{key:this.state.status,values:e,headlines:t,order:a,bodyOperate:n,operate:r,id:"goods_transfer"})}},{key:"toggleArea",value:function(e){var t=this,a=e.target.dataset.index;a!=this.state.currentArea&&this.setState({currentArea:a},function(){t.getShopList()})}},{key:"getShopList",value:function(){var e=this;H.server.goods_transfer_shop_list({area_id:this.state.currentArea},function(t){0==t.code?e.setState({shopList:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"toggleStatus",value:function(e){var t=this.state;t.status=e.target.dataset.index,this.getGoodsList()}},{key:"setGoodsList",value:function(e){var t=e.target.dataset.index,a=this.state;a.currentShop=this.state.shopList[t].shop_id,a.supplierName=this.state.shopList[t].shop_name,a.areaId=this.state.shopList[t].area_id,this.getGoodsList()}},{key:"getGoodsList",value:function(){var e=this,t={shop_id:this.state.currentShop,goods_status:this.state.status};H.server.goods_transfer_list(t,function(t){0==t.code?e.setState({goodsList:t.data}):10106==t.code?H.overdue():H.Modal(t.message)})}},{key:"closePanel",value:function(){this.setState({panel:""})}},{key:"updateGoods",value:function(e){var t="",a=null;switch(a=e.target?e.target.dataset.index:2){case"1":var n=this.state.goodsList[e.target.parentNode.dataset.index].goods_id;t=React.createElement("div",{className:"transfer-goods",id:"transfer_goods"},React.createElement(d.default,{closePanel:this.closePanel.bind(this),goodsId:n,getGoodsList:this.getGoodsList,areaId:this.state.areaId}));break;case"2":2!=this.state.status?this.shielding(e):this.delete(e)}this.setState({panel:t})}},{key:"getSupplierInfo",value:function(){H.server.goods_shop_info({shop_id:this.state.currentShop},function(e){if(0==e.code){var t=e.data;H.Modal({title:"供应商信息",width:"450",height:"550",content:"<p>供应商："+t.shop_name+"</p><p>市场："+t.market_name+"</p><p>接单电话："+t.order_receive_tel+"</p><p>老板电话："+t.boos_tel+"</p><p>主营业务："+t.business_types+"</p><p>详细地址："+t.shop_address+"</p>",okText:"关闭"})}else 10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"shielding",value:function(e){var t=this,a=this.state.goodsList[e.target.parentNode.dataset.index].goods_id,n={goods_id:a};H.server.goods_transfer_shielding(JSON.stringify(n),function(e){0==e.code?t.getGoodsList():10106==e.code?H.overdue():H.Modal(e.message)})}},{key:"delete",value:function(e){var t=this,a=this.state.goodsList[e.target.parentNode.dataset.index].goods_id,n={goods_id:a};H.Modal({title:"确认删除商品",content:"<p>确定要删除该商品吗，删除之后若要恢复请联系管理员</p>",okText:"确定",cancel:!0,okCallback:function(){H.server.goods_transfer_oldGoods_del(JSON.stringify(n),function(e){0==e.code?(H.Modal("删除成功"),t.getGoodsList()):10106==e.code?H.overdue():H.Modal(e.message)})}})}},{key:"render",value:function(){return React.createElement("div",{className:"section-warp container-fluid"},React.createElement("div",{className:"section-table row"},React.createElement("div",{className:"section-filter"},React.createElement("form",{className:"form-inline"},React.createElement("div",{className:"filter-row"},this.createArea()))),React.createElement("div",{className:"col-lg-3"},this.createShopList()),React.createElement("div",{className:"col-lg-9"},React.createElement("div",{className:"section-filter"},React.createElement("div",{className:"filter-row"},this.createSelectArea())),this.createTable())),this.state.panel)}}]),t}(React.Component);t.default=m},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){function t(e){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),s(t,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("p",{style:{marginTop:"10px"}},"欢迎找冻品网OA系统—商品管理"))}}]),t}(React.Component);t.default=o},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(39),s=n(r);t.default=s.default},function(e,t){"use strict";!function(){var e=H.namespace("server"),t="",a=function(e,a,n,r,s){"function"==typeof r||(r=function(){});var o=s?{"Cache-Control":"no-cache",Accept:"application/json","Content-Type":s}:{"Cache-Control":"no-cache",Accept:"application/json"},i=$.ajax({url:a+"?r="+Math.random(),data:n,type:e,dataType:"json",async:!0,cache:!1,headers:o,timeout:3e5,success:function(e,t,a){r.call(this,e,t,a)},error:function(e,a,n){if(401==e.status)location.href=t;else{if(!n)return!1;var s={101:"网络不稳定或不畅通，请检查网络设置",403:"服务器禁止此操作！",500:"服务器遭遇异常阻止了当前请求的执行<br/><br/><br/>"},o=null;switch(a){case"timeout":o="网络连接超时，请检查网络是否畅通！";break;case"error":if(s[e.status]){var i=null;try{i=jQuery.parseJSON(e.responseText)}catch(e){}o=i&&i.message?i.message:s[e.status]}else o="服务器响应异常<br/><br/>"+(0==e.status?"":e.status)+"&nbsp;"+n;break;case"abort":o=null;break;case"parsererror":o="数据解析错误！";break;default:o="出现错误:"+a+"！"}null==n.code||null==n.message||s[n.code]||(o+="</br>[code:"+n.code+"][message:"+n.message+"]"+(null==n.stack?"":n.stack)),null==o&&(o=""),r.call(this,{code:e.status,message:o},a,e,n)}}});return i};e.login=function(e,n){return a("post",t+"/user/login",e,n)},e.logout=function(e,n){return a("post",t+"/user/logout",e,n)},e.user_navigate=function(e,n){return a("get",t+"/user/navigate",e,n)},e.user_info=function(e,n){return a("get",t+"/user/info",e,n)},e.user_list=function(e,n){return a("get",t+"/user/list",e,n)},e.user_info_update=function(e,n){return a("post",t+"/user/info/update",e,n)},e.user_add=function(e,n){return a("post",t+"/user/add",e,n)},e.user_status_update=function(e,n){return a("post",t+"/user/status/update",e,n)},e.user_privilege=function(e,n){return a("get",t+"/user/privilege",e,n)},e.user_privilege_update=function(e,n){return a("post",t+"/user/privilege/update",e,n)},e.department_list=function(e,n){return a("get",t+"/department/list",e,n)},e.department_add=function(e,n){return a("post",t+"/department/add",e,n)},e.department_info_update=function(e,n){return a("post",t+"/department/info/update",e,n)},e.department_status_update=function(e,n){return a("post",t+"/department/status/update",e,n)},e.privilege_list=function(e,n){return a("get",t+"/privilege/list",e,n)},e.privilege_add=function(e,n){return a("post",t+"/privilege/add",e,n)},e.privilege_update=function(e,n){return a("post",t+"/privilege/update",e,n)},e.privilege_info=function(e,n){return a("get",t+"/privilege/info",e,n)},e.privilege_status_update=function(e,n){return a("post",t+"/privilege/status/update",e,n)},e.trade_list=function(e,n){return a("get",t+"/trade/list",e,n)},e.trade_add=function(e,n){return a("post",t+"/trade/add",e,n)},e.trade_info=function(e,n){return a("get",t+"/trade/info",e,n)},e.trade_info_update=function(e,n){return a("post",t+"/trade/info/update",e,n)},e.trade_status_update=function(e,n){return a("post",t+"/trade/status/update",e,n)},e.trade_fees_list=function(e,n){return a("get",t+"/trade/fees/list",e,n)},e.shop_type_list=function(e,n){return a("get",t+"/shop/type/list",e,n)},e.other_area_list=function(e,n){return a("get",t+"/other/area/list",e,n)},e.other_customArea_list=function(e,n){return a("get",t+"/other/custom-area/list",e,n)},e.operate_dailyNews_receiveUser_list=function(e,n){return a("get",t+"/operate/daily-news/receive-user/list",e,n)},e.operate_todayArticle_list=function(e,n){return a("get",t+"/operate/today-article/list",e,n)},e.other_todayArticle_type=function(e,n){return a("get",t+"/other/today-article/type",e,n)},e.operate_todayArticle_edit=function(e,n){return a("post",t+"/operate/today-article/edit",e,n)},e.operate_todayArticle_delete=function(e,n){return a("post",t+"/operate/today-article/delete",e,n)},e.operate_dailyNews_goods_list=function(e,n){return a("get",t+"/operate/daily-news/goods/list",e,n)},e.operate_dailyNews_goods_shield=function(e,n){return a("post",t+"/operate/daily-news/goods/shield",e,n)},e.other_oss_signature=function(e,n){return a("get",t+"/other/oss/signature",e,n)},e.other_oss_identity_data=function(e,n){return a("get",t+"/other/oss/identity/data",e,n)},e.operate_dailyNews_log_list=function(e,n){return a("get",t+"/operate/daily-news/log/list",e,n)},e.operate_dailyNews_manage_list=function(e,n){return a("get",t+"/operate/daily-news/manage/list",e,n)},e.operate_dailyNews_manage_edit=function(e,n){return a("post",t+"/operate/daily-news/manage/edit",e,n)},e.shop_type_info=function(e,n){return a("get",t+"/shop/type/info",e,n)},e.activities_list=function(e,n){return a("get",t+"/activities/list",e,n)},e.activities_add=function(e,n){return a("post",t+"/activities/add",e,n,"application/json")},e.activities_update=function(e,n){return a("post",t+"/activities/update",e,n,"application/json")},e.activities_goods_list=function(e,n){return a("get",t+"/activities/goods/list",e,n)},e.activities_goods_add=function(e,n){return a("post",t+"/activities/goods/add",e,n)},e.activities_goods_del=function(e,n){return a("post",t+"/activities/goods/del",e,n)},e.activities_goods_clear=function(e,n){return a("post",t+"/activities/goods/clear",e,n)},e.activities_goods_sort=function(e,n){return a("post",t+"/activities/goods/sort",e,n)},e.operate_dailyNews_goods_recommend=function(e,n){return a("post",t+"/operate/daily-news/goods/recommend",e,n)},e.operate_dailyNews_recommend_goods_remove=function(e,n){return a("post",t+"/operate/daily-news/recommend/goods/remove",e,n)},e.operate_dailyNews_recommend_goods_removeAll=function(e,n){return a("post",t+"/operate/daily-news/recommend/goods/remove-all",e,n)},e.operate_dailyNews_recommend_goods_sort=function(e,n){return a("post",t+"/operate/daily-news/recommend/goods/sort",e,n)},e.goods_type_add=function(e,n){return a("post",t+"/goods/type/add",e,n)},e.goods_type_list=function(e,n){return a("get",t+"/goods/type/list",e,n)},e.goods_type_update=function(e,n){return a("post",t+"/goods/type/update",e,n)},e.goods_type_delete=function(e,n){return a("post",t+"/goods/type/delete",e,n)},e.goods_type_sort=function(e,n){return a("post",t+"/goods/type/sort",e,n,"application/json")},e.goods_type_info=function(e,n){return a("get",t+"/goods/type/info",e,n)},e.other_goods_type_attr_inputFormat_list=function(e,n){return a("get",t+"/other/goods/type/attr/input-format/list",e,n)},e.goods_type_basicAttr_get=function(e,n){return a("get",t+"/goods/type/basic-attr/get",e,n)},e.goods_type_basicAttr_update=function(e,n){return a("post",t+"/goods/type/basic-attr/update",e,n,"application/json")},e.goods_type_specialAttr_update=function(e,n){return a("post",t+"/goods/type/special-attr/update",e,n,"application/json")},e.goods_type_specialAttr_list=function(e,n){return a("get",t+"/goods/type/special-attr/list",e,n)},e.goods_type_specialAttr_delete=function(e,n){return a("post",t+"/goods/type/special-attr/delete",e,n,"application/json")},e.goods_brands_list=function(e,n){return a("get",t+"/goods/brands/list",e,n)},e.goods_brands_delete=function(e,n){return a("post",t+"/goods/brands/delete",e,n)},e.goods_brands_add=function(e,n){return a("post",t+"/goods/brands/add",e,n)},e.goods_brands_update=function(e,n){return a("post",t+"/goods/brands/update",e,n)},e.goods_transfer_shop_list=function(e,n){return a("get",t+"/goods/transfer/shop/list",e,n)},e.goods_transfer_list=function(e,n){return a("get",t+"/goods/transfer/list",e,n)},e.goods_shop_info=function(e,n){return a("get",t+"/goods/shop/info",e,n)},e.goods_transfer_shielding=function(e,n){return a("post",t+"/goods/transfer/shielding",e,n,"application/json")},e.goods_transfer_oldGoods_del=function(e,n){return a("post",t+"\t/goods/transfer/old-goods/del",e,n,"application/json")},e.activities_type=function(e,n){return a("get",t+"/activities/type",e,n)},e.other_goods_units=function(e,n){return a("get",t+"/other/goods/units",e,n)},e.other_goods_smuggles=function(e,n){return a("get",t+"/other/goods/smuggles",e,n)},e.goods_picture_del=function(e,n){return a("post",t+"/goods/picture/del",e,n,"application/json")},e.goods_picture_list=function(e,n){return a("get",t+"/goods/picture/list",e,n)},e.goods_inspectionReport_picture_del=function(e,n){return a("post",t+"/goods/inspection-report/picture/del",e,n,"application/json")},e.goods_add=function(e,n){return a("post",t+"/goods/add",e,n,"application/json")},e.goods_ordinary_list=function(e,n){return a("get",t+"/goods/ordinary/list",e,n)},e.goods_ordinary_soldOut=function(e,n){return a("post",t+"/goods/ordinary/sold-out",e,n)},e.goods_ordinary_priceRefresh=function(e,n){return a("post",t+"/goods/ordinary/price-refresh",e,n)},e.goods_ordinary_delete=function(e,n){return a("post",t+"\t/goods/ordinary/delete",e,n)},e.goods_ordinary_onSale=function(e,n){return a("post",t+"/goods/ordinary/on-sale",e,n)},e.goods_ordinary_undelete=function(e,n){return a("post",t+"/goods/ordinary/undelete",e,n)},e.shop_newGoods_market_list=function(e,n){return a("get",t+"/shop/new-goods/market/list",e,n)},e.goods_newGoods_list=function(e,n){return a("get",t+"/goods/new-goods/list",e,n)},e.goods_audit_pass=function(e,n){return a("post",t+"/goods/audit/pass",e,n,"application/json")},e.goods_audit_refused=function(e,n){return a("post",t+"/goods/audit/refused",e,n,"application/json")},e.shop_customArea_shipmentMarket_list=function(e,n){return a("get",t+"/shop/custom-area/shipment-market/list",e,n)},e.goods_logs_list=function(e,n){return a("get",t+"/goods/logs/list",e,n)},e.goods_historyPrices_list=function(e,n){return a("get",t+"/goods/history-prices/list",e,n)},e.goods_info=function(e,n){return a("get",t+"/goods/info",e,n)},e.goods_update=function(e,n){return a("post",t+"/goods/update",e,n,"application/json")},e.goods_price_rules=function(e,n){return a("get",t+"/goods/price-rules",e,n)},e.goods_same=function(e,n){return a("post",t+"/goods/same",e,n,"application/json")},e.get_access_config=function(e,n){return a("get",t+"/search/boost",e,n)},e.push_access_config=function(e,n){return a("post",t+"/search/boost",e,n)},e.search_synonym=function(e,t){var a="https://idongpin.oss-cn-qingdao.aliyuncs.com/events/search/synonym.txt";window.location.href.indexOf("test.oa.zdongpin")==-1&&(a="https://idongpin.oss-cn-qingdao.aliyuncs.com/Public/search/synonym.txt"),$.ajax({url:a+"?v="+Math.random(),success:function(e){t(e)}})},e.search_custom=function(e,t){var a="https://idongpin.oss-cn-qingdao.aliyuncs.com/events/search/dict/custom.txt";window.location.href.indexOf("test.oa.zdongpin")==-1&&(a="https://idongpin.oss-cn-qingdao.aliyuncs.com/Public/search/dict/custom.txt"),$.ajax({url:a+"?v="+Math.random(),success:function(e){t(e)}})},e.search_synonym_update=function(e,n){return a("post",t+"/search/synonym/update",e,n)},e.search_dict_update=function(e,n){return a("post",t+"/search/dict/update",e,n)},e.search_index_init=function(e,n){return a("post",t+"/search/index/init",e,n)},e.get_all_area=function(e,n){var r="";return r=e.id?"/logistics/area/map/"+e.id:"/logistics/area/map",a("get",t+r,e,n)},e.get_logistic_street=function(e,n){var r="";return r=e.id?"/logistics/area/street/"+e.id:"/logistics/area/street",a("get",t+r,e,n)},e.change_street_state=function(e,n){return a("post",t+"/logistics/area/street/status",e,n)},e.get_capacity_info=function(e,n){return a("get",t+"/logistics/capacity/"+e.display,e,n)},e.modify_capacity=function(e,n){return a("post",t+"/logistics/capacity/update",e,n)},e.add_capacity=function(e,n){
return a("post",t+"/logistics/capacity/add",e,n)},e.delete_capacity=function(e,n){return a("post",t+"/logistics/capacity/delete",e,n)},e.get_driver_info=function(e,n){return a("get",t+"/logistics/driver",e,n)},e.modify_driver_state=function(e,n){return a("post",t+"/logistics/driver/status",e,n)},e.modify_driver=function(e,n){return a("post",t+"/logistics/driver/update",e,n)},e.delete_driver=function(e,n){return a("post",t+"/logistics/driver/delete",e,n)},e.get_work_driver=function(e,n){return a("get",t+"/logistics/capacity/available",e,n)},e.get_all_waybill=function(e,n){return a("post",t+"/logistics/delivery",e,n)},e.cancel_waybill=function(e,n){return a("post",t+"/logistics/delivery/cancel/"+e.id,e,n)},e.get_current_waybill=function(e,n){return a("get",t+"/logistics/delivery/"+e.id,e,n)},e.update_waybill_detail=function(e,n){return a("post",t+"/logistics/delivery/update/"+e.method+"/"+e.id,e,n)},e.waybill_buy_over=function(e,n){return a("post",t+"/logistics/delivery/received/"+e.id,e,n)},e.get_real_time_waybill=function(e,n){return a("get",t+"/logistics/intime",e,n)},e.get_real_time_detail=function(e,n){return a("get",t+"/logistics/intime/"+e.id,e,n)},e.get_today_waybill=function(e,n){return a("get",t+"/logistics/delivery/statics",e,n)},e.get_all_points=function(e,n){return a("get",t+"/logistics/delivery/points",e,n)},e.assign_delivery=function(e,n){return a("post",t+"/logistics/delivery/assign",e,n)},e.shop_search=function(e,n){return a("get",t+"/logistics/shop/search",e,n)},e.sign_shop=function(e,n){return a("post",t+"/logistics/shop/sign",e,n)},e.get_address=function(e,n){return a("get",t+"/logistics/shop/address/"+e.id,e,n)},e.send_order=function(e,n){return a("post",t+"/logistics/shop/order/"+e.id,e,n)},e.update_custom_address=function(e,n){return a("post",t+"/logistics/shop/address/update/"+e.id,e,n)},e.add_custom_address=function(e,n){return a("post",t+"/logistics/shop/address/add/"+e.id,e,n)},e.get_all_customer=function(e,n){return a("get",t+"/logistics/custom",e,n)},e.get_custom_by_id=function(e,n){return a("get",t+"/logistics/custom/"+e.id,e,n)},e.update_custom=function(e,n){return a("post",t+"/logistics/custom/"+e.id,e,n)},e.get_unpaid_waybill=function(e,n){return a("get",t+"/logistics/charge/unpaid",e,n)},e.get_paid_waybill=function(e,n){return a("get",t+"/logistics/charge/paid",e,n)},e.get_canceled_waybill=function(e,n){return a("get",t+"/logistics/charge/canceled",e,n)},e.cancel_charge=function(e,n){return a("post",t+"/logistics/charge/cancel/"+e.id,e,n)},e.create_charge=function(e,n){return a("post",t+"/logistics/charge/create",e,n)},e.send_code=function(e,n){return a("post",t+"/verify/mobile",e,n)},e.unpay_waybill=function(e,n){return a("post",t+"/logistics/charge/free",e,n)},e.logistics_charge_config_get=function(e,n){return a("get",t+"/logistics/charge/getconfig",e,n)},e.logistics_charge_config_set=function(e,n){return a("post",t+"/logistics/charge/setconfig",e,n,"application/json")},e.get_all_address=function(e,n){return a("post",t+"/map/search/hint",e,n)},e.gecode_address=function(e,n){return a("post",t+"/map/geocode/regeo",e,n)},e.version_log_add=function(e,n){return a("post",t+"/system/version/log/add",e,n)},e.version_log_list=function(e,n){return a("get",t+"/system/version/log/list",e,n)},e.version_log_update=function(e,n){return a("post",t+"/system/version/log/update",e,n)},e.get_area_list=function(e,n){return a("get",t+"/other/custom-area/list",e,n)},e.get_brand_house_list=function(e,n){return a("get",t+"/operation-manage/index-manage/brands-house/list",e,n)},e.sold_out_brand=function(e,n){return a("post",t+"/operation-manage/index-manage/brands-house/pull-off",e,n)},e.search_brand=function(e,n){return a("get",t+"/operation-manage/index-manage/brand-name",e,n)},e.add_brand_house=function(e,n){return a("post",t+"\t/operation-manage/index-manage/brands-house/add",e,n)},e.indexManage_recommendGoods_list=function(e,n){return a("get",t+"/operation-manage/index-manage/recommend-goods/list",e,n)},e.indexManage_recommendGoods_add=function(e,n){return a("post",t+"\t/operation-manage/index-manage/recommend-goods/add",e,n)},e.indexManage_recommendGoods_pullOff=function(e,n){return a("post",t+"/operation-manage/index-manage/recommend-goods/pull-off",e,n)},e.indexManage_highQualitySuppliers_list=function(e,n){return a("get",t+"/operation-manage/index-manage/high-quality-suppliers/list",e,n)},e.indexManage_highQualitySuppliers_add=function(e,n){return a("post",t+"/operation-manage/index-manage/high-quality-suppliers/add",e,n)},e.indexManage_highQualitySuppliers_pullOff=function(e,n){return a("post",t+"/operation-manage/index-manage/high-quality-suppliers/pull-off",e,n)},e.indexManage_get_highQualitySuppliers_byId=function(e,n){return a("get",t+"/operation-manage/index-manage/shop-name",e,n)},e.indexManage_newGoods_add=function(e,n){return a("post",t+"/operation-manage/index-manage/new-goods/add",e,n)},e.indexManage_newGoods_list=function(e,n){return a("get",t+"/operation-manage/index-manage/new-goods/list",e,n)},e.indexManage_newGoods_pullOff=function(e,n){return a("post",t+"/operation-manage/index-manage/new-goods/pull-off",e,n)},e.indexManage_newGoods_move=function(e,n){return a("post",t+"/operation-manage/index-manage/new-goods/move",e,n)},e.indexManage_highQualitySuppliers_move=function(e,n){return a("post",t+"/operation-manage/index-manage/high-quality-suppliers/move",e,n)},e.indexManage_recommendGoods_move=function(e,n){return a("post",t+"/operation-manage/index-manage/recommend-goods/move",e,n)},e.indexManage_banner_list=function(e,n){return a("get",t+"/operation-manage/buyer-index/banner/list",e,n)},e.indexManage_update_banner=function(e,n){return a("post",t+"/common/banner/show-time/update",e,n)},e.indexManage_banner_position=function(e,n){return a("post",t+"/common/banner/position/update",e,n)},e.indexManage_banner_add=function(e,n){return a("post",t+"/operation-manage/buyer-index/banner/add",e,n)},e.indexManage_ad_list=function(e,n){return a("get",t+"/operation-manage/index-manage/popup-ads/list",e,n)},e.indexManage_pulloff_ad=function(e,n){return a("post",t+"/operation-manage/index-manage/popup-ads/pull-off",e,n)},e.indexManage_add_ad=function(e,n){return a("post",t+"/operation-manage/index-manage/popup-ads/add",e,n)},e.bi_order=function(e,n){return a("post",t+"/bi/order",e,n)},e.bi_order_filter=function(e,n){return a("post",t+"/bi/order/filter",e,n)},e.service_list=function(e,n){return a("get",t+"/provider/",e,n)},e.show_service=function(e,n){return a("get",t+"/provider/show",e,n)},e.update_service=function(e,n){return a("post",t+"/provider/sp/update",e,n)},e.search_service=function(e,n){return a("post",t+"/provider/search",e,n)},e.service_log_list=function(e,n){return a("get",t+"/provider/log",e,n)},e.handle_service=function(e,n){return a("post",t+"/provider/handle",e,n)},e.update_wechat_service=function(e,n){return a("post",t+"/provider/wechat-config",e,n)},e.category_list=function(e,n){return a("get",t+"/provider/sort",e,n)},e.add_category=function(e,n){return a("post",t+"/provider/sort/add",e,n)},e.wechat_tag_list=function(e,n){return a("get",t+"/provider/wechat-tags",e,n)},e.update_tag=function(e,n){return a("post",t+"/provider/wechat-tag/update",e,n)},e.del_tag=function(e,n){return a("post",t+"/provider/wechat-tag/del",e,n)},e.wechat_menu_list=function(e,n){return a("get",t+"/provider/wechat-menus",e,n)},e.del_menu=function(e,n){return a("post",t+"/provider/wechat-menu/del",e,n)},e.update_menu=function(e,n){return a("post",t+"/provider/wechat-menu/edit",e,n)},e.get_menu_type=function(e,n){return a("get",t+"/provider/wechat-menu-types",e,n)},e.customer_statistics=function(e,n){return a("post",t+"/bi/provider/customers",e,n,"application/json")},e.order_statistics=function(e,n){return a("post",t+"/bi/provider/order",e,n,"application/json")},e.get_provider_province=function(e,n){return a("get",t+"/provider/province",e,n)},e.get_provider_children=function(e,n){return a("get",t+"/provider/children/"+e.id,e,n)},e.rank_order=function(e,n){return a("post",t+"/bi/provider/rank-order",e,n,"application/json")},e.rank_goods=function(e,n){return a("post",t+"/bi/provider/rank-goods",e,n,"application/json")}}()},function(e,t,a){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,n){"object"===t(e)&&"object"===t(e.exports)?e.exports=a.document?n(a,!0):function(e){if(!e.document)throw new Error("I required a window with a document");return n(e)}:n(a)}("undefined"!=typeof window?window:void 0,function(e,a){Function.prototype.method=function(e,t){return this.prototype[e]=t,this},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var a,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+"is not a function");for(arguments.length>1&&(a=t),n=0;n<s;){var o;n in r&&(o=r[n],e.call(a,o,n,r)),n++}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var n={},r={},s=r.toString,o=/\S+/g,i=/[\t\r\n\f]/g,l={eachVarType:function(e){var t="Boolean Number String Function Array Date RegExp Object Error".split(" ");return t.forEach(function(t){e["[object "+t+"]"]=t.toLowerCase()}),e},type:function(e){return null==e?e+"":"object"===("undefined"==typeof e?"undefined":t(e))||"function"==typeof e?r[s.call(e)]||"object":"undefined"==typeof e?"undefined":t(e)}};l.eachVarType(r),n.isFunction=function(e){return"function"===l.type(e)},n.isArray=function(e){return"array"===l.type(e)},n.isString=function(e){return"string"===l.type(e)},n.getId=function(e){return document.getElementById(e)},n.getClass=function(e){return document.getElementsByClassName(e)},n.namespace=function(e){function t(e){var t=e.split("."),a=n;for(var r in t)a[t[r]]||(a[t[r]]={}),a=a[t[r]];return a}if(n.isString(e))return t(e);if(n.isFunction(e)){var a=e.call(this);if(n.isString(a))return t(a);throw"必须返回一个有效的字符串。"}throw"not strings in "},n.addClass=function(e,t){var a,r,s,l,c,u,d=0,p=e.length||1;n.isFunction(t)&&(t=t.call(this,e.className));var f="string"==typeof t&&t;if(f)for(a=(t||"").match(o)||[];d<p;d++)if(r=e[d]||e,s=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(i," "):" ")){for(c=0;l=a[c++];)s.indexOf(" "+l+" ")<0&&(s+=l+" ");u=s.trim(),r.className!==u&&(r.className=u)}return this},n.removeClass=function(e,t){var a,r,s,l,c,u,d=0,p=e.length||1;n.isFunction(t)&&(t=t.call(this,e.className));var f="undefined"==typeof t||"string"==typeof t&&t;if(f)for(a=(t||"").match(o)||[];d<p;d++)if(r=e[d]||e,s=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(i," "):"")){for(c=0;l=a[c++];)for(;s.indexOf(" "+l+" ")>=0;)s=s.replace(" "+l+" "," ");u=t?s.trim():"",r.className!==u&&(r.className=u)}return this},n.Modal=function(){var e=null,t=function(e){this.settings={},this.init(e)};return t.method("init",function(t){if(!e){e=this;var a={width:"350",height:"600",title:"提示",titlePostion:"center",content:"",autoClose:!0,closeBtn:!1,closeCallback:null,cancel:!1,cancelCallback:null,cancelText:"关闭",ok:!0,okText:"确定",okCallback:null,maskClose:!1,init:null};n.isString(t)&&(t={content:t}),this.settings=$.extend(!0,a,t||{}),this.render(this.settings)}}),t.method("render",function(e){var t=this,a=null;this.createDom(e),a=$(".modal-body"),a.on("click",".modal-close",function(a){e.closeCallback&&e.closeCallback(t.destroy,$("#modal-content")),t.destroy()}),a.on("click",".modal-ok",function(a){e.okCallback&&e.okCallback(t.destroy,$("#modal-content"),{hideOkBtn:t.hideOkBtn,showCancelBtn:t.showCancelBtn.bind(t)}),t.settings.autoClose&&t.destroy()}),a.on("click",".modal-cancel",function(a){e.cancelCallback&&e.cancelCallback(t.destroy,$("#modal-content")),t.settings.autoClose&&t.destroy()}),$("body").on("click","#modal-mask",function(){if(e.maskClose){if(!t.settings.autoClose)return;t.destroy()}})}),t.method("createDom",function(e){var t='<div class="modal-mask" id="modal-mask" style="position: fixed;width: 100%;height: 100%;top: 0; left: 0;z-index: 1000;background: rgba(0,0,0,0.4);"></div>',a='<div id="modal-body" class="modal-body" style="position: fixed;padding-bottom: 20px;width: '+e.width+"px;max-height: "+e.height+'px;top: 50%;left: 50%;-webkit-transform: translate(-50%,-50%);-moz-transform: translate(-50%,-50%);-ms-transform: translate(-50%,-50%);-o-transform: translate(-50%,-50%);transform: translate(-50%,-50%);overflow: hidden;background: #fff;z-index: 1001;"><h4 class="modal-title" style="position: relative;margin: 0;padding-left: 20px;border-top: 4px solid #38b7f6;line-height: 42px;font-size: 14px;border-bottom: 1px solid #d0d0d0;">'+e.title+'<i id="modal-close" class="modal-close" style="display: '+(e.closeBtn?"inline-block":"none")+';position: absolute;top: 3px;right: 3px;width: 20px;height: 20px;line-height: 16px;text-align: center;border-radius: 50%;font-style: normal;cursor: pointer">x</i></h4><div class="modal-content" id="modal-content" style="width: 96%;padding: 20px;color: #666;overflow: auto;word-break: break-all;">'+e.content+'</div><div class="modal-btn-group" style="text-align: center; padding: 0;"><button id="modal-ok" class="modal-ok btn btn-warning" style="display: '+(e.ok?"inline-block":"none")+';width: 106px;height: 32px;border: 1px solid #38b7f6;margin: 0 5px; margin: 0 20px; font-size: 14px; color:#fff;background-color: #38b7f6;">'+e.okText+'</button><button id="modal-cancel" class="modal-cancel btn btn-warning" style="display: '+(e.cancel?"inline-block":"none")+'; width: 106px;height: 32px;border: 1px solid #38b7f6; margin: 0 5px; margin: 0 20px; font-size: 14px; color: #38b7f6;background-color: #fff;">'+e.cancelText+"</button></div></div>";$("body").append(t).append(a),e.init&&e.init()}),t.method("destroy",function(){$(".modal-body, .modal-close, .modal-ok, .modal-cancel").off(),$(".modal-mask").remove(),$(".modal-body").remove(),e=null}),t.method("hideOkBtn",function(){$(".modal-ok").hide()}),t.method("showCancelBtn",function(){this.settings.autoClose=!0,$(".modal-cancel").show()}),function(e){if(!e)throw"error: 没有传参数。";return new t(e)}}(),n.isPhone=function(e){var t=/^1[0-9]{10}$/;return t.test(e)},n.isEmail=function(e){var t=/^[^\[\]\(\)\\<>:;,@.]+[^\[\]\(\)\\<>:;,@]*@[a-z0-9A-Z]+(([.]?[a-z0-9A-Z]+)*[-]*)*[.]([a-z0-9A-Z]+[-]*)+$/g;return t.test(e)},n.isFloat=function(e){var t=/^((0|[1-9][0-9]*)(\.[0-9]{0,2})?)$/;return t.test(e)},n.isNumber=function(e,t){var a=0==t?/^(0|[1-9][0-9]*)$/:/^([1-9][0-9]*)$/;return a.test(e)},n.priceSwitch=function(e){var t=e||0==e?e/100:0;return t},n.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},n.Date=function(){var e=new Date;return{getFullYear:function(){return e.getFullYear()},getMonth:function(){var t=e.getMonth()+1;return t<10&&(t="0"+t),t},getCodeMonth:function(){return e.getMonth()+1},getDate:function(){var t=e.getDate();return t<10&&(t="0"+t),t},getCodeDate:function(){return e.getDate()}}}(),n.GetDateStr=function(e){var t=new Date;t.setDate(t.getDate()+e);var a=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n<10&&(n="0"+n),r<10&&(r="0"+r);var s={time1:a+"-"+n+"-"+r,time2:n+"月"+r+"日",time3:t.getTime()};return s},n.getSouroundDate=function(e){var t=n.Date.getCodeDate(),a=n.Date.getCodeMonth(),r=n.Date.getFullYear(),s=n.Date.getMonth(),o=Number(t)-Math.min(e,14);if(o>=10){if(0===a)return r+"-01-01";if(2===a)return r%4==0&&r%100!=0||r%400==0?o>=30&&(a+=1,o="01"):o>=29&&(a+=1,o="01"),r+"-0"+a+"-"+o;if(a%2===1&&a<8)return o>=32&&(a+=1,o="01"),r+"-0"+a+"-"+o;if(a%2===1&&a>8){if(o>=31&&(a+=1,o="01"),9===a)return r+"-0"+a+"-"+o;if(11===a)return r+"-"+a+"-"+o}else{if(a%2===0&&a<8)return o>=31&&(a+=1,o="01"),r+"-0"+a+"-"+o;if(a%2===0&&a>=8)return o>=32&&(a+=1,a>=13&&(a="01",r+=1),o="01"),8===a?r+"-0"+a+"-"+o:r+"-"+a+"-"+o}}else{if(o<10&&o>0)return r+"-"+s+"-0"+o;if(o<=0){if(a-=1,o=Math.abs(o),a=0)return r+"-01-01";if(a=2)return o=29-o,r+"-0"+a+"-"+o;if(a%2===1&&a<8)return console.log(o),o=31-o,r+"-0"+a+"-"+o;if(a%2===1&&a>8)return o=30-o,9===a?r+"-0"+a+"-"+o:r+"-"+a+"-"+o;if(a%2===0&&a<8)return o=30-o,r+"-0"+a+"-"+o;if(a%2===0&&a>=8)return o=31-o,8===a?r+"-0"+a+"-"+o:r+"-"+a+"-"+o}}},n.getLadingCode=function(e,t,a){var n=[];a||(a="");for(var r=0;r<e.length;r++)for(var s=0;s<t.length;s++)r==t[s]&&n.push(e[r]<10?"0"+e[r]:e[r]);return n.join(a)},n.objKeySort=function(e){for(var t=Object.keys(e).sort(function(e,t){return t-e}),a={},n=0;n<t.length;n++)a[t[n]]=e[t[n]];return a},n.overdue=function(){this.Modal({content:"登录已过期，请重新登录",okCallback:function(){e.location.href="/"}})},n.Calendar={_today:new Date,_date:(new Date).getDate(),_day:(new Date).getDay(),_month:(new Date).getMonth()+1,_year:(new Date).getFullYear(),setDate:function(){this._date=new Date(this._today).getDate()},setDay:function(){this._day=new Date(this._today).getDay()},setMonth:function(){this._month=new Date(this._today).getMonth()+1},setYear:function(){this._year=new Date(this._today).getFullYear()},init:function(e){this._today=new Date(e),this.setDate(),this.setDay(),this.setMonth(),this.setYear()},isLeap:function(){var e=this._year;return e%4==0&&e%100>0||e%400==0&&e%3200>0},getLen:function(){return 2==this._month?this.isLeap()?29:28:this._month<8?this._month%2>0?31:30:this._month%2>0?30:31},getCalendar:function(e){for(var t=this.getLen(),a=new Date(this._year,this._month-1,1),n=a.getDay(),r=new Array,s=0,o="",i=0;i<6;i++){r[i]=new Array;for(var l=0;l<7;l++)s++,s-n>0&&s-n<=t?r[i][l]=s-n:r[i][l]=""}o+='<table class="sign_tab" border="0px" cellpadding="0px" cellspacing="0px">',o+="<thread><tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr></thread>",o+="<tbody>";for(var c=0;c<6;c++)if(5!=c||""!=r[c][0]){o+="<tr>";for(var u=0;u<r[c].length;u++)if(this.contains(e,r[c][u]))o+='<td class="red_tbg" data-num="'+r[c][u]+'">'+r[c][u]+'<span class="tbg_num"></span></td>';else{if(r[c][u]==this._date){o+='<td class="cur_day">'+r[c][u]+"</td>";continue}if(""==r[c][u]){o+='<td class="over">'+r[c][u]+"</td>";continue}o+="<td>"+r[c][u]+"</td>"}o+="</tr>"}return o+="</tbody>",o+="</table>"},nextMonth:function(){return 12==this._month&&(this._year++,this._month=0),this._month++,{year:this._year,month:this._month<10?"0"+this._month:this._month}},nextYear:function(){this._year++},previousMonth:function(){return 1==this._month&&(this._year--,this._month=13),this._month--,{year:this._year,month:this._month<10?"0"+this._month:this._month}},previousYear:function(){this._year--},contains:function(e,t){for(var a=0;a<e.length;a++)if(e[a]==t)return!0;return!1}},n.getUrlParam=function(t){var a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=e.location.search.substr(1).match(a);return null!=n?unescape(n[2]):null},n.cookie=function(){function e(e,t,a){var n=new Date;n.setTime(n.getTime()+60*a*60*1e3),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()}function t(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?unescape(t[2]):null}return{setCookie:e,getCookie:t}}(),n.cdn="http://img.idongpin.com/",e.H=n})}).call(t,a(43)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);